const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c4Diagram-c83219d4-CZuW-l8y.js","assets/svgDrawCommon-b86b1483-DlR4oa5x.js","assets/flowDiagram-50d868cf-CdQ9T3PM.js","assets/flowDb-c6c81e3f-Dcsl1bd6.js","assets/graph-DcON4XL_.js","assets/layout-vzgQm-Hm.js","assets/styles-d45a18b0-Df2C_JR5.js","assets/index-5325376f-DkC7OIFB.js","assets/clone-xrvk20wX.js","assets/edges-96097737-BaaNuUlo.js","assets/createText-1719965b-DChXyqyx.js","assets/line-Bh85ZMTg.js","assets/array-BKyUJesY.js","assets/path-CbwjOpE9.js","assets/channel-B6kg6bS_.js","assets/flowDiagram-v2-4f6560a1-BEWehIut.js","assets/erDiagram-0228fc6a-yOa5w4cs.js","assets/ganttDiagram-a2739b55-DyWhMfVW.js","assets/linear-BRpQQmLi.js","assets/init-Gi6I4Gst.js","assets/pieDiagram-a8764435-DEEaeLfs.js","assets/arc-BLfRCIQH.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-1e28029f-DarxN0qB.js","assets/xychartDiagram-f5964ef8-Iw-1pcc6.js","assets/requirementDiagram-08caed73-CjQR5MhC.js","assets/sequenceDiagram-c5b8d532-vctn6MZX.js","assets/classDiagram-beda092f-jqQi3Gso.js","assets/styles-b4e223ce-DzSCsZbC.js","assets/classDiagram-v2-2358418a-A9KpsZRa.js","assets/stateDiagram-1ecb1508-DwVGL_RJ.js","assets/styles-ca3715f6-BHXUlPmg.js","assets/stateDiagram-v2-c2b004d7-DKfDD4Db.js","assets/journeyDiagram-c64418c1-B5ng85v-.js","assets/flowchart-elk-definition-6af322e1-MZGntGnF.js","assets/timeline-definition-faaaa080-FG2aVTN4.js","assets/mindmap-definition-8da855dc-De5myZSt.js","assets/sankeyDiagram-a04cb91d-BOyDnJJX.js","assets/Tableau10-B-NsZVaP.js","assets/blockDiagram-c4efeb88-D-QEI9xE.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lb={exports:{}},dd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=Symbol.for("react.transitional.element"),yE=Symbol.for("react.fragment");function Db(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:gE,type:e,key:i,ref:t!==void 0?t:null,props:n}}dd.Fragment=yE;dd.jsx=Db;dd.jsxs=Db;Lb.exports=dd;var u=Lb.exports,Bb={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=Symbol.for("react.transitional.element"),vE=Symbol.for("react.portal"),xE=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),CE=Symbol.for("react.consumer"),SE=Symbol.for("react.context"),TE=Symbol.for("react.forward_ref"),wE=Symbol.for("react.suspense"),EE=Symbol.for("react.memo"),Fb=Symbol.for("react.lazy"),AE=Symbol.for("react.activity"),Zg=Symbol.iterator;function NE(e){return e===null||typeof e!="object"?null:(e=Zg&&e[Zg]||e["@@iterator"],typeof e=="function"?e:null)}var Ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ub=Object.assign,Pb={};function Ya(e,t,n){this.props=e,this.context=t,this.refs=Pb,this.updater=n||Ob}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ya.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zb(){}zb.prototype=Ya.prototype;function Xp(e,t,n){this.props=e,this.context=t,this.refs=Pb,this.updater=n||Ob}var Zp=Xp.prototype=new zb;Zp.constructor=Xp;Ub(Zp,Ya.prototype);Zp.isPureReactComponent=!0;var Qg=Array.isArray;function hh(){}var ft={H:null,A:null,T:null,S:null},jb=Object.prototype.hasOwnProperty;function Qp(e,t,n){var i=n.ref;return{$$typeof:Kp,type:e,key:t,ref:i!==void 0?i:null,props:n}}function kE(e,t){return Qp(e.type,t,e.props)}function em(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kp}function RE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var e0=/\/+/g;function lf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RE(""+e.key):t.toString(36)}function IE(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(hh,hh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Go(e,t,n,i,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Kp:case vE:a=!0;break;case Fb:return a=e._init,Go(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+lf(e,0):i,Qg(r)?(n="",a!=null&&(n=a.replace(e0,"$&/")+"/"),Go(r,t,n,"",function(c){return c})):r!=null&&(em(r)&&(r=kE(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(e0,"$&/")+"/")+a)),t.push(r)),1;a=0;var s=i===""?".":i+":";if(Qg(e))for(var l=0;l<e.length;l++)i=e[l],o=s+lf(i,l),a+=Go(i,t,n,o,r);else if(l=NE(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,o=s+lf(i,l++),a+=Go(i,t,n,o,r);else if(o==="object"){if(typeof e.then=="function")return Go(IE(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function nc(e,t,n){if(e==null)return e;var i=[],r=0;return Go(e,i,"","",function(o){return t.call(n,o,r++)}),i}function ME(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var t0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},LE={map:nc,forEach:function(e,t,n){nc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nc(e,function(){t++}),t},toArray:function(e){return nc(e,function(t){return t})||[]},only:function(e){if(!em(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Activity=AE;Fe.Children=LE;Fe.Component=Ya;Fe.Fragment=xE;Fe.Profiler=_E;Fe.PureComponent=Xp;Fe.StrictMode=bE;Fe.Suspense=wE;Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft;Fe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ft.H.useMemoCache(e)}};Fe.cache=function(e){return function(){return e.apply(null,arguments)}};Fe.cacheSignal=function(){return null};Fe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Ub({},e.props),r=e.key;if(t!=null)for(o in t.key!==void 0&&(r=""+t.key),t)!jb.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(i[o]=t[o]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];i.children=a}return Qp(e.type,r,i)};Fe.createContext=function(e){return e={$$typeof:SE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:CE,_context:e},e};Fe.createElement=function(e,t,n){var i,r={},o=null;if(t!=null)for(i in t.key!==void 0&&(o=""+t.key),t)jb.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Qp(e,o,r)};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:TE,render:e}};Fe.isValidElement=em;Fe.lazy=function(e){return{$$typeof:Fb,_payload:{_status:-1,_result:e},_init:ME}};Fe.memo=function(e,t){return{$$typeof:EE,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=ft.T,n={};ft.T=n;try{var i=e(),r=ft.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(hh,t0)}catch(o){t0(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),ft.T=t}};Fe.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()};Fe.use=function(e){return ft.H.use(e)};Fe.useActionState=function(e,t,n){return ft.H.useActionState(e,t,n)};Fe.useCallback=function(e,t){return ft.H.useCallback(e,t)};Fe.useContext=function(e){return ft.H.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e,t){return ft.H.useDeferredValue(e,t)};Fe.useEffect=function(e,t){return ft.H.useEffect(e,t)};Fe.useEffectEvent=function(e){return ft.H.useEffectEvent(e)};Fe.useId=function(){return ft.H.useId()};Fe.useImperativeHandle=function(e,t,n){return ft.H.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return ft.H.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return ft.H.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return ft.H.useMemo(e,t)};Fe.useOptimistic=function(e,t){return ft.H.useOptimistic(e,t)};Fe.useReducer=function(e,t,n){return ft.H.useReducer(e,t,n)};Fe.useRef=function(e){return ft.H.useRef(e)};Fe.useState=function(e){return ft.H.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return ft.H.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return ft.H.useTransition()};Fe.version="19.2.3";Bb.exports=Fe;var Q=Bb.exports;const tm=Rl(Q);var Hb={exports:{}},fd={},$b={exports:{}},qb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,U){var J=B.length;B.push(U);e:for(;0<J;){var z=J-1>>>1,Z=B[z];if(0<r(Z,U))B[z]=U,B[J]=Z,J=z;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var U=B[0],J=B.pop();if(J!==U){B[0]=J;e:for(var z=0,Z=B.length,$=Z>>>1;z<$;){var V=2*(z+1)-1,oe=B[V],ae=V+1,re=B[ae];if(0>r(oe,J))ae<Z&&0>r(re,oe)?(B[z]=re,B[ae]=J,z=ae):(B[z]=oe,B[V]=J,z=V);else if(ae<Z&&0>r(re,J))B[z]=re,B[ae]=J,z=ae;else break e}}return U}function r(B,U){var J=B.sortIndex-U.sortIndex;return J!==0?J:B.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],f=1,m=null,p=3,g=!1,b=!1,x=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=B)i(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function A(B){if(x=!1,T(B),!b)if(n(l)!==null)b=!0,I||(I=!0,D());else{var U=n(c);U!==null&&O(A,U.startTime-B)}}var I=!1,N=-1,P=5,M=-1;function q(){return C?!0:!(e.unstable_now()-M<P)}function X(){if(C=!1,I){var B=e.unstable_now();M=B;var U=!0;try{e:{b=!1,x&&(x=!1,y(N),N=-1),g=!0;var J=p;try{t:{for(T(B),m=n(l);m!==null&&!(m.expirationTime>B&&q());){var z=m.callback;if(typeof z=="function"){m.callback=null,p=m.priorityLevel;var Z=z(m.expirationTime<=B);if(B=e.unstable_now(),typeof Z=="function"){m.callback=Z,T(B),U=!0;break t}m===n(l)&&i(l),T(B)}else i(l);m=n(l)}if(m!==null)U=!0;else{var $=n(c);$!==null&&O(A,$.startTime-B),U=!1}}break e}finally{m=null,p=J,g=!1}U=void 0}}finally{U?D():I=!1}}}var D;if(typeof _=="function")D=function(){_(X)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,S=Y.port2;Y.port1.onmessage=X,D=function(){S.postMessage(null)}}else D=function(){v(X,0)};function O(B,U){N=v(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var J=p;p=U;try{return B()}finally{p=J}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=p;p=B;try{return U()}finally{p=J}},e.unstable_scheduleCallback=function(B,U,J){var z=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?z+J:z):J=z,B){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,B={id:f++,callback:U,priorityLevel:B,startTime:J,expirationTime:Z,sortIndex:-1},J>z?(B.sortIndex=J,t(c,B),n(l)===null&&B===n(c)&&(x?(y(N),N=-1):x=!0,O(A,J-z))):(B.sortIndex=Z,t(l,B),b||g||(b=!0,I||(I=!0,D()))),B},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(B){var U=p;return function(){var J=p;p=U;try{return B.apply(this,arguments)}finally{p=J}}}})(qb);$b.exports=qb;var DE=$b.exports,Gb={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=Q;function Vb(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Cr(){}var un={d:{f:Cr,r:function(){throw Error(Vb(522))},D:Cr,C:Cr,L:Cr,m:Cr,X:Cr,S:Cr,M:Cr},p:0,findDOMNode:null},FE=Symbol.for("react.portal");function OE(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:FE,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var js=BE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function hd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=un;mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Vb(299));return OE(e,t,null,n)};mn.flushSync=function(e){var t=js.T,n=un.p;try{if(js.T=null,un.p=2,e)return e()}finally{js.T=t,un.p=n,un.d.f()}};mn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,un.d.C(e,t))};mn.prefetchDNS=function(e){typeof e=="string"&&un.d.D(e)};mn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=hd(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?un.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):n==="script"&&un.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};mn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=hd(t.as,t.crossOrigin);un.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&un.d.M(e)};mn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=hd(n,t.crossOrigin);un.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};mn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=hd(t.as,t.crossOrigin);un.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else un.d.m(e)};mn.requestFormReset=function(e){un.d.r(e)};mn.unstable_batchedUpdates=function(e,t){return e(t)};mn.useFormState=function(e,t,n){return js.H.useFormState(e,t,n)};mn.useFormStatus=function(){return js.H.useHostTransitionStatus()};mn.version="19.2.3";function Yb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yb)}catch(e){console.error(e)}}Yb(),Gb.exports=mn;var nm=Gb.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=DE,Wb=Q,UE=nm;function se(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Jb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xb(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function n0(e){if(Il(e)!==e)throw Error(se(188))}function PE(e){var t=e.alternate;if(!t){if(t=Il(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return n0(r),e;if(o===i)return n0(r),t;o=o.sibling}throw Error(se(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,s=r.child;s;){if(s===n){a=!0,n=r,i=o;break}if(s===i){a=!0,i=r,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,i=r;break}if(s===i){a=!0,i=o,n=r;break}s=s.sibling}if(!a)throw Error(se(189))}}if(n.alternate!==i)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function Zb(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Zb(e),t!==null)return t;e=e.sibling}return null}var ht=Object.assign,zE=Symbol.for("react.element"),ic=Symbol.for("react.transitional.element"),Is=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),ph=Symbol.for("react.profiler"),e_=Symbol.for("react.consumer"),er=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),yh=Symbol.for("react.activity"),jE=Symbol.for("react.memo_cache_sentinel"),i0=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=i0&&e[i0]||e["@@iterator"],typeof e=="function"?e:null)}var HE=Symbol.for("react.client.reference");function vh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===HE?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jo:return"Fragment";case ph:return"Profiler";case Qb:return"StrictMode";case mh:return"Suspense";case gh:return"SuspenseList";case yh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Is:return"Portal";case er:return e.displayName||"Context";case e_:return(e._context.displayName||"Context")+".Consumer";case im:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rm:return t=e.displayName||null,t!==null?t:vh(e.type)||"Memo";case Tr:t=e._payload,e=e._init;try{return vh(e(t))}catch{}}return null}var Ms=Array.isArray,Le=Wb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,We=UE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,go={pending:!1,data:null,method:null,action:null},xh=[],Ko=-1;function Oi(e){return{current:e}}function $t(e){0>Ko||(e.current=xh[Ko],xh[Ko]=null,Ko--)}function st(e,t){Ko++,xh[Ko]=e.current,e.current=t}var Mi=Oi(null),sl=Oi(null),Or=Oi(null),su=Oi(null);function lu(e,t){switch(st(Or,t),st(sl,e),st(Mi,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cy(t),e=bC(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$t(Mi),st(Mi,e)}function wa(){$t(Mi),$t(sl),$t(Or)}function bh(e){e.memoizedState!==null&&st(su,e);var t=Mi.current,n=bC(t,e.type);t!==n&&(st(sl,e),st(Mi,n))}function cu(e){sl.current===e&&($t(Mi),$t(sl)),su.current===e&&($t(su),vl._currentValue=go)}var cf,r0;function so(e){if(cf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cf=t&&t[1]||"",r0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cf+e+r0}var uf=!1;function df(e,t){if(!e||uf)return"";uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var p=g}Reflect.construct(e,[],m)}else{try{m.call()}catch(g){p=g}e.call(m.prototype)}}else{try{throw Error()}catch(g){p=g}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split(`
`),c=s.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var f=`
`+l[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=r);break}}}finally{uf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?so(n):""}function $E(e,t){switch(e.tag){case 26:case 27:case 5:return so(e.type);case 16:return so("Lazy");case 13:return e.child!==t&&t!==null?so("Suspense Fallback"):so("Suspense");case 19:return so("SuspenseList");case 0:case 15:return df(e.type,!1);case 11:return df(e.type.render,!1);case 1:return df(e.type,!0);case 31:return so("Activity");default:return""}}function o0(e){try{var t="",n=null;do t+=$E(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var _h=Object.prototype.hasOwnProperty,om=Ut.unstable_scheduleCallback,ff=Ut.unstable_cancelCallback,qE=Ut.unstable_shouldYield,GE=Ut.unstable_requestPaint,On=Ut.unstable_now,VE=Ut.unstable_getCurrentPriorityLevel,t_=Ut.unstable_ImmediatePriority,n_=Ut.unstable_UserBlockingPriority,uu=Ut.unstable_NormalPriority,YE=Ut.unstable_LowPriority,i_=Ut.unstable_IdlePriority,WE=Ut.log,JE=Ut.unstable_setDisableYieldValue,Ml=null,Un=null;function Ir(e){if(typeof WE=="function"&&JE(e),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(Ml,e)}catch{}}var Pn=Math.clz32?Math.clz32:ZE,KE=Math.log,XE=Math.LN2;function ZE(e){return e>>>=0,e===0?32:31-(KE(e)/XE|0)|0}var rc=256,oc=262144,ac=4194304;function lo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pd(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=i&134217727;return s!==0?(i=s&~o,i!==0?r=lo(i):(a&=s,a!==0?r=lo(a):n||(n=s&~e,n!==0&&(r=lo(n))))):(s=i&~o,s!==0?r=lo(s):a!==0?r=lo(a):n||(n=i&~e,n!==0&&(r=lo(n)))),r===0?0:t!==0&&t!==r&&!(t&o)&&(o=r&-r,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:r}function Ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function QE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r_(){var e=ac;return ac<<=1,!(ac&62914560)&&(ac=4194304),e}function hf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function e2(e,t,n,i,r,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Pn(n),m=1<<f;s[f]=0,l[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var g=p[f];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&o_(e,i,0),o!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=o&~(a&~t))}function o_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Pn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function a_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Pn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function s_(e,t){var n=t&-t;return n=n&42?1:am(n),n&(e.suspendedLanes|t)?0:n}function am(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sm(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function l_(){var e=We.p;return e!==0?e:(e=window.event,e===void 0?32:IC(e.type))}function a0(e,t){var n=We.p;try{return We.p=e,t()}finally{We.p=n}}var Qr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Qr,En="__reactProps$"+Qr,Wa="__reactContainer$"+Qr,Ch="__reactEvents$"+Qr,t2="__reactListeners$"+Qr,n2="__reactHandles$"+Qr,s0="__reactResources$"+Qr,Bl="__reactMarker$"+Qr;function lm(e){delete e[Kt],delete e[En],delete e[Ch],delete e[t2],delete e[n2]}function Xo(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wa]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=py(e);e!==null;){if(n=e[Kt])return n;e=py(e)}return t}e=n,n=e.parentNode}return null}function Ja(e){if(e=e[Kt]||e[Wa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(se(33))}function da(e){var t=e[s0];return t||(t=e[s0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ht(e){e[Bl]=!0}var c_=new Set,u_={};function Io(e,t){Ea(e,t),Ea(e+"Capture",t)}function Ea(e,t){for(u_[e]=t,e=0;e<t.length;e++)c_.add(t[e])}var i2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),l0={},c0={};function r2(e){return _h.call(c0,e)?!0:_h.call(l0,e)?!1:i2.test(e)?c0[e]=!0:(l0[e]=!0,!1)}function Lc(e,t,n){if(r2(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $i(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Jn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o2(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sh(e){if(!e._valueTracker){var t=d_(e)?"checked":"value";e._valueTracker=o2(e,t,""+e[t])}}function f_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=d_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function du(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a2=/[\n"\\]/g;function Zn(e){return e.replace(a2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Th(e,t,n,i,r,o,a,s){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Jn(t)):e.value!==""+Jn(t)&&(e.value=""+Jn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?wh(e,a,Jn(t)):n!=null?wh(e,a,Jn(n)):i!=null&&e.removeAttribute("value"),r==null&&o!=null&&(e.defaultChecked=!!o),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Jn(s):e.removeAttribute("name")}function h_(e,t,n,i,r,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Sh(e);return}n=n!=null?""+Jn(n):"",t=t!=null?""+Jn(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=s?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Sh(e)}function wh(e,t,n){t==="number"&&du(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function fa(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function p_(e,t,n){if(t!=null&&(t=""+Jn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Jn(n):""}function m_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(se(92));if(Ms(i)){if(1<i.length)throw Error(se(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Jn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Sh(e)}function Aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u0(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||s2.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function g_(e,t,n){if(t!=null&&typeof t!="object")throw Error(se(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&u0(e,r,i)}else for(var o in t)t.hasOwnProperty(o)&&u0(e,o,t[o])}function cm(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dc(e){return c2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tr(){}var Eh=null;function um(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zo=null,ha=null;function d0(e){var t=Ja(e);if(t&&(e=t.stateNode)){var n=e[En]||null;e:switch(e=t.stateNode,t.type){case"input":if(Th(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Zn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[En]||null;if(!r)throw Error(se(90));Th(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&f_(i)}break e;case"textarea":p_(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&fa(e,!!n.multiple,t,!1)}}}var pf=!1;function y_(e,t,n){if(pf)return e(t,n);pf=!0;try{var i=e(t);return i}finally{if(pf=!1,(Zo!==null||ha!==null)&&(Ed(),Zo&&(t=Zo,e=ha,ha=Zo=null,d0(t),e)))for(t=0;t<e.length;t++)d0(e[t])}}function ll(e,t){var n=e.stateNode;if(n===null)return null;var i=n[En]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=!1;if(cr)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Ah=!1}var Mr=null,dm=null,Bc=null;function v_(){if(Bc)return Bc;var e,t=dm,n=t.length,i,r="value"in Mr?Mr.value:Mr.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[o-i];i++);return Bc=r.slice(e,1<i?1-i:void 0)}function Fc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lc(){return!0}function f0(){return!1}function An(e){function t(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?lc:f0,this.isPropagationStopped=f0,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),t}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},md=An(Mo),Fl=ht({},Mo,{view:0,detail:0}),u2=An(Fl),mf,gf,hs,gd=ht({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(mf=e.screenX-hs.screenX,gf=e.screenY-hs.screenY):gf=mf=0,hs=e),mf)},movementY:function(e){return"movementY"in e?e.movementY:gf}}),h0=An(gd),d2=ht({},gd,{dataTransfer:0}),f2=An(d2),h2=ht({},Fl,{relatedTarget:0}),yf=An(h2),p2=ht({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),m2=An(p2),g2=ht({},Mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y2=An(g2),v2=ht({},Mo,{data:0}),p0=An(v2),x2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_2[e])?!!t[e]:!1}function fm(){return C2}var S2=ht({},Fl,{key:function(e){if(e.key){var t=x2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(e){return e.type==="keypress"?Fc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T2=An(S2),w2=ht({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m0=An(w2),E2=ht({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),A2=An(E2),N2=ht({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),k2=An(N2),R2=ht({},gd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I2=An(R2),M2=ht({},Mo,{newState:0,oldState:0}),L2=An(M2),D2=[9,13,27,32],hm=cr&&"CompositionEvent"in window,Hs=null;cr&&"documentMode"in document&&(Hs=document.documentMode);var B2=cr&&"TextEvent"in window&&!Hs,x_=cr&&(!hm||Hs&&8<Hs&&11>=Hs),g0=" ",y0=!1;function b_(e,t){switch(e){case"keyup":return D2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function __(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qo=!1;function F2(e,t){switch(e){case"compositionend":return __(t);case"keypress":return t.which!==32?null:(y0=!0,g0);case"textInput":return e=t.data,e===g0&&y0?null:e;default:return null}}function O2(e,t){if(Qo)return e==="compositionend"||!hm&&b_(e,t)?(e=v_(),Bc=dm=Mr=null,Qo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x_&&t.locale!=="ko"?null:t.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U2[e.type]:t==="textarea"}function C_(e,t,n,i){Zo?ha?ha.push(i):ha=[i]:Zo=i,t=ku(t,"onChange"),0<t.length&&(n=new md("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var $s=null,cl=null;function P2(e){yC(e,0)}function yd(e){var t=Ls(e);if(f_(t))return e}function x0(e,t){if(e==="change")return t}var S_=!1;if(cr){var vf;if(cr){var xf="oninput"in document;if(!xf){var b0=document.createElement("div");b0.setAttribute("oninput","return;"),xf=typeof b0.oninput=="function"}vf=xf}else vf=!1;S_=vf&&(!document.documentMode||9<document.documentMode)}function _0(){$s&&($s.detachEvent("onpropertychange",T_),cl=$s=null)}function T_(e){if(e.propertyName==="value"&&yd(cl)){var t=[];C_(t,cl,e,um(e)),y_(P2,t)}}function z2(e,t,n){e==="focusin"?(_0(),$s=t,cl=n,$s.attachEvent("onpropertychange",T_)):e==="focusout"&&_0()}function j2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yd(cl)}function H2(e,t){if(e==="click")return yd(t)}function $2(e,t){if(e==="input"||e==="change")return yd(t)}function q2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:q2;function ul(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!_h.call(t,r)||!$n(e[r],t[r]))return!1}return!0}function C0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S0(e,t){var n=C0(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C0(n)}}function w_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=du(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=du(e.document)}return t}function pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var G2=cr&&"documentMode"in document&&11>=document.documentMode,ea=null,Nh=null,qs=null,kh=!1;function T0(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kh||ea==null||ea!==du(i)||(i=ea,"selectionStart"in i&&pm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qs&&ul(qs,i)||(qs=i,i=ku(Nh,"onSelect"),0<i.length&&(t=new md("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ea)))}function ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ta={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},bf={},A_={};cr&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Lo(e){if(bf[e])return bf[e];if(!ta[e])return e;var t=ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in A_)return bf[e]=t[n];return e}var N_=Lo("animationend"),k_=Lo("animationiteration"),R_=Lo("animationstart"),V2=Lo("transitionrun"),Y2=Lo("transitionstart"),W2=Lo("transitioncancel"),I_=Lo("transitionend"),M_=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function xi(e,t){M_.set(e,t),Io(t,[e])}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yn=[],na=0,mm=0;function vd(){for(var e=na,t=mm=na=0;t<e;){var n=Yn[t];Yn[t++]=null;var i=Yn[t];Yn[t++]=null;var r=Yn[t];Yn[t++]=null;var o=Yn[t];if(Yn[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}o!==0&&L_(n,r,o)}}function xd(e,t,n,i){Yn[na++]=e,Yn[na++]=t,Yn[na++]=n,Yn[na++]=i,mm|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function gm(e,t,n,i){return xd(e,t,n,i),hu(e)}function Do(e,t){return xd(e,null,null,t),hu(e)}function L_(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(r=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,r&&t!==null&&(r=31-Pn(n),e=o.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),o):null}function hu(e){if(50<Qs)throw Qs=0,Xh=null,Error(se(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ia={};function J2(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,i){return new J2(e,t,n,i)}function ym(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function D_(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Oc(e,t,n,i,r,o){var a=0;if(i=e,typeof e=="function")ym(e)&&(a=1);else if(typeof e=="string")a=e5(e,n,Mi.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case yh:return e=Dn(31,n,t,r),e.elementType=yh,e.lanes=o,e;case Jo:return yo(n.children,r,o,t);case Qb:a=8,r|=24;break;case ph:return e=Dn(12,n,t,r|2),e.elementType=ph,e.lanes=o,e;case mh:return e=Dn(13,n,t,r),e.elementType=mh,e.lanes=o,e;case gh:return e=Dn(19,n,t,r),e.elementType=gh,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case er:a=10;break e;case e_:a=9;break e;case im:a=11;break e;case rm:a=14;break e;case Tr:a=16,i=null;break e}a=29,n=Error(se(130,e===null?"null":typeof e,"")),i=null}return t=Dn(a,n,t,r),t.elementType=e,t.type=i,t.lanes=o,t}function yo(e,t,n,i){return e=Dn(7,e,i,t),e.lanes=n,e}function _f(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function B_(e){var t=Dn(18,null,null,0);return t.stateNode=e,t}function Cf(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var w0=new WeakMap;function Qn(e,t){if(typeof e=="object"&&e!==null){var n=w0.get(e);return n!==void 0?n:(t={value:e,source:t,stack:o0(t)},w0.set(e,t),t)}return{value:e,source:t,stack:o0(t)}}var ra=[],oa=0,pu=null,dl=0,Kn=[],Xn=0,Yr=null,ki=1,Ri="";function Xi(e,t){ra[oa++]=dl,ra[oa++]=pu,pu=e,dl=t}function F_(e,t,n){Kn[Xn++]=ki,Kn[Xn++]=Ri,Kn[Xn++]=Yr,Yr=e;var i=ki;e=Ri;var r=32-Pn(i)-1;i&=~(1<<r),n+=1;var o=32-Pn(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ki=1<<32-Pn(t)+r|n<<r|i,Ri=o+e}else ki=1<<o|n<<r|i,Ri=e}function vm(e){e.return!==null&&(Xi(e,1),F_(e,1,0))}function xm(e){for(;e===pu;)pu=ra[--oa],ra[oa]=null,dl=ra[--oa],ra[oa]=null;for(;e===Yr;)Yr=Kn[--Xn],Kn[Xn]=null,Ri=Kn[--Xn],Kn[Xn]=null,ki=Kn[--Xn],Kn[Xn]=null}function O_(e,t){Kn[Xn++]=ki,Kn[Xn++]=Ri,Kn[Xn++]=Yr,ki=t.id,Ri=t.overflow,Yr=e}var Xt=null,dt=null,$e=!1,Ur=null,ei=!1,Ih=Error(se(519));function Wr(e){var t=Error(se(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Qn(t,e)),Ih}function E0(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Kt]=e,t[En]=i,n){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(n=0;n<gl.length;n++)ze(gl[n],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),h_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),m_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||xC(t.textContent,n)?(i.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),i.onScroll!=null&&ze("scroll",t),i.onScrollEnd!=null&&ze("scrollend",t),i.onClick!=null&&(t.onclick=tr),t=!0):t=!1,t||Wr(e,!0)}function A0(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Xt=Xt.return}}function Ho(e){if(e!==Xt)return!1;if(!$e)return A0(e),$e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||np(e.type,e.memoizedProps)),n=!n),n&&dt&&Wr(e),A0(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));dt=hy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));dt=hy(e)}else t===27?(t=dt,eo(e.type)?(e=ap,ap=null,dt=e):dt=t):dt=Xt?ni(e.stateNode.nextSibling):null;return!0}function So(){dt=Xt=null,$e=!1}function Sf(){var e=Ur;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Ur=null),e}function fl(e){Ur===null?Ur=[e]:Ur.push(e)}var Mh=Oi(null),Bo=null,nr=null;function Ar(e,t,n){st(Mh,t._currentValue),t._currentValue=n}function or(e){e._currentValue=Mh.current,$t(Mh)}function Lh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Dh(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){var a=r.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=r;for(var l=0;l<t.length;l++)if(s.context===t[l]){o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Lh(o.return,n,e),i||(a=null);break e}o=s.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(se(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Lh(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Ka(e,t,n,i){e=null;for(var r=t,o=!1;r!==null;){if(!o){if(r.flags&524288)o=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(se(387));if(a=a.memoizedProps,a!==null){var s=r.type;$n(r.pendingProps.value,a.value)||(e!==null?e.push(s):e=[s])}}else if(r===su.current){if(a=r.alternate,a===null)throw Error(se(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}r=r.return}e!==null&&Dh(t,e,n,i),t.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function To(e){Bo=e,nr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return U_(Bo,e)}function cc(e,t){return Bo===null&&To(e),U_(e,t)}function U_(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},nr===null){if(e===null)throw Error(se(308));nr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else nr=nr.next=t;return n}var K2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},X2=Ut.unstable_scheduleCallback,Z2=Ut.unstable_NormalPriority,Nt={$$typeof:er,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bm(){return{controller:new K2,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&X2(Z2,function(){e.controller.abort()})}var Gs=null,Bh=0,Na=0,pa=null;function Q2(e,t){if(Gs===null){var n=Gs=[];Bh=0,Na=Gm(),pa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Bh++,t.then(N0,N0),t}function N0(){if(--Bh===0&&Gs!==null){pa!==null&&(pa.status="fulfilled");var e=Gs;Gs=null,Na=0,pa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function eA(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var k0=Le.S;Le.S=function(e,t){Z1=On(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Q2(e,t),k0!==null&&k0(e,t)};var vo=Oi(null);function _m(){var e=vo.current;return e!==null?e:rt.pooledCache}function Uc(e,t){t===null?st(vo,vo.current):st(vo,t.pool)}function P_(){var e=_m();return e===null?null:{parent:Nt._currentValue,pool:e}}var Xa=Error(se(460)),Cm=Error(se(474)),bd=Error(se(542)),gu={then:function(){}};function R0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function z_(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tr,tr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,M0(e),e;default:if(typeof t.status=="string")t.then(tr,tr);else{if(e=rt,e!==null&&100<e.shellSuspendCounter)throw Error(se(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,M0(e),e}throw xo=t,Xa}}function co(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xo=n,Xa):n}}var xo=null;function I0(){if(xo===null)throw Error(se(459));var e=xo;return xo=null,e}function M0(e){if(e===Xa||e===bd)throw Error(se(483))}var ma=null,hl=0;function uc(e){var t=hl;return hl+=1,ma===null&&(ma=[]),z_(ma,e,t)}function ps(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dc(e,t){throw t.$$typeof===zE?Error(se(525)):(e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function j_(e){function t(v,y){if(e){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function i(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function r(v,y){return v=rr(v,y),v.index=0,v.sibling=null,v}function o(v,y,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=67108866,y):_):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function s(v,y,_,T){return y===null||y.tag!==6?(y=_f(_,v.mode,T),y.return=v,y):(y=r(y,_),y.return=v,y)}function l(v,y,_,T){var A=_.type;return A===Jo?f(v,y,_.props.children,T,_.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Tr&&co(A)===y.type)?(y=r(y,_.props),ps(y,_),y.return=v,y):(y=Oc(_.type,_.key,_.props,null,v.mode,T),ps(y,_),y.return=v,y)}function c(v,y,_,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Cf(_,v.mode,T),y.return=v,y):(y=r(y,_.children||[]),y.return=v,y)}function f(v,y,_,T,A){return y===null||y.tag!==7?(y=yo(_,v.mode,T,A),y.return=v,y):(y=r(y,_),y.return=v,y)}function m(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=_f(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ic:return _=Oc(y.type,y.key,y.props,null,v.mode,_),ps(_,y),_.return=v,_;case Is:return y=Cf(y,v.mode,_),y.return=v,y;case Tr:return y=co(y),m(v,y,_)}if(Ms(y)||ds(y))return y=yo(y,v.mode,_,null),y.return=v,y;if(typeof y.then=="function")return m(v,uc(y),_);if(y.$$typeof===er)return m(v,cc(v,y),_);dc(v,y)}return null}function p(v,y,_,T){var A=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return A!==null?null:s(v,y,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ic:return _.key===A?l(v,y,_,T):null;case Is:return _.key===A?c(v,y,_,T):null;case Tr:return _=co(_),p(v,y,_,T)}if(Ms(_)||ds(_))return A!==null?null:f(v,y,_,T,null);if(typeof _.then=="function")return p(v,y,uc(_),T);if(_.$$typeof===er)return p(v,y,cc(v,_),T);dc(v,_)}return null}function g(v,y,_,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return v=v.get(_)||null,s(y,v,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ic:return v=v.get(T.key===null?_:T.key)||null,l(y,v,T,A);case Is:return v=v.get(T.key===null?_:T.key)||null,c(y,v,T,A);case Tr:return T=co(T),g(v,y,_,T,A)}if(Ms(T)||ds(T))return v=v.get(_)||null,f(y,v,T,A,null);if(typeof T.then=="function")return g(v,y,_,uc(T),A);if(T.$$typeof===er)return g(v,y,_,cc(y,T),A);dc(y,T)}return null}function b(v,y,_,T){for(var A=null,I=null,N=y,P=y=0,M=null;N!==null&&P<_.length;P++){N.index>P?(M=N,N=null):M=N.sibling;var q=p(v,N,_[P],T);if(q===null){N===null&&(N=M);break}e&&N&&q.alternate===null&&t(v,N),y=o(q,y,P),I===null?A=q:I.sibling=q,I=q,N=M}if(P===_.length)return n(v,N),$e&&Xi(v,P),A;if(N===null){for(;P<_.length;P++)N=m(v,_[P],T),N!==null&&(y=o(N,y,P),I===null?A=N:I.sibling=N,I=N);return $e&&Xi(v,P),A}for(N=i(N);P<_.length;P++)M=g(N,v,P,_[P],T),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?P:M.key),y=o(M,y,P),I===null?A=M:I.sibling=M,I=M);return e&&N.forEach(function(X){return t(v,X)}),$e&&Xi(v,P),A}function x(v,y,_,T){if(_==null)throw Error(se(151));for(var A=null,I=null,N=y,P=y=0,M=null,q=_.next();N!==null&&!q.done;P++,q=_.next()){N.index>P?(M=N,N=null):M=N.sibling;var X=p(v,N,q.value,T);if(X===null){N===null&&(N=M);break}e&&N&&X.alternate===null&&t(v,N),y=o(X,y,P),I===null?A=X:I.sibling=X,I=X,N=M}if(q.done)return n(v,N),$e&&Xi(v,P),A;if(N===null){for(;!q.done;P++,q=_.next())q=m(v,q.value,T),q!==null&&(y=o(q,y,P),I===null?A=q:I.sibling=q,I=q);return $e&&Xi(v,P),A}for(N=i(N);!q.done;P++,q=_.next())q=g(N,v,P,q.value,T),q!==null&&(e&&q.alternate!==null&&N.delete(q.key===null?P:q.key),y=o(q,y,P),I===null?A=q:I.sibling=q,I=q);return e&&N.forEach(function(D){return t(v,D)}),$e&&Xi(v,P),A}function C(v,y,_,T){if(typeof _=="object"&&_!==null&&_.type===Jo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ic:e:{for(var A=_.key;y!==null;){if(y.key===A){if(A=_.type,A===Jo){if(y.tag===7){n(v,y.sibling),T=r(y,_.props.children),T.return=v,v=T;break e}}else if(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Tr&&co(A)===y.type){n(v,y.sibling),T=r(y,_.props),ps(T,_),T.return=v,v=T;break e}n(v,y);break}else t(v,y);y=y.sibling}_.type===Jo?(T=yo(_.props.children,v.mode,T,_.key),T.return=v,v=T):(T=Oc(_.type,_.key,_.props,null,v.mode,T),ps(T,_),T.return=v,v=T)}return a(v);case Is:e:{for(A=_.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(v,y.sibling),T=r(y,_.children||[]),T.return=v,v=T;break e}else{n(v,y);break}else t(v,y);y=y.sibling}T=Cf(_,v.mode,T),T.return=v,v=T}return a(v);case Tr:return _=co(_),C(v,y,_,T)}if(Ms(_))return b(v,y,_,T);if(ds(_)){if(A=ds(_),typeof A!="function")throw Error(se(150));return _=A.call(_),x(v,y,_,T)}if(typeof _.then=="function")return C(v,y,uc(_),T);if(_.$$typeof===er)return C(v,y,cc(v,_),T);dc(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,y!==null&&y.tag===6?(n(v,y.sibling),T=r(y,_),T.return=v,v=T):(n(v,y),T=_f(_,v.mode,T),T.return=v,v=T),a(v)):n(v,y)}return function(v,y,_,T){try{hl=0;var A=C(v,y,_,T);return ma=null,A}catch(N){if(N===Xa||N===bd)throw N;var I=Dn(29,N,null,v.mode);return I.lanes=T,I.return=v,I}finally{}}}var wo=j_(!0),H_=j_(!1),wr=!1;function Sm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ye&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=hu(e),L_(e,null,n),t}return xd(e,i,t,n),hu(e)}function Vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,a_(e,n)}}function Tf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oh=!1;function Ys(){if(Oh){var e=pa;if(e!==null)throw e}}function Ws(e,t,n,i){Oh=!1;var r=e.updateQueue;wr=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var m=r.baseState;a=0,f=c=l=null,s=o;do{var p=s.lane&-536870913,g=p!==s.lane;if(g?(He&p)===p:(i&p)===p){p!==0&&p===Na&&(Oh=!0),f!==null&&(f=f.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var b=e,x=s;p=t;var C=n;switch(x.tag){case 1:if(b=x.payload,typeof b=="function"){m=b.call(C,m,p);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,p=typeof b=="function"?b.call(C,m,p):b,p==null)break e;m=ht({},m,p);break e;case 2:wr=!0}}p=s.callback,p!==null&&(e.flags|=64,g&&(e.flags|=8192),g=r.callbacks,g===null?r.callbacks=[p]:g.push(p))}else g={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=g,l=m):f=f.next=g,a|=p;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;g=s,s=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);f===null&&(l=m),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=f,o===null&&(r.shared.lanes=0),Kr|=a,e.lanes=a,e.memoizedState=m}}function $_(e,t){if(typeof e!="function")throw Error(se(191,e));e.call(t)}function q_(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$_(n[e],t)}var ka=Oi(null),yu=Oi(0);function L0(e,t){e=hr,st(yu,e),st(ka,t),hr=e|t.baseLanes}function Uh(){st(yu,hr),st(ka,ka.current)}function Tm(){hr=yu.current,$t(ka),$t(yu)}var qn=Oi(null),ti=null;function Nr(e){var t=e.alternate;st(Tt,Tt.current&1),st(qn,e),ti===null&&(t===null||ka.current!==null||t.memoizedState!==null)&&(ti=e)}function Ph(e){st(Tt,Tt.current),st(qn,e),ti===null&&(ti=e)}function G_(e){e.tag===22?(st(Tt,Tt.current),st(qn,e),ti===null&&(ti=e)):kr()}function kr(){st(Tt,Tt.current),st(qn,qn.current)}function Ln(e){$t(qn),ti===e&&(ti=null),$t(Tt)}var Tt=Oi(0);function vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||rp(n)||op(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ur=0,Oe=null,nt=null,Et=null,xu=!1,ga=!1,Eo=!1,bu=0,pl=0,ya=null,tA=0;function _t(){throw Error(se(321))}function wm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function Em(e,t,n,i,r,o){return ur=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Le.H=e===null||e.memoizedState===null?C1:Om,Eo=!1,o=n(i,r),Eo=!1,ga&&(o=Y_(t,n,i,r)),V_(e),o}function V_(e){Le.H=ml;var t=nt!==null&&nt.next!==null;if(ur=0,Et=nt=Oe=null,xu=!1,pl=0,ya=null,t)throw Error(se(300));e===null||It||(e=e.dependencies,e!==null&&mu(e)&&(It=!0))}function Y_(e,t,n,i){Oe=e;var r=0;do{if(ga&&(ya=null),pl=0,ga=!1,25<=r)throw Error(se(301));if(r+=1,Et=nt=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Le.H=S1,o=t(n,i)}while(ga);return o}function nA(){var e=Le.H,t=e.useState()[0];return t=typeof t.then=="function"?Ul(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Oe.flags|=1024),t}function Am(){var e=bu!==0;return bu=0,e}function Nm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function km(e){if(xu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xu=!1}ur=0,Et=nt=Oe=null,ga=!1,pl=bu=0,ya=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Oe.memoizedState=Et=e:Et=Et.next=e,Et}function wt(){if(nt===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=Et===null?Oe.memoizedState:Et.next;if(t!==null)Et=t,nt=e;else{if(e===null)throw Oe.alternate===null?Error(se(467)):Error(se(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Et===null?Oe.memoizedState=Et=e:Et=Et.next=e}return Et}function _d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(e){var t=pl;return pl+=1,ya===null&&(ya=[]),e=z_(ya,e,t),t=Oe,(Et===null?t.memoizedState:Et.next)===null&&(t=t.alternate,Le.H=t===null||t.memoizedState===null?C1:Om),e}function Cd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ul(e);if(e.$$typeof===er)return Zt(e)}throw Error(se(438,String(e)))}function Rm(e){var t=null,n=Oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Oe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=_d(),Oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=jE;return t.index++,n}function dr(e,t){return typeof t=="function"?t(e):t}function Pc(e){var t=wt();return Im(t,nt,e)}function Im(e,t,n){var i=e.queue;if(i===null)throw Error(se(311));i.lastRenderedReducer=n;var r=e.baseQueue,o=i.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}t.baseQueue=r=o,i.pending=null}if(o=e.baseState,r===null)e.memoizedState=o;else{t=r.next;var s=a=null,l=null,c=t,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(He&m)===m:(ur&m)===m){var p=c.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Na&&(f=!0);else if((ur&p)===p){c=c.next,p===Na&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=m,a=o):l=l.next=m,Oe.lanes|=p,Kr|=p;m=c.action,Eo&&n(o,m),o=c.hasEagerState?c.eagerState:n(o,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=p,a=o):l=l.next=p,Oe.lanes|=m,Kr|=m;c=c.next}while(c!==null&&c!==t);if(l===null?a=o:l.next=s,!$n(o,e.memoizedState)&&(It=!0,f&&(n=pa,n!==null)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=l,i.lastRenderedState=o}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function wf(e){var t=wt(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=e(o,a.action),a=a.next;while(a!==r);$n(o,t.memoizedState)||(It=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function W_(e,t,n){var i=Oe,r=wt(),o=$e;if(o){if(n===void 0)throw Error(se(407));n=n()}else n=t();var a=!$n((nt||r).memoizedState,n);if(a&&(r.memoizedState=n,It=!0),r=r.queue,Mm(X_.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||Et!==null&&Et.memoizedState.tag&1){if(i.flags|=2048,Ra(9,{destroy:void 0},K_.bind(null,i,r,n,t),null),rt===null)throw Error(se(349));o||ur&127||J_(i,t,n)}return n}function J_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t=_d(),Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K_(e,t,n,i){t.value=n,t.getSnapshot=i,Z_(t)&&Q_(e)}function X_(e,t,n){return n(function(){Z_(t)&&Q_(e)})}function Z_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch{return!0}}function Q_(e){var t=Do(e,2);t!==null&&wn(t,e,2)}function zh(e){var t=sn();if(typeof e=="function"){var n=e;if(e=n(),Eo){Ir(!0);try{n()}finally{Ir(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},t}function e1(e,t,n,i){return e.baseState=n,Im(e,nt,typeof i=="function"?i:dr)}function iA(e,t,n,i,r){if(Td(e))throw Error(se(485));if(e=t.action,e!==null){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};Le.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,t1(t,o)):(o.next=n.next,t.pending=n.next=o)}}function t1(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var o=Le.T,a={};Le.T=a;try{var s=n(r,i),l=Le.S;l!==null&&l(a,s),D0(e,t,s)}catch(c){jh(e,t,c)}finally{o!==null&&a.types!==null&&(o.types=a.types),Le.T=o}}else try{o=n(r,i),D0(e,t,o)}catch(c){jh(e,t,c)}}function D0(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){B0(e,t,i)},function(i){return jh(e,t,i)}):B0(e,t,n)}function B0(e,t,n){t.status="fulfilled",t.value=n,n1(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,t1(e,n)))}function jh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,n1(t),t=t.next;while(t!==i)}e.action=null}function n1(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function i1(e,t){return t}function F0(e,t){if($e){var n=rt.formState;if(n!==null){e:{var i=Oe;if($e){if(dt){t:{for(var r=dt,o=ei;r.nodeType!==8;){if(!o){r=null;break t}if(r=ni(r.nextSibling),r===null){r=null;break t}}o=r.data,r=o==="F!"||o==="F"?r:null}if(r){dt=ni(r.nextSibling),i=r.data==="F!";break e}}Wr(i)}i=!1}i&&(t=n[0])}}return n=sn(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i1,lastRenderedState:t},n.queue=i,n=x1.bind(null,Oe,i),i.dispatch=n,i=zh(!1),o=Fm.bind(null,Oe,!1,i.queue),i=sn(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=iA.bind(null,Oe,r,o,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function O0(e){var t=wt();return r1(t,nt,e)}function r1(e,t,n){if(t=Im(e,t,i1)[0],e=Pc(dr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ul(t)}catch(a){throw a===Xa?bd:a}else i=t;t=wt();var r=t.queue,o=r.dispatch;return n!==t.memoizedState&&(Oe.flags|=2048,Ra(9,{destroy:void 0},rA.bind(null,r,n),null)),[i,o,e]}function rA(e,t){e.action=t}function U0(e){var t=wt(),n=nt;if(n!==null)return r1(t,n,e);wt(),t=t.memoizedState,n=wt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ra(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=_d(),Oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function o1(){return wt().memoizedState}function zc(e,t,n,i){var r=sn();Oe.flags|=e,r.memoizedState=Ra(1|t,{destroy:void 0},n,i===void 0?null:i)}function Sd(e,t,n,i){var r=wt();i=i===void 0?null:i;var o=r.memoizedState.inst;nt!==null&&i!==null&&wm(i,nt.memoizedState.deps)?r.memoizedState=Ra(t,o,n,i):(Oe.flags|=e,r.memoizedState=Ra(1|t,o,n,i))}function P0(e,t){zc(8390656,8,e,t)}function Mm(e,t){Sd(2048,8,e,t)}function oA(e){Oe.flags|=4;var t=Oe.updateQueue;if(t===null)t=_d(),Oe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function a1(e){var t=wt().memoizedState;return oA({ref:t,nextImpl:e}),function(){if(Ye&2)throw Error(se(440));return t.impl.apply(void 0,arguments)}}function s1(e,t){return Sd(4,2,e,t)}function l1(e,t){return Sd(4,4,e,t)}function c1(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u1(e,t,n){n=n!=null?n.concat([e]):null,Sd(4,4,c1.bind(null,t,e),n)}function Lm(){}function d1(e,t){var n=wt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&wm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function f1(e,t){var n=wt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&wm(t,i[1]))return i[0];if(i=e(),Eo){Ir(!0);try{e()}finally{Ir(!1)}}return n.memoizedState=[i,t],i}function Dm(e,t,n){return n===void 0||ur&1073741824&&!(He&261930)?e.memoizedState=t:(e.memoizedState=n,e=eC(),Oe.lanes|=e,Kr|=e,n)}function h1(e,t,n,i){return $n(n,t)?n:ka.current!==null?(e=Dm(e,n,i),$n(e,t)||(It=!0),e):!(ur&42)||ur&1073741824&&!(He&261930)?(It=!0,e.memoizedState=n):(e=eC(),Oe.lanes|=e,Kr|=e,t)}function p1(e,t,n,i,r){var o=We.p;We.p=o!==0&&8>o?o:8;var a=Le.T,s={};Le.T=s,Fm(e,!1,t,n);try{var l=r(),c=Le.S;if(c!==null&&c(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=eA(l,i);Js(e,t,f,zn(e))}else Js(e,t,i,zn(e))}catch(m){Js(e,t,{then:function(){},status:"rejected",reason:m},zn())}finally{We.p=o,a!==null&&s.types!==null&&(a.types=s.types),Le.T=a}}function aA(){}function Hh(e,t,n,i){if(e.tag!==5)throw Error(se(476));var r=m1(e).queue;p1(e,r,t,go,n===null?aA:function(){return g1(e),n(i)})}function m1(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:go,baseState:go,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:go},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function g1(e){var t=m1(e);t.next===null&&(t=e.alternate.memoizedState),Js(e,t.next.queue,{},zn())}function Bm(){return Zt(vl)}function y1(){return wt().memoizedState}function v1(){return wt().memoizedState}function sA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=zn();e=Pr(n);var i=zr(t,e,n);i!==null&&(wn(i,t,n),Vs(i,t,n)),t={cache:bm()},e.payload=t;return}t=t.return}}function lA(e,t,n){var i=zn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Td(e)?b1(t,n):(n=gm(e,t,n,i),n!==null&&(wn(n,e,i),_1(n,t,i)))}function x1(e,t,n){var i=zn();Js(e,t,n,i)}function Js(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Td(e))b1(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,$n(s,a))return xd(e,t,r,0),rt===null&&vd(),!1}catch{}finally{}if(n=gm(e,t,r,i),n!==null)return wn(n,e,i),_1(n,t,i),!0}return!1}function Fm(e,t,n,i){if(i={lane:2,revertLane:Gm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Td(e)){if(t)throw Error(se(479))}else t=gm(e,n,i,2),t!==null&&wn(t,e,2)}function Td(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function b1(e,t){ga=xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _1(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,a_(e,n)}}var ml={readContext:Zt,use:Cd,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};ml.useEffectEvent=_t;var C1={readContext:Zt,use:Cd,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:P0,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zc(4194308,4,c1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zc(4194308,4,e,t)},useInsertionEffect:function(e,t){zc(4,2,e,t)},useMemo:function(e,t){var n=sn();t=t===void 0?null:t;var i=e();if(Eo){Ir(!0);try{e()}finally{Ir(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=sn();if(n!==void 0){var r=n(t);if(Eo){Ir(!0);try{n(t)}finally{Ir(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=lA.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:function(e){e=zh(e);var t=e.queue,n=x1.bind(null,Oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lm,useDeferredValue:function(e,t){var n=sn();return Dm(n,e,t)},useTransition:function(){var e=zh(!1);return e=p1.bind(null,Oe,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Oe,r=sn();if($e){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),rt===null)throw Error(se(349));He&127||J_(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,P0(X_.bind(null,i,o,e),[e]),i.flags|=2048,Ra(9,{destroy:void 0},K_.bind(null,i,o,n,t),null),n},useId:function(){var e=sn(),t=rt.identifierPrefix;if($e){var n=Ri,i=ki;n=(i&~(1<<32-Pn(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=bu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=tA++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bm,useFormState:F0,useActionState:F0,useOptimistic:function(e){var t=sn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fm.bind(null,Oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Rm,useCacheRefresh:function(){return sn().memoizedState=sA.bind(null,Oe)},useEffectEvent:function(e){var t=sn(),n={impl:e};return t.memoizedState=n,function(){if(Ye&2)throw Error(se(440));return n.impl.apply(void 0,arguments)}}},Om={readContext:Zt,use:Cd,useCallback:d1,useContext:Zt,useEffect:Mm,useImperativeHandle:u1,useInsertionEffect:s1,useLayoutEffect:l1,useMemo:f1,useReducer:Pc,useRef:o1,useState:function(){return Pc(dr)},useDebugValue:Lm,useDeferredValue:function(e,t){var n=wt();return h1(n,nt.memoizedState,e,t)},useTransition:function(){var e=Pc(dr)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Ul(e),t]},useSyncExternalStore:W_,useId:y1,useHostTransitionStatus:Bm,useFormState:O0,useActionState:O0,useOptimistic:function(e,t){var n=wt();return e1(n,nt,e,t)},useMemoCache:Rm,useCacheRefresh:v1};Om.useEffectEvent=a1;var S1={readContext:Zt,use:Cd,useCallback:d1,useContext:Zt,useEffect:Mm,useImperativeHandle:u1,useInsertionEffect:s1,useLayoutEffect:l1,useMemo:f1,useReducer:wf,useRef:o1,useState:function(){return wf(dr)},useDebugValue:Lm,useDeferredValue:function(e,t){var n=wt();return nt===null?Dm(n,e,t):h1(n,nt.memoizedState,e,t)},useTransition:function(){var e=wf(dr)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Ul(e),t]},useSyncExternalStore:W_,useId:y1,useHostTransitionStatus:Bm,useFormState:U0,useActionState:U0,useOptimistic:function(e,t){var n=wt();return nt!==null?e1(n,nt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:v1};S1.useEffectEvent=a1;function Ef(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $h={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=zn(),r=Pr(i);r.payload=t,n!=null&&(r.callback=n),t=zr(e,r,i),t!==null&&(wn(t,e,i),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=zn(),r=Pr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=zr(e,r,i),t!==null&&(wn(t,e,i),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zn(),i=Pr(n);i.tag=2,t!=null&&(i.callback=t),t=zr(e,i,n),t!==null&&(wn(t,e,n),Vs(t,e,n))}};function z0(e,t,n,i,r,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,a):t.prototype&&t.prototype.isPureReactComponent?!ul(n,i)||!ul(r,o):!0}function j0(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&$h.enqueueReplaceState(t,t.state,null)}function Ao(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ht({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function T1(e){fu(e)}function w1(e){console.error(e)}function E1(e){fu(e)}function _u(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function H0(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function qh(e,t,n){return n=Pr(n),n.tag=3,n.payload={element:null},n.callback=function(){_u(e,t)},n}function A1(e){return e=Pr(e),e.tag=3,e}function N1(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=i.value;e.payload=function(){return r(o)},e.callback=function(){H0(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){H0(t,n,i),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var s=i.stack;this.componentDidCatch(i.value,{componentStack:s!==null?s:""})})}function cA(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ka(t,n,r,!0),n=qn.current,n!==null){switch(n.tag){case 31:case 13:return ti===null?Eu():n.alternate===null&&Ct===0&&(Ct=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===gu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Of(e,i,r)),!1;case 22:return n.flags|=65536,i===gu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Of(e,i,r)),!1}throw Error(se(435,n.tag))}return Of(e,i,r),Eu(),!1}if($e)return t=qn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Ih&&(e=Error(se(422),{cause:i}),fl(Qn(e,n)))):(i!==Ih&&(t=Error(se(423),{cause:i}),fl(Qn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Qn(i,n),r=qh(e.stateNode,i,r),Tf(e,r),Ct!==4&&(Ct=2)),!1;var o=Error(se(520),{cause:i});if(o=Qn(o,n),Zs===null?Zs=[o]:Zs.push(o),Ct!==4&&(Ct=2),t===null)return!0;i=Qn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=qh(n.stateNode,i,e),Tf(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,r=A1(r),N1(r,e,n,i),Tf(n,r),!1}n=n.return}while(n!==null);return!1}var Um=Error(se(461)),It=!1;function Wt(e,t,n,i){t.child=e===null?H_(t,null,n,i):wo(t,e.child,n,i)}function $0(e,t,n,i,r){n=n.render;var o=t.ref;if("ref"in i){var a={};for(var s in i)s!=="ref"&&(a[s]=i[s])}else a=i;return To(t),i=Em(e,t,n,a,o,r),s=Am(),e!==null&&!It?(Nm(e,t,r),fr(e,t,r)):($e&&s&&vm(t),t.flags|=1,Wt(e,t,i,r),t.child)}function q0(e,t,n,i,r){if(e===null){var o=n.type;return typeof o=="function"&&!ym(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,k1(e,t,o,i,r)):(e=Oc(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Pm(e,r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(a,i)&&e.ref===t.ref)return fr(e,t,r)}return t.flags|=1,e=rr(o,i),e.ref=t.ref,e.return=t,t.child=e}function k1(e,t,n,i,r){if(e!==null){var o=e.memoizedProps;if(ul(o,i)&&e.ref===t.ref)if(It=!1,t.pendingProps=i=o,Pm(e,r))e.flags&131072&&(It=!0);else return t.lanes=e.lanes,fr(e,t,r)}return Gh(e,t,n,i,r)}function R1(e,t,n,i){var r=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~o}else i=0,t.child=null;return G0(e,t,o,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uc(t,o!==null?o.cachePool:null),o!==null?L0(t,o):Uh(),G_(t);else return i=t.lanes=536870912,G0(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(Uc(t,o.cachePool),L0(t,o),kr(),t.memoizedState=null):(e!==null&&Uc(t,null),Uh(),kr());return Wt(e,t,r,n),t.child}function Ds(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function G0(e,t,n,i,r){var o=_m();return o=o===null?null:{parent:Nt._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Uc(t,null),Uh(),G_(t),e!==null&&Ka(e,t,i,!0),t.childLanes=r,null}function jc(e,t){return t=Cu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function V0(e,t,n){return wo(t,e.child,null,n),e=jc(t,t.pendingProps),e.flags|=2,Ln(t),t.memoizedState=null,e}function uA(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if($e){if(i.mode==="hidden")return e=jc(t,i),t.lanes=536870912,Ds(null,e);if(Ph(t),(e=dt)?(e=CC(e,ei),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:ki,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},n=B_(e),n.return=t,t.child=n,Xt=t,dt=null)):e=null,e===null)throw Wr(t);return t.lanes=536870912,null}return jc(t,i)}var o=e.memoizedState;if(o!==null){var a=o.dehydrated;if(Ph(t),r)if(t.flags&256)t.flags&=-257,t=V0(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(se(558));else if(It||Ka(e,t,n,!1),r=(n&e.childLanes)!==0,It||r){if(i=rt,i!==null&&(a=s_(i,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Do(e,a),wn(i,e,a),Um;Eu(),t=V0(e,t,n)}else e=o.treeContext,dt=ni(a.nextSibling),Xt=t,$e=!0,Ur=null,ei=!1,e!==null&&O_(t,e),t=jc(t,i),t.flags|=4096;return t}return e=rr(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(se(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Gh(e,t,n,i,r){return To(t),n=Em(e,t,n,i,void 0,r),i=Am(),e!==null&&!It?(Nm(e,t,r),fr(e,t,r)):($e&&i&&vm(t),t.flags|=1,Wt(e,t,n,r),t.child)}function Y0(e,t,n,i,r,o){return To(t),t.updateQueue=null,n=Y_(t,i,n,r),V_(e),i=Am(),e!==null&&!It?(Nm(e,t,o),fr(e,t,o)):($e&&i&&vm(t),t.flags|=1,Wt(e,t,n,o),t.child)}function W0(e,t,n,i,r){if(To(t),t.stateNode===null){var o=ia,a=n.contextType;typeof a=="object"&&a!==null&&(o=Zt(a)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=$h,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Sm(t),a=n.contextType,o.context=typeof a=="object"&&a!==null?Zt(a):ia,o.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Ef(t,n,a,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&$h.enqueueReplaceState(o,o.state,null),Ws(t,i,o,r),Ys(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var s=t.memoizedProps,l=Ao(n,s);o.props=l;var c=o.context,f=n.contextType;a=ia,typeof f=="object"&&f!==null&&(a=Zt(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||c!==a)&&j0(t,o,i,a),wr=!1;var p=t.memoizedState;o.state=p,Ws(t,i,o,r),Ys(),c=t.memoizedState,s||p!==c||wr?(typeof m=="function"&&(Ef(t,n,m,i),c=t.memoizedState),(l=wr||z0(t,n,l,i,p,c,a))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=a,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Fh(e,t),a=t.memoizedProps,f=Ao(n,a),o.props=f,m=t.pendingProps,p=o.context,c=n.contextType,l=ia,typeof c=="object"&&c!==null&&(l=Zt(c)),s=n.getDerivedStateFromProps,(c=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==l)&&j0(t,o,i,l),wr=!1,p=t.memoizedState,o.state=p,Ws(t,i,o,r),Ys();var g=t.memoizedState;a!==m||p!==g||wr||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof s=="function"&&(Ef(t,n,s,i),g=t.memoizedState),(f=wr||z0(t,n,f,i,p,g,l)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),o.props=i,o.state=g,o.context=l,i=f):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Hc(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=wo(t,e.child,null,r),t.child=wo(t,null,n,r)):Wt(e,t,n,r),t.memoizedState=o.state,e=t.child):e=fr(e,t,r),e}function J0(e,t,n,i){return So(),t.flags|=256,Wt(e,t,n,i),t.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:P_()}}function kf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Bn),e}function I1(e,t,n){var i=t.pendingProps,r=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if($e){if(r?Nr(t):kr(),(e=dt)?(e=CC(e,ei),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:ki,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},n=B_(e),n.return=t,t.child=n,Xt=t,dt=null)):e=null,e===null)throw Wr(t);return op(e)?t.lanes=32:t.lanes=536870912,null}var s=i.children;return i=i.fallback,r?(kr(),r=t.mode,s=Cu({mode:"hidden",children:s},r),i=yo(i,r,n,null),s.return=t,i.return=t,s.sibling=i,t.child=s,i=t.child,i.memoizedState=Nf(n),i.childLanes=kf(e,a,n),t.memoizedState=Af,Ds(null,i)):(Nr(t),Vh(t,s))}var l=e.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(o)t.flags&256?(Nr(t),t.flags&=-257,t=Rf(e,t,n)):t.memoizedState!==null?(kr(),t.child=e.child,t.flags|=128,t=null):(kr(),s=i.fallback,r=t.mode,i=Cu({mode:"visible",children:i.children},r),s=yo(s,r,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,wo(t,e.child,null,n),i=t.child,i.memoizedState=Nf(n),i.childLanes=kf(e,a,n),t.memoizedState=Af,t=Ds(null,i));else if(Nr(t),op(s)){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(se(419)),i.stack="",i.digest=a,fl({value:i,source:null,stack:null}),t=Rf(e,t,n)}else if(It||Ka(e,t,n,!1),a=(n&e.childLanes)!==0,It||a){if(a=rt,a!==null&&(i=s_(a,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,Do(e,i),wn(a,e,i),Um;rp(s)||Eu(),t=Rf(e,t,n)}else rp(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,dt=ni(s.nextSibling),Xt=t,$e=!0,Ur=null,ei=!1,e!==null&&O_(t,e),t=Vh(t,i.children),t.flags|=4096);return t}return r?(kr(),s=i.fallback,r=t.mode,l=e.child,c=l.sibling,i=rr(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=rr(c,s):(s=yo(s,r,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,Ds(null,i),i=t.child,s=e.child.memoizedState,s===null?s=Nf(n):(r=s.cachePool,r!==null?(l=Nt._currentValue,r=r.parent!==l?{parent:l,pool:l}:r):r=P_(),s={baseLanes:s.baseLanes|n,cachePool:r}),i.memoizedState=s,i.childLanes=kf(e,a,n),t.memoizedState=Af,Ds(e.child,i)):(Nr(t),n=e.child,e=n.sibling,n=rr(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Vh(e,t){return t=Cu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cu(e,t){return e=Dn(22,e,null,t),e.lanes=0,e}function Rf(e,t,n){return wo(t,e.child,null,n),e=Vh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Lh(e.return,t,n)}function If(e,t,n,i,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=o)}function M1(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;i=i.children;var a=Tt.current,s=(a&2)!==0;if(s?(a=a&1|2,t.flags|=128):a&=1,st(Tt,a),Wt(e,t,i,n),i=$e?dl:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&K0(e,n,t);else if(e.tag===19)K0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&vu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),If(t,!1,r,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&vu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}If(t,!0,n,null,o,i);break;case"together":If(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ka(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function dA(e,t,n){switch(t.tag){case 3:lu(t,t.stateNode.containerInfo),Ar(t,Nt,e.memoizedState.cache),So();break;case 27:case 5:bh(t);break;case 4:lu(t,t.stateNode.containerInfo);break;case 10:Ar(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ph(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Nr(t),t.flags|=128,null):n&t.child.childLanes?I1(e,t,n):(Nr(t),e=fr(e,t,n),e!==null?e.sibling:null);Nr(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ka(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return M1(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),st(Tt,Tt.current),i)break;return null;case 22:return t.lanes=0,R1(e,t,n,t.pendingProps);case 24:Ar(t,Nt,e.memoizedState.cache)}return fr(e,t,n)}function L1(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)It=!0;else{if(!Pm(e,n)&&!(t.flags&128))return It=!1,dA(e,t,n);It=!!(e.flags&131072)}else It=!1,$e&&t.flags&1048576&&F_(t,dl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=co(t.elementType),t.type=e,typeof e=="function")ym(e)?(i=Ao(e,i),t.tag=1,t=W0(null,t,e,i,n)):(t.tag=0,t=Gh(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===im){t.tag=11,t=$0(null,t,e,i,n);break e}else if(r===rm){t.tag=14,t=q0(null,t,e,i,n);break e}}throw t=vh(e)||e,Error(se(306,t,""))}}return t;case 0:return Gh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Ao(i,t.pendingProps),W0(e,t,i,r,n);case 3:e:{if(lu(t,t.stateNode.containerInfo),e===null)throw Error(se(387));i=t.pendingProps;var o=t.memoizedState;r=o.element,Fh(e,t),Ws(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Ar(t,Nt,i),i!==o.cache&&Dh(t,[Nt],n,!0),Ys(),i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=J0(e,t,i,n);break e}else if(i!==r){r=Qn(Error(se(424)),t),fl(r),t=J0(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=ni(e.firstChild),Xt=t,$e=!0,Ur=null,ei=!0,n=H_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(So(),i===r){t=fr(e,t,n);break e}Wt(e,t,i,n)}t=t.child}return t;case 26:return Hc(e,t),e===null?(n=gy(t.type,null,t.pendingProps,null))?t.memoizedState=n:$e||(n=t.type,e=t.pendingProps,i=Ru(Or.current).createElement(n),i[Kt]=t,i[En]=e,Qt(i,n,e),Ht(i),t.stateNode=i):t.memoizedState=gy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bh(t),e===null&&$e&&(i=t.stateNode=SC(t.type,t.pendingProps,Or.current),Xt=t,ei=!0,r=dt,eo(t.type)?(ap=r,dt=ni(i.firstChild)):dt=r),Wt(e,t,t.pendingProps.children,n),Hc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$e&&((r=i=dt)&&(i=jA(i,t.type,t.pendingProps,ei),i!==null?(t.stateNode=i,Xt=t,dt=ni(i.firstChild),ei=!1,r=!0):r=!1),r||Wr(t)),bh(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,np(r,o)?i=null:a!==null&&np(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Em(e,t,nA,null,null,n),vl._currentValue=r),Hc(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&$e&&((e=n=dt)&&(n=HA(n,t.pendingProps,ei),n!==null?(t.stateNode=n,Xt=t,dt=null,e=!0):e=!1),e||Wr(t)),null;case 13:return I1(e,t,n);case 4:return lu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=wo(t,null,i,n):Wt(e,t,i,n),t.child;case 11:return $0(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ar(t,t.type,i.value),Wt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,To(t),r=Zt(r),i=i(r),t.flags|=1,Wt(e,t,i,n),t.child;case 14:return q0(e,t,t.type,t.pendingProps,n);case 15:return k1(e,t,t.type,t.pendingProps,n);case 19:return M1(e,t,n);case 31:return uA(e,t,n);case 22:return R1(e,t,n,t.pendingProps);case 24:return To(t),i=Zt(Nt),e===null?(r=_m(),r===null&&(r=rt,o=bm(),r.pooledCache=o,o.refCount++,o!==null&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:i,cache:r},Sm(t),Ar(t,Nt,r)):(e.lanes&n&&(Fh(e,t),Ws(t,null,null,n),Ys()),r=e.memoizedState,o=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ar(t,Nt,i)):(i=o.cache,Ar(t,Nt,i),i!==r.cache&&Dh(t,[Nt],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(se(156,t.tag))}function qi(e){e.flags|=4}function Mf(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(iC())e.flags|=8192;else throw xo=gu,Cm}else e.flags&=-16777217}function X0(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!EC(t))if(iC())e.flags|=8192;else throw xo=gu,Cm}function fc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?r_():536870912,e.lanes|=t,Ia|=t)}function ms(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function fA(e,t,n){var i=t.pendingProps;switch(xm(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return ct(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),or(Nt),wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ho(t)?qi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sf())),ct(t),null;case 26:var r=t.type,o=t.memoizedState;return e===null?(qi(t),o!==null?(ct(t),X0(t,o)):(ct(t),Mf(t,r,null,i,n))):o?o!==e.memoizedState?(qi(t),ct(t),X0(t,o)):(ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&qi(t),ct(t),Mf(t,r,e,i,n)),null;case 27:if(cu(t),n=Or.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&qi(t);else{if(!i){if(t.stateNode===null)throw Error(se(166));return ct(t),null}e=Mi.current,Ho(t)?E0(t):(e=SC(r,i,n),t.stateNode=e,qi(t))}return ct(t),null;case 5:if(cu(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&qi(t);else{if(!i){if(t.stateNode===null)throw Error(se(166));return ct(t),null}if(o=Mi.current,Ho(t))E0(t);else{var a=Ru(Or.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":o=a.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}o[Kt]=t,o[En]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(Qt(o,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&qi(t)}}return ct(t),Mf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&qi(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(se(166));if(e=Or.current,Ho(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Xt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||xC(e.nodeValue,n)),e||Wr(t,!0)}else e=Ru(e).createTextNode(i),e[Kt]=t,t.stateNode=e}return ct(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ho(t),n!==null){if(e===null){if(!i)throw Error(se(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(557));e[Kt]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),e=!1}else n=Sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ln(t),t):(Ln(t),null);if(t.flags&128)throw Error(se(558))}return ct(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ho(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(se(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(se(317));r[Kt]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),r=!1}else r=Sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ln(t),t):(Ln(t),null)}return Ln(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fc(t,t.updateQueue),ct(t),null);case 4:return wa(),e===null&&Vm(t.stateNode.containerInfo),ct(t),null;case 10:return or(t.type),ct(t),null;case 19:if($t(Tt),i=t.memoizedState,i===null)return ct(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ms(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vu(e),o!==null){for(t.flags|=128,ms(i,!1),e=o.updateQueue,t.updateQueue=e,fc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)D_(n,e),n=n.sibling;return st(Tt,Tt.current&1|2),$e&&Xi(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&On()>Tu&&(t.flags|=128,r=!0,ms(i,!1),t.lanes=4194304)}else{if(!r)if(e=vu(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,fc(t,e),ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return ct(t),null}else 2*On()-i.renderingStartTime>Tu&&n!==536870912&&(t.flags|=128,r=!0,ms(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=On(),e.sibling=null,n=Tt.current,st(Tt,r?n&1|2:n&1),$e&&Xi(t,i.treeForkCount),e):(ct(t),null);case 22:case 23:return Ln(t),Tm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),n=t.updateQueue,n!==null&&fc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$t(vo),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),or(Nt),ct(t),null;case 25:return null;case 30:return null}throw Error(se(156,t.tag))}function hA(e,t){switch(xm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(Nt),wa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return cu(t),null;case 31:if(t.memoizedState!==null){if(Ln(t),t.alternate===null)throw Error(se(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ln(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(Tt),null;case 4:return wa(),null;case 10:return or(t.type),null;case 22:case 23:return Ln(t),Tm(),e!==null&&$t(vo),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return or(Nt),null;case 25:return null;default:return null}}function D1(e,t){switch(xm(t),t.tag){case 3:or(Nt),wa();break;case 26:case 27:case 5:cu(t);break;case 4:wa();break;case 31:t.memoizedState!==null&&Ln(t);break;case 13:Ln(t);break;case 19:$t(Tt);break;case 10:or(t.type);break;case 22:case 23:Ln(t),Tm(),e!==null&&$t(vo);break;case 24:or(Nt)}}function Pl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var o=n.create,a=n.inst;i=o(),a.destroy=i}n=n.next}while(n!==r)}}catch(s){et(t,t.return,s)}}function Jr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){var a=i.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,r=t;var l=n,c=s;try{c()}catch(f){et(r,l,f)}}}i=i.next}while(i!==o)}}catch(f){et(t,t.return,f)}}function B1(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{q_(t,n)}catch(i){et(e,e.return,i)}}}function F1(e,t,n){n.props=Ao(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){et(e,t,i)}}function Ks(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){et(e,t,r)}}function Ii(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){et(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function O1(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){et(e,e.return,r)}}function Lf(e,t,n){try{var i=e.stateNode;BA(i,e.type,n,t),i[En]=t}catch(r){et(e,e.return,r)}}function U1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&eo(e.type)||e.tag===4}function Df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&eo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tr));else if(i!==4&&(i===27&&eo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Yh(e,t,n),e=e.sibling;e!==null;)Yh(e,t,n),e=e.sibling}function Su(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&eo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}function P1(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Qt(t,i,n),t[Kt]=e,t[En]=n}catch(o){et(e,e.return,o)}}var Zi=!1,At=!1,Bf=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,jt=null;function pA(e,t){if(e=e.containerInfo,ep=Du,e=E_(e),pm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,f=0,m=e,p=null;t:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(s=a+r),m!==o||i!==0&&m.nodeType!==3||(l=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===e)break t;if(p===n&&++c===r&&(s=a),p===o&&++f===i&&(l=a),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tp={focusedElem:e,selectionRange:n},Du=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){switch(t=jt,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var b=Ao(n.type,r);e=i.getSnapshotBeforeUpdate(b,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){et(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ip(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ip(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(se(163))}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}}function z1(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Vi(e,n),i&4&&Pl(5,n);break;case 1:if(Vi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){et(n,n.return,a)}else{var r=Ao(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){et(n,n.return,a)}}i&64&&B1(n),i&512&&Ks(n,n.return);break;case 3:if(Vi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{q_(e,t)}catch(a){et(n,n.return,a)}}break;case 27:t===null&&i&4&&P1(n);case 26:case 5:Vi(e,n),t===null&&i&4&&O1(n),i&512&&Ks(n,n.return);break;case 12:Vi(e,n);break;case 31:Vi(e,n),i&4&&$1(e,n);break;case 13:Vi(e,n),i&4&&q1(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=SA.bind(null,n),$A(e,n))));break;case 22:if(i=n.memoizedState!==null||Zi,!i){t=t!==null&&t.memoizedState!==null||At,r=Zi;var o=At;Zi=i,(At=t)&&!o?Ki(e,n,(n.subtreeFlags&8772)!==0):Vi(e,n),Zi=r,At=o}break;case 30:break;default:Vi(e,n)}}function j1(e){var t=e.alternate;t!==null&&(e.alternate=null,j1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&lm(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,bn=!1;function Gi(e,t,n){for(n=n.child;n!==null;)H1(e,t,n),n=n.sibling}function H1(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 26:At||Ii(n,t),Gi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:At||Ii(n,t);var i=mt,r=bn;eo(n.type)&&(mt=n.stateNode,bn=!1),Gi(e,t,n),el(n.stateNode),mt=i,bn=r;break;case 5:At||Ii(n,t);case 6:if(i=mt,r=bn,mt=null,Gi(e,t,n),mt=i,bn=r,mt!==null)if(bn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(n.stateNode)}catch(o){et(n,t,o)}else try{mt.removeChild(n.stateNode)}catch(o){et(n,t,o)}break;case 18:mt!==null&&(bn?(e=mt,dy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ba(e)):dy(mt,n.stateNode));break;case 4:i=mt,r=bn,mt=n.stateNode.containerInfo,bn=!0,Gi(e,t,n),mt=i,bn=r;break;case 0:case 11:case 14:case 15:Jr(2,n,t),At||Jr(4,n,t),Gi(e,t,n);break;case 1:At||(Ii(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&F1(n,t,i)),Gi(e,t,n);break;case 21:Gi(e,t,n);break;case 22:At=(i=At)||n.memoizedState!==null,Gi(e,t,n),At=i;break;default:Gi(e,t,n)}}function $1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(n){et(t,t.return,n)}}}function q1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(n){et(t,t.return,n)}}function mA(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Z0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Z0),t;default:throw Error(se(435,e.tag))}}function hc(e,t){var n=mA(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=TA.bind(null,e,i);i.then(r,r)}})}function vn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 27:if(eo(s.type)){mt=s.stateNode,bn=!1;break e}break;case 5:mt=s.stateNode,bn=!1;break e;case 3:case 4:mt=s.stateNode.containerInfo,bn=!0;break e}s=s.return}if(mt===null)throw Error(se(160));H1(o,a,r),mt=null,bn=!1,o=r.alternate,o!==null&&(o.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)G1(t,e),t=t.sibling}var pi=null;function G1(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(t,e),xn(e),i&4&&(Jr(3,e,e.return),Pl(3,e),Jr(5,e,e.return));break;case 1:vn(t,e),xn(e),i&512&&(At||n===null||Ii(n,n.return)),i&64&&Zi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=pi;if(vn(t,e),xn(e),i&512&&(At||n===null||Ii(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":o=r.getElementsByTagName("title")[0],(!o||o[Bl]||o[Kt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),Qt(o,i,n),o[Kt]=e,Ht(o),i=o;break e;case"link":var a=vy("link","href",r).get(i+(n.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(s,1);break t}}o=r.createElement(i),Qt(o,i,n),r.head.appendChild(o);break;case"meta":if(a=vy("meta","content",r).get(i+(n.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(s,1);break t}}o=r.createElement(i),Qt(o,i,n),r.head.appendChild(o);break;default:throw Error(se(468,i))}o[Kt]=e,Ht(o),i=o}e.stateNode=i}else xy(r,e.type,e.stateNode);else e.stateNode=yy(r,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?xy(r,e.type,e.stateNode):yy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,n.memoizedProps)}break;case 27:vn(t,e),xn(e),i&512&&(At||n===null||Ii(n,n.return)),n!==null&&i&4&&Lf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(vn(t,e),xn(e),i&512&&(At||n===null||Ii(n,n.return)),e.flags&32){r=e.stateNode;try{Aa(r,"")}catch(b){et(e,e.return,b)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Lf(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Bf=!0);break;case 6:if(vn(t,e),xn(e),i&4){if(e.stateNode===null)throw Error(se(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(b){et(e,e.return,b)}}break;case 3:if(Gc=null,r=pi,pi=Iu(t.containerInfo),vn(t,e),pi=r,xn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(t.containerInfo)}catch(b){et(e,e.return,b)}Bf&&(Bf=!1,V1(e));break;case 4:i=pi,pi=Iu(e.stateNode.containerInfo),vn(t,e),xn(e),pi=i;break;case 12:vn(t,e),xn(e);break;case 31:vn(t,e),xn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hc(e,i)));break;case 13:vn(t,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(wd=On()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hc(e,i)));break;case 22:r=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Zi,f=At;if(Zi=c||r,At=f||l,vn(t,e),At=f,Zi=c,xn(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||l||Zi||At||uo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,r)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=l.stateNode;var m=l.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;s.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(b){et(l,l.return,b)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(b){et(l,l.return,b)}}}else if(t.tag===18){if(n===null){l=t;try{var g=l.stateNode;r?fy(g,!0):fy(l.stateNode,!1)}catch(b){et(l,l.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,hc(e,n))));break;case 19:vn(t,e),xn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hc(e,i)));break;case 30:break;case 21:break;default:vn(t,e),xn(e)}}function xn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(U1(i)){n=i;break}i=i.return}if(n==null)throw Error(se(160));switch(n.tag){case 27:var r=n.stateNode,o=Df(e);Su(e,o,r);break;case 5:var a=n.stateNode;n.flags&32&&(Aa(a,""),n.flags&=-33);var s=Df(e);Su(e,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Df(e);Yh(e,c,l);break;default:throw Error(se(161))}}catch(f){et(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;V1(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Vi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)z1(e,t.alternate,t),t=t.sibling}function uo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Jr(4,t,t.return),uo(t);break;case 1:Ii(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&F1(t,t.return,n),uo(t);break;case 27:el(t.stateNode);case 26:case 5:Ii(t,t.return),uo(t);break;case 22:t.memoizedState===null&&uo(t);break;case 30:uo(t);break;default:uo(t)}e=e.sibling}}function Ki(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(r,o,n),Pl(4,o);break;case 1:if(Ki(r,o,n),i=o,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){et(i,i.return,c)}if(i=o,r=i.updateQueue,r!==null){var s=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)$_(l[r],s)}catch(c){et(i,i.return,c)}}n&&a&64&&B1(o),Ks(o,o.return);break;case 27:P1(o);case 26:case 5:Ki(r,o,n),n&&i===null&&a&4&&O1(o),Ks(o,o.return);break;case 12:Ki(r,o,n);break;case 31:Ki(r,o,n),n&&a&4&&$1(r,o);break;case 13:Ki(r,o,n),n&&a&4&&q1(r,o);break;case 22:o.memoizedState===null&&Ki(r,o,n),Ks(o,o.return);break;case 30:break;default:Ki(r,o,n)}t=t.sibling}}function zm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ol(n))}function jm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e))}function fi(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Y1(e,t,n,i),t=t.sibling}function Y1(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:fi(e,t,n,i),r&2048&&Pl(9,t);break;case 1:fi(e,t,n,i);break;case 3:fi(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e)));break;case 12:if(r&2048){fi(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){et(t,t.return,l)}}else fi(e,t,n,i);break;case 31:fi(e,t,n,i);break;case 13:fi(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,t.memoizedState!==null?o._visibility&2?fi(e,t,n,i):Xs(e,t):o._visibility&2?fi(e,t,n,i):(o._visibility|=2,Vo(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&zm(a,t);break;case 24:fi(e,t,n,i),r&2048&&jm(t.alternate,t);break;default:fi(e,t,n,i)}}function Vo(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,a=t,s=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Vo(o,a,s,l,r),Pl(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Vo(o,a,s,l,r):Xs(o,a):(f._visibility|=2,Vo(o,a,s,l,r)),r&&c&2048&&zm(a.alternate,a);break;case 24:Vo(o,a,s,l,r),r&&c&2048&&jm(a.alternate,a);break;default:Vo(o,a,s,l,r)}t=t.sibling}}function Xs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Xs(n,i),r&2048&&zm(i.alternate,i);break;case 24:Xs(n,i),r&2048&&jm(i.alternate,i);break;default:Xs(n,i)}t=t.sibling}}var Bs=8192;function $o(e,t,n){if(e.subtreeFlags&Bs)for(e=e.child;e!==null;)W1(e,t,n),e=e.sibling}function W1(e,t,n){switch(e.tag){case 26:$o(e,t,n),e.flags&Bs&&e.memoizedState!==null&&t5(n,pi,e.memoizedState,e.memoizedProps);break;case 5:$o(e,t,n);break;case 3:case 4:var i=pi;pi=Iu(e.stateNode.containerInfo),$o(e,t,n),pi=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Bs,Bs=16777216,$o(e,t,n),Bs=i):$o(e,t,n));break;default:$o(e,t,n)}}function J1(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];jt=i,X1(i,e)}J1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)K1(e),e=e.sibling}function K1(e){switch(e.tag){case 0:case 11:case 15:gs(e),e.flags&2048&&Jr(9,e,e.return);break;case 3:gs(e);break;case 12:gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$c(e)):gs(e);break;default:gs(e)}}function $c(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];jt=i,X1(i,e)}J1(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Jr(8,t,t.return),$c(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$c(t));break;default:$c(t)}e=e.sibling}}function X1(e,t){for(;jt!==null;){var n=jt;switch(n.tag){case 0:case 11:case 15:Jr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ol(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,jt=i;else e:for(n=e;jt!==null;){i=jt;var r=i.sibling,o=i.return;if(j1(i),i===n){jt=null;break e}if(r!==null){r.return=o,jt=r;break e}jt=o}}}var gA={getCacheForType:function(e){var t=Zt(Nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Zt(Nt).controller.signal}},yA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,je=null,He=0,Qe=0,Mn=null,Lr=!1,Za=!1,Hm=!1,hr=0,Ct=0,Kr=0,bo=0,$m=0,Bn=0,Ia=0,Zs=null,_n=null,Wh=!1,wd=0,Z1=0,Tu=1/0,wu=null,jr=null,Ft=0,Hr=null,Ma=null,ar=0,Jh=0,Kh=null,Q1=null,Qs=0,Xh=null;function zn(){return Ye&2&&He!==0?He&-He:Le.T!==null?Gm():l_()}function eC(){if(Bn===0)if(!(He&536870912)||$e){var e=oc;oc<<=1,!(oc&3932160)&&(oc=262144),Bn=e}else Bn=536870912;return e=qn.current,e!==null&&(e.flags|=32),Bn}function wn(e,t,n){(e===rt&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(La(e,0),Dr(e,He,Bn,!1)),Dl(e,n),(!(Ye&2)||e!==rt)&&(e===rt&&(!(Ye&2)&&(bo|=n),Ct===4&&Dr(e,He,Bn,!1)),Ui(e))}function tC(e,t,n){if(Ye&6)throw Error(se(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ll(e,t),r=i?bA(e,t):Ff(e,t,!0),o=i;do{if(r===0){Za&&!i&&Dr(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!vA(n)){r=Ff(e,t,!1),o=!1;continue}if(r===2){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var s=e;r=Zs;var l=s.current.memoizedState.isDehydrated;if(l&&(La(s,a).flags|=256),a=Ff(s,a,!1),a!==2){if(Hm&&!l){s.errorRecoveryDisabledLanes|=o,bo|=o,r=4;break e}o=_n,_n=r,o!==null&&(_n===null?_n=o:_n.push.apply(_n,o))}r=a}if(o=!1,r!==2)continue}}if(r===1){La(e,0),Dr(e,t,0,!0);break}e:{switch(i=e,o=r,o){case 0:case 1:throw Error(se(345));case 4:if((t&4194048)!==t)break;case 6:Dr(i,t,Bn,!Lr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(se(329))}if((t&62914560)===t&&(r=wd+300-On(),10<r)){if(Dr(i,t,Bn,!Lr),pd(i,0,!0)!==0)break e;ar=t,i.timeoutHandle=_C(Q0.bind(null,i,n,_n,wu,Wh,t,Bn,bo,Ia,Lr,o,"Throttled",-0,0),r);break e}Q0(i,n,_n,wu,Wh,t,Bn,bo,Ia,Lr,o,null,-0,0)}}break}while(!0);Ui(e)}function Q0(e,t,n,i,r,o,a,s,l,c,f,m,p,g){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tr},W1(t,o,m);var b=(o&62914560)===o?wd-On():(o&4194048)===o?Z1-On():0;if(b=n5(m,b),b!==null){ar=o,e.cancelPendingCommit=b(ty.bind(null,e,t,o,n,i,r,a,s,l,f,m,null,p,g)),Dr(e,o,a,!c);return}}ty(e,t,o,n,i,r,a,s,l)}function vA(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!$n(o(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t,n,i){t&=~$m,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var o=31-Pn(r),a=1<<o;i[o]=-1,r&=~a}n!==0&&o_(e,n,t)}function Ed(){return Ye&6?!0:(zl(0),!1)}function qm(){if(je!==null){if(Qe===0)var e=je.return;else e=je,nr=Bo=null,km(e),ma=null,hl=0,e=je;for(;e!==null;)D1(e.alternate,e),e=e.return;je=null}}function La(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,UA(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ar=0,qm(),rt=e,je=n=rr(e.current,null),He=t,Qe=0,Mn=null,Lr=!1,Za=Ll(e,t),Hm=!1,Ia=Bn=$m=bo=Kr=Ct=0,_n=Zs=null,Wh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Pn(i),o=1<<r;t|=e[r],i&=~o}return hr=t,vd(),n}function nC(e,t){Oe=null,Le.H=ml,t===Xa||t===bd?(t=I0(),Qe=3):t===Cm?(t=I0(),Qe=4):Qe=t===Um?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mn=t,je===null&&(Ct=1,_u(e,Qn(t,e.current)))}function iC(){var e=qn.current;return e===null?!0:(He&4194048)===He?ti===null:(He&62914560)===He||He&536870912?e===ti:!1}function rC(){var e=Le.H;return Le.H=ml,e===null?ml:e}function oC(){var e=Le.A;return Le.A=gA,e}function Eu(){Ct=4,Lr||(He&4194048)!==He&&qn.current!==null||(Za=!0),!(Kr&134217727)&&!(bo&134217727)||rt===null||Dr(rt,He,Bn,!1)}function Ff(e,t,n){var i=Ye;Ye|=2;var r=rC(),o=oC();(rt!==e||He!==t)&&(wu=null,La(e,t)),t=!1;var a=Ct;e:do try{if(Qe!==0&&je!==null){var s=je,l=Mn;switch(Qe){case 8:qm(),a=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(t=!0);var c=Qe;if(Qe=0,Mn=null,aa(e,s,l,c),n&&Za){a=0;break e}break;default:c=Qe,Qe=0,Mn=null,aa(e,s,l,c)}}xA(),a=Ct;break}catch(f){nC(e,f)}while(!0);return t&&e.shellSuspendCounter++,nr=Bo=null,Ye=i,Le.H=r,Le.A=o,je===null&&(rt=null,He=0,vd()),a}function xA(){for(;je!==null;)aC(je)}function bA(e,t){var n=Ye;Ye|=2;var i=rC(),r=oC();rt!==e||He!==t?(wu=null,Tu=On()+500,La(e,t)):Za=Ll(e,t);e:do try{if(Qe!==0&&je!==null){t=je;var o=Mn;t:switch(Qe){case 1:Qe=0,Mn=null,aa(e,t,o,1);break;case 2:case 9:if(R0(o)){Qe=0,Mn=null,ey(t);break}t=function(){Qe!==2&&Qe!==9||rt!==e||(Qe=7),Ui(e)},o.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:R0(o)?(Qe=0,Mn=null,ey(t)):(Qe=0,Mn=null,aa(e,t,o,7));break;case 5:var a=null;switch(je.tag){case 26:a=je.memoizedState;case 5:case 27:var s=je;if(a?EC(a):s.stateNode.complete){Qe=0,Mn=null;var l=s.sibling;if(l!==null)je=l;else{var c=s.return;c!==null?(je=c,Ad(c)):je=null}break t}}Qe=0,Mn=null,aa(e,t,o,5);break;case 6:Qe=0,Mn=null,aa(e,t,o,6);break;case 8:qm(),Ct=6;break e;default:throw Error(se(462))}}_A();break}catch(f){nC(e,f)}while(!0);return nr=Bo=null,Le.H=i,Le.A=r,Ye=n,je!==null?0:(rt=null,He=0,vd(),Ct)}function _A(){for(;je!==null&&!qE();)aC(je)}function aC(e){var t=L1(e.alternate,e,hr);e.memoizedProps=e.pendingProps,t===null?Ad(e):je=t}function ey(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Y0(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Y0(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:km(t);default:D1(n,t),t=je=D_(t,hr),t=L1(n,t,hr)}e.memoizedProps=e.pendingProps,t===null?Ad(e):je=t}function aa(e,t,n,i){nr=Bo=null,km(t),ma=null,hl=0;var r=t.return;try{if(cA(e,r,t,n,He)){Ct=1,_u(e,Qn(n,e.current)),je=null;return}}catch(o){if(r!==null)throw je=r,o;Ct=1,_u(e,Qn(n,e.current)),je=null;return}t.flags&32768?($e||i===1?e=!0:Za||He&536870912?e=!1:(Lr=e=!0,(i===2||i===9||i===3||i===6)&&(i=qn.current,i!==null&&i.tag===13&&(i.flags|=16384))),sC(t,e)):Ad(t)}function Ad(e){var t=e;do{if(t.flags&32768){sC(t,Lr);return}e=t.return;var n=fA(t.alternate,t,hr);if(n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ct===0&&(Ct=5)}function sC(e,t){do{var n=hA(e.alternate,e);if(n!==null){n.flags&=32767,je=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=n}while(e!==null);Ct=6,je=null}function ty(e,t,n,i,r,o,a,s,l){e.cancelPendingCommit=null;do Nd();while(Ft!==0);if(Ye&6)throw Error(se(327));if(t!==null){if(t===e.current)throw Error(se(177));if(o=t.lanes|t.childLanes,o|=mm,e2(e,n,o,a,s,l),e===rt&&(je=rt=null,He=0),Ma=t,Hr=e,ar=n,Jh=o,Kh=r,Q1=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,wA(uu,function(){return fC(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Le.T,Le.T=null,r=We.p,We.p=2,a=Ye,Ye|=4;try{pA(e,t,n)}finally{Ye=a,We.p=r,Le.T=i}}Ft=1,lC(),cC(),uC()}}function lC(){if(Ft===1){Ft=0;var e=Hr,t=Ma,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Le.T,Le.T=null;var i=We.p;We.p=2;var r=Ye;Ye|=4;try{G1(t,e);var o=tp,a=E_(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&w_(s.ownerDocument.documentElement,s)){if(l!==null&&pm(s)){var c=l.start,f=l.end;if(f===void 0&&(f=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(f,s.value.length);else{var m=s.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var g=p.getSelection(),b=s.textContent.length,x=Math.min(l.start,b),C=l.end===void 0?x:Math.min(l.end,b);!g.extend&&x>C&&(a=C,C=x,x=a);var v=S0(s,x),y=S0(s,C);if(v&&y&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var _=m.createRange();_.setStart(v.node,v.offset),g.removeAllRanges(),x>C?(g.addRange(_),g.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),g.addRange(_))}}}}for(m=[],g=s;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<m.length;s++){var T=m[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Du=!!ep,tp=ep=null}finally{Ye=r,We.p=i,Le.T=n}}e.current=t,Ft=2}}function cC(){if(Ft===2){Ft=0;var e=Hr,t=Ma,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Le.T,Le.T=null;var i=We.p;We.p=2;var r=Ye;Ye|=4;try{z1(e,t.alternate,t)}finally{Ye=r,We.p=i,Le.T=n}}Ft=3}}function uC(){if(Ft===4||Ft===3){Ft=0,GE();var e=Hr,t=Ma,n=ar,i=Q1;t.subtreeFlags&10256||t.flags&10256?Ft=5:(Ft=0,Ma=Hr=null,dC(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(jr=null),sm(n),t=t.stateNode,Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Le.T,r=We.p,We.p=2,Le.T=null;try{for(var o=e.onRecoverableError,a=0;a<i.length;a++){var s=i[a];o(s.value,{componentStack:s.stack})}}finally{Le.T=t,We.p=r}}ar&3&&Nd(),Ui(e),r=e.pendingLanes,n&261930&&r&42?e===Xh?Qs++:(Qs=0,Xh=e):Qs=0,zl(0)}}function dC(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ol(t)))}function Nd(){return lC(),cC(),uC(),fC()}function fC(){if(Ft!==5)return!1;var e=Hr,t=Jh;Jh=0;var n=sm(ar),i=Le.T,r=We.p;try{We.p=32>n?32:n,Le.T=null,n=Kh,Kh=null;var o=Hr,a=ar;if(Ft=0,Ma=Hr=null,ar=0,Ye&6)throw Error(se(331));var s=Ye;if(Ye|=4,K1(o.current),Y1(o,o.current,a,n),Ye=s,zl(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Ml,o)}catch{}return!0}finally{We.p=r,Le.T=i,dC(e,t)}}function ny(e,t,n){t=Qn(n,t),t=qh(e.stateNode,t,2),e=zr(e,t,2),e!==null&&(Dl(e,2),Ui(e))}function et(e,t,n){if(e.tag===3)ny(e,e,n);else for(;t!==null;){if(t.tag===3){ny(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(jr===null||!jr.has(i))){e=Qn(n,e),n=A1(2),i=zr(t,n,2),i!==null&&(N1(n,i,t,e),Dl(i,2),Ui(i));break}}t=t.return}}function Of(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new yA;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Hm=!0,r.add(n),e=CA.bind(null,e,t,n),t.then(e,e))}function CA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rt===e&&(He&n)===n&&(Ct===4||Ct===3&&(He&62914560)===He&&300>On()-wd?!(Ye&2)&&La(e,0):$m|=n,Ia===He&&(Ia=0)),Ui(e)}function hC(e,t){t===0&&(t=r_()),e=Do(e,t),e!==null&&(Dl(e,t),Ui(e))}function SA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hC(e,n)}function TA(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(se(314))}i!==null&&i.delete(t),hC(e,n)}function wA(e,t){return om(e,t)}var Au=null,Yo=null,Zh=!1,Nu=!1,Uf=!1,Br=0;function Ui(e){e!==Yo&&e.next===null&&(Yo===null?Au=Yo=e:Yo=Yo.next=e),Nu=!0,Zh||(Zh=!0,AA())}function zl(e,t){if(!Uf&&Nu){Uf=!0;do for(var n=!1,i=Au;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var o=0;else{var a=i.suspendedLanes,s=i.pingedLanes;o=(1<<31-Pn(42|e)+1)-1,o&=r&~(a&~s),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,iy(i,o))}else o=He,o=pd(i,i===rt?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||Ll(i,o)||(n=!0,iy(i,o));i=i.next}while(n);Uf=!1}}function EA(){pC()}function pC(){Nu=Zh=!1;var e=0;Br!==0&&OA()&&(e=Br);for(var t=On(),n=null,i=Au;i!==null;){var r=i.next,o=mC(i,t);o===0?(i.next=null,n===null?Au=r:n.next=r,r===null&&(Yo=n)):(n=i,(e!==0||o&3)&&(Nu=!0)),i=r}Ft!==0&&Ft!==5||zl(e),Br!==0&&(Br=0)}function mC(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var a=31-Pn(o),s=1<<a,l=r[a];l===-1?(!(s&n)||s&i)&&(r[a]=QE(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(t=rt,n=He,n=pd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ff(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ll(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ff(i),sm(n)){case 2:case 8:n=n_;break;case 32:n=uu;break;case 268435456:n=i_;break;default:n=uu}return i=gC.bind(null,e),n=om(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ff(i),e.callbackPriority=2,e.callbackNode=null,2}function gC(e,t){if(Ft!==0&&Ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nd()&&e.callbackNode!==n)return null;var i=He;return i=pd(e,e===rt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(tC(e,i,t),mC(e,On()),e.callbackNode!=null&&e.callbackNode===n?gC.bind(null,e):null)}function iy(e,t){if(Nd())return null;tC(e,t,!0)}function AA(){PA(function(){Ye&6?om(t_,EA):pC()})}function Gm(){if(Br===0){var e=Na;e===0&&(e=rc,rc<<=1,!(rc&261888)&&(rc=256)),Br=e}return Br}function ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dc(""+e)}function oy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function NA(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var o=ry((r[En]||null).action),a=i.submitter;a&&(t=(t=a[En]||null)?ry(t.formAction):a.getAttribute("formAction"),t!==null&&(o=t,a=null));var s=new md("action","action",null,i,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Br!==0){var l=a?oy(r,a):new FormData(r);Hh(n,{pending:!0,data:l,method:r.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?oy(r,a):new FormData(r),Hh(n,{pending:!0,data:l,method:r.method,action:o},o,l))},currentTarget:r}]})}}for(var Pf=0;Pf<Rh.length;Pf++){var zf=Rh[Pf],kA=zf.toLowerCase(),RA=zf[0].toUpperCase()+zf.slice(1);xi(kA,"on"+RA)}xi(N_,"onAnimationEnd");xi(k_,"onAnimationIteration");xi(R_,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(V2,"onTransitionRun");xi(Y2,"onTransitionStart");xi(W2,"onTransitionCancel");xi(I_,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function yC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;o=s,r.currentTarget=c;try{o(r)}catch(f){fu(f)}r.currentTarget=null,o=l}else for(a=0;a<i.length;a++){if(s=i[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;o=s,r.currentTarget=c;try{o(r)}catch(f){fu(f)}r.currentTarget=null,o=l}}}}function ze(e,t){var n=t[Ch];n===void 0&&(n=t[Ch]=new Set);var i=e+"__bubble";n.has(i)||(vC(t,e,2,!1),n.add(i))}function jf(e,t,n){var i=0;t&&(i|=4),vC(n,e,i,t)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Vm(e){if(!e[pc]){e[pc]=!0,c_.forEach(function(n){n!=="selectionchange"&&(IA.has(n)||jf(n,!1,e),jf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pc]||(t[pc]=!0,jf("selectionchange",!1,t))}}function vC(e,t,n,i){switch(IC(t)){case 2:var r=o5;break;case 8:r=a5;break;default:r=Km}n=r.bind(null,t,n,e),r=void 0,!Ah||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hf(e,t,n,i,r){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var s=i.stateNode.containerInfo;if(s===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;s!==null;){if(a=Xo(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=o=a;continue e}s=s.parentNode}}i=i.return}y_(function(){var c=o,f=um(n),m=[];e:{var p=M_.get(e);if(p!==void 0){var g=md,b=e;switch(e){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":g=T2;break;case"focusin":b="focus",g=yf;break;case"focusout":b="blur",g=yf;break;case"beforeblur":case"afterblur":g=yf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=h0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=f2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=A2;break;case N_:case k_:case R_:g=m2;break;case I_:g=k2;break;case"scroll":case"scrollend":g=u2;break;case"wheel":g=I2;break;case"copy":case"cut":case"paste":g=y2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=m0;break;case"toggle":case"beforetoggle":g=L2}var x=(t&4)!==0,C=!x&&(e==="scroll"||e==="scrollend"),v=x?p!==null?p+"Capture":null:p;x=[];for(var y=c,_;y!==null;){var T=y;if(_=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||_===null||v===null||(T=ll(y,v),T!=null&&x.push(yl(y,T,_))),C)break;y=y.return}0<x.length&&(p=new g(p,b,null,n,f),m.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Eh&&(b=n.relatedTarget||n.fromElement)&&(Xo(b)||b[Wa]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=c,b=b?Xo(b):null,b!==null&&(C=Il(b),x=b.tag,b!==C||x!==5&&x!==27&&x!==6)&&(b=null)):(g=null,b=c),g!==b)){if(x=h0,T="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=m0,T="onPointerLeave",v="onPointerEnter",y="pointer"),C=g==null?p:Ls(g),_=b==null?p:Ls(b),p=new x(T,y+"leave",g,n,f),p.target=C,p.relatedTarget=_,T=null,Xo(f)===c&&(x=new x(v,y+"enter",b,n,f),x.target=_,x.relatedTarget=C,T=x),C=T,g&&b)t:{for(x=MA,v=g,y=b,_=0,T=v;T;T=x(T))_++;T=0;for(var A=y;A;A=x(A))T++;for(;0<_-T;)v=x(v),_--;for(;0<T-_;)y=x(y),T--;for(;_--;){if(v===y||y!==null&&v===y.alternate){x=v;break t}v=x(v),y=x(y)}x=null}else x=null;g!==null&&ay(m,p,g,x,!1),b!==null&&C!==null&&ay(m,C,b,x,!0)}}e:{if(p=c?Ls(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var I=x0;else if(v0(p))if(S_)I=$2;else{I=j2;var N=z2}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&cm(c.elementType)&&(I=x0):I=H2;if(I&&(I=I(e,c))){C_(m,I,n,f);break e}N&&N(e,p,c),e==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&wh(p,"number",p.value)}switch(N=c?Ls(c):window,e){case"focusin":(v0(N)||N.contentEditable==="true")&&(ea=N,Nh=c,qs=null);break;case"focusout":qs=Nh=ea=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,T0(m,n,f);break;case"selectionchange":if(G2)break;case"keydown":case"keyup":T0(m,n,f)}var P;if(hm)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Qo?b_(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(x_&&n.locale!=="ko"&&(Qo||M!=="onCompositionStart"?M==="onCompositionEnd"&&Qo&&(P=v_()):(Mr=f,dm="value"in Mr?Mr.value:Mr.textContent,Qo=!0)),N=ku(c,M),0<N.length&&(M=new p0(M,e,null,n,f),m.push({event:M,listeners:N}),P?M.data=P:(P=__(n),P!==null&&(M.data=P)))),(P=B2?F2(e,n):O2(e,n))&&(M=ku(c,"onBeforeInput"),0<M.length&&(N=new p0("onBeforeInput","beforeinput",null,n,f),m.push({event:N,listeners:M}),N.data=P)),NA(m,e,c,n,f)}yC(m,t)})}function yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ku(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,o=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||o===null||(r=ll(e,n),r!=null&&i.unshift(yl(e,r,o)),r=ll(e,t),r!=null&&i.push(yl(e,r,o))),e.tag===3)return i;e=e.return}return[]}function MA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ay(e,t,n,i,r){for(var o=t._reactName,a=[];n!==null&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,l!==null&&l===i)break;s!==5&&s!==26&&s!==27||c===null||(l=c,r?(c=ll(n,o),c!=null&&a.unshift(yl(n,c,l))):r||(c=ll(n,o),c!=null&&a.push(yl(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var LA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function sy(e){return(typeof e=="string"?e:""+e).replace(LA,`
`).replace(DA,"")}function xC(e,t){return t=sy(t),sy(e)===t}function tt(e,t,n,i,r,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Aa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Aa(e,""+i);break;case"className":sc(e,"class",i);break;case"tabIndex":sc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":sc(e,n,i);break;case"style":g_(e,i,o);break;case"data":if(t!=="object"){sc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Dc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&tt(e,t,"name",r.name,r,null),tt(e,t,"formEncType",r.formEncType,r,null),tt(e,t,"formMethod",r.formMethod,r,null),tt(e,t,"formTarget",r.formTarget,r,null)):(tt(e,t,"encType",r.encType,r,null),tt(e,t,"method",r.method,r,null),tt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Dc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=tr);break;case"onScroll":i!=null&&ze("scroll",e);break;case"onScrollEnd":i!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(se(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(se(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Dc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ze("beforetoggle",e),ze("toggle",e),Lc(e,"popover",i);break;case"xlinkActuate":$i(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":$i(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":$i(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":$i(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":$i(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":$i(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":$i(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":$i(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":$i(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Lc(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=l2.get(n)||n,Lc(e,n,i))}}function Qh(e,t,n,i,r,o){switch(n){case"style":g_(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(se(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(se(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Aa(e,i):(typeof i=="number"||typeof i=="bigint")&&Aa(e,""+i);break;case"onScroll":i!=null&&ze("scroll",e);break;case"onScrollEnd":i!=null&&ze("scrollend",e);break;case"onClick":i!=null&&(e.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),o=e[En]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,r),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Lc(e,n,i)}}}function Qt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var i=!1,r=!1,o;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(a!=null)switch(o){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(se(137,t));default:tt(e,t,o,a,n,null)}}r&&tt(e,t,"srcSet",n.srcSet,n,null),i&&tt(e,t,"src",n.src,n,null);return;case"input":ze("invalid",e);var s=o=a=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":l=f;break;case"defaultChecked":c=f;break;case"value":o=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(se(137,t));break;default:tt(e,t,i,f,n,null)}}h_(e,o,s,l,c,a,r,!1);return;case"select":ze("invalid",e),i=a=o=null;for(r in n)if(n.hasOwnProperty(r)&&(s=n[r],s!=null))switch(r){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:tt(e,t,r,s,n,null)}t=o,n=a,e.multiple=!!i,t!=null?fa(e,!!i,t,!1):n!=null&&fa(e,!!i,n,!0);return;case"textarea":ze("invalid",e),o=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":r=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(se(91));break;default:tt(e,t,a,s,n,null)}m_(e,i,r,o);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:tt(e,t,l,i,n,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(i=0;i<gl.length;i++)ze(gl[i],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(se(137,t));default:tt(e,t,c,i,n,null)}return;default:if(cm(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Qh(e,t,f,i,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(i=n[s],i!=null&&tt(e,t,s,i,n,null))}function BA(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,a=null,s=null,l=null,c=null,f=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=m;default:i.hasOwnProperty(g)||tt(e,t,g,null,i,m)}}for(var p in i){var g=i[p];if(m=n[p],i.hasOwnProperty(p)&&(g!=null||m!=null))switch(p){case"type":o=g;break;case"name":r=g;break;case"checked":c=g;break;case"defaultChecked":f=g;break;case"value":a=g;break;case"defaultValue":s=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(se(137,t));break;default:g!==m&&tt(e,t,p,g,i,m)}}Th(e,a,s,l,c,f,o,r);return;case"select":g=a=s=p=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":g=l;default:i.hasOwnProperty(o)||tt(e,t,o,null,i,l)}for(r in i)if(o=i[r],l=n[r],i.hasOwnProperty(r)&&(o!=null||l!=null))switch(r){case"value":p=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&tt(e,t,r,o,i,l)}t=s,n=a,i=g,p!=null?fa(e,!!n,p,!1):!!i!=!!n&&(t!=null?fa(e,!!n,t,!0):fa(e,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(s in n)if(r=n[s],n.hasOwnProperty(s)&&r!=null&&!i.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:tt(e,t,s,null,i,r)}for(a in i)if(r=i[a],o=n[a],i.hasOwnProperty(a)&&(r!=null||o!=null))switch(a){case"value":p=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(se(91));break;default:r!==o&&tt(e,t,a,r,i,o)}p_(e,p,g);return;case"option":for(var b in n)if(p=n[b],n.hasOwnProperty(b)&&p!=null&&!i.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:tt(e,t,b,null,i,p)}for(l in i)if(p=i[l],g=n[l],i.hasOwnProperty(l)&&p!==g&&(p!=null||g!=null))switch(l){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:tt(e,t,l,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)p=n[x],n.hasOwnProperty(x)&&p!=null&&!i.hasOwnProperty(x)&&tt(e,t,x,null,i,p);for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(se(137,t));break;default:tt(e,t,c,p,i,g)}return;default:if(cm(t)){for(var C in n)p=n[C],n.hasOwnProperty(C)&&p!==void 0&&!i.hasOwnProperty(C)&&Qh(e,t,C,void 0,i,p);for(f in i)p=i[f],g=n[f],!i.hasOwnProperty(f)||p===g||p===void 0&&g===void 0||Qh(e,t,f,p,i,g);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!i.hasOwnProperty(v)&&tt(e,t,v,null,i,p);for(m in i)p=i[m],g=n[m],!i.hasOwnProperty(m)||p===g||p==null&&g==null||tt(e,t,m,p,i,g)}function ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],o=r.transferSize,a=r.initiatorType,s=r.duration;if(o&&s&&ly(a)){for(a=0,s=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>s)break;var f=l.transferSize,m=l.initiatorType;f&&ly(m)&&(l=l.responseEnd,a+=f*(l<s?1:(s-c)/(l-c)))}if(--i,t+=8*(o+a)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ep=null,tp=null;function Ru(e){return e.nodeType===9?e:e.ownerDocument}function cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bC(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function np(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=null;function OA(){var e=window.event;return e&&e.type==="popstate"?e===$f?!1:($f=e,!0):($f=null,!1)}var _C=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(e){return uy.resolve(null).then(e).catch(zA)}:_C;function zA(e){setTimeout(function(){throw e})}function eo(e){return e==="head"}function dy(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),Ba(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")el(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,el(n);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Bl]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=a}}else n==="body"&&el(e.ownerDocument.body);n=r}while(n);Ba(t)}function fy(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function ip(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ip(n),lm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jA(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=ni(e.nextSibling),e===null)break}return null}function HA(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ni(e.nextSibling),e===null))return null;return e}function CC(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ni(e.nextSibling),e===null))return null;return e}function rp(e){return e.data==="$?"||e.data==="$~"}function op(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $A(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ap=null;function hy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ni(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function py(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function SC(e,t,n){switch(t=Ru(n),e){case"html":if(e=t.documentElement,!e)throw Error(se(452));return e;case"head":if(e=t.head,!e)throw Error(se(453));return e;case"body":if(e=t.body,!e)throw Error(se(454));return e;default:throw Error(se(451))}}function el(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);lm(e)}var oi=new Map,my=new Set;function Iu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gr=We.d;We.d={f:qA,r:GA,D:VA,C:YA,L:WA,m:JA,X:XA,S:KA,M:ZA};function qA(){var e=gr.f(),t=Ed();return e||t}function GA(e){var t=Ja(e);t!==null&&t.tag===5&&t.type==="form"?g1(t):gr.r(e)}var Qa=typeof document>"u"?null:document;function TC(e,t,n){var i=Qa;if(i&&typeof t=="string"&&t){var r=Zn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),my.has(r)||(my.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Qt(t,"link",e),Ht(t),i.head.appendChild(t)))}}function VA(e){gr.D(e),TC("dns-prefetch",e,null)}function YA(e,t){gr.C(e,t),TC("preconnect",e,t)}function WA(e,t,n){gr.L(e,t,n);var i=Qa;if(i&&e&&t){var r='link[rel="preload"][as="'+Zn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Zn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Zn(n.imageSizes)+'"]')):r+='[href="'+Zn(e)+'"]';var o=r;switch(t){case"style":o=Da(e);break;case"script":o=es(e)}oi.has(o)||(e=ht({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),oi.set(o,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(jl(o))||t==="script"&&i.querySelector(Hl(o))||(t=i.createElement("link"),Qt(t,"link",e),Ht(t),i.head.appendChild(t)))}}function JA(e,t){gr.m(e,t);var n=Qa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Zn(i)+'"][href="'+Zn(e)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=es(e)}if(!oi.has(o)&&(e=ht({rel:"modulepreload",href:e},t),oi.set(o,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Hl(o)))return}i=n.createElement("link"),Qt(i,"link",e),Ht(i),n.head.appendChild(i)}}}function KA(e,t,n){gr.S(e,t,n);var i=Qa;if(i&&e){var r=da(i).hoistableStyles,o=Da(e);t=t||"default";var a=r.get(o);if(!a){var s={loading:0,preload:null};if(a=i.querySelector(jl(o)))s.loading=5;else{e=ht({rel:"stylesheet",href:e,"data-precedence":t},n),(n=oi.get(o))&&Ym(e,n);var l=a=i.createElement("link");Ht(l),Qt(l,"link",e),l._p=new Promise(function(c,f){l.onload=c,l.onerror=f}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,qc(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:s},r.set(o,a)}}}function XA(e,t){gr.X(e,t);var n=Qa;if(n&&e){var i=da(n).hoistableScripts,r=es(e),o=i.get(r);o||(o=n.querySelector(Hl(r)),o||(e=ht({src:e,async:!0},t),(t=oi.get(r))&&Wm(e,t),o=n.createElement("script"),Ht(o),Qt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}function ZA(e,t){gr.M(e,t);var n=Qa;if(n&&e){var i=da(n).hoistableScripts,r=es(e),o=i.get(r);o||(o=n.querySelector(Hl(r)),o||(e=ht({src:e,async:!0,type:"module"},t),(t=oi.get(r))&&Wm(e,t),o=n.createElement("script"),Ht(o),Qt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}function gy(e,t,n,i){var r=(r=Or.current)?Iu(r):null;if(!r)throw Error(se(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Da(n.href),n=da(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Da(n.href);var o=da(r).hoistableStyles,a=o.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,a),(o=r.querySelector(jl(e)))&&!o._p&&(a.instance=o,a.state.loading=5),oi.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},oi.set(e,n),o||QA(r,e,n,a.state))),t&&i===null)throw Error(se(528,""));return a}if(t&&i!==null)throw Error(se(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=es(n),n=da(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(se(444,e))}}function Da(e){return'href="'+Zn(e)+'"'}function jl(e){return'link[rel="stylesheet"]['+e+"]"}function wC(e){return ht({},e,{"data-precedence":e.precedence,precedence:null})}function QA(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Qt(t,"link",n),Ht(t),e.head.appendChild(t))}function es(e){return'[src="'+Zn(e)+'"]'}function Hl(e){return"script[async]"+e}function yy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Zn(n.href)+'"]');if(i)return t.instance=i,Ht(i),i;var r=ht({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ht(i),Qt(i,"style",r),qc(i,n.precedence,e),t.instance=i;case"stylesheet":r=Da(n.href);var o=e.querySelector(jl(r));if(o)return t.state.loading|=4,t.instance=o,Ht(o),o;i=wC(n),(r=oi.get(r))&&Ym(i,r),o=(e.ownerDocument||e).createElement("link"),Ht(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Qt(o,"link",i),t.state.loading|=4,qc(o,n.precedence,e),t.instance=o;case"script":return o=es(n.src),(r=e.querySelector(Hl(o)))?(t.instance=r,Ht(r),r):(i=n,(r=oi.get(o))&&(i=ht({},n),Wm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ht(r),Qt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(se(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,qc(i,n.precedence,e));return t.instance}function qc(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,a=0;a<i.length;a++){var s=i[a];if(s.dataset.precedence===t)o=s;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ym(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gc=null;function vy(e,t,n){if(Gc===null){var i=new Map,r=Gc=new Map;r.set(n,i)}else r=Gc,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[Bl]||o[Kt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(t)||"";a=e+a;var s=i.get(a);s?s.push(o):i.set(a,[o])}}return i}function xy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function e5(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function EC(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function t5(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Da(i.href),o=t.querySelector(jl(r));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Mu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Ht(o);return}o=t.ownerDocument||t,i=wC(i),(r=oi.get(r))&&Ym(i,r),o=o.createElement("link"),Ht(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Qt(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Mu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var qf=0;function n5(e,t){return e.stylesheets&&e.count===0&&Vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&qf===0&&(qf=62500*FA());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>qf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lu=null;function Vc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lu=new Map,t.forEach(i5,e),Lu=null,Mu.call(e))}function i5(e,t){if(!(t.state.loading&4)){var n=Lu.get(e);if(n)var i=n.get(null);else{n=new Map,Lu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var a=r[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),o=n.get(a)||i,o===i&&n.set(null,r),n.set(a,r),this.count++,i=Mu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var vl={$$typeof:er,Provider:null,Consumer:null,_currentValue:go,_currentValue2:go,_threadCount:0};function r5(e,t,n,i,r,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.hiddenUpdates=hf(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function AC(e,t,n,i,r,o,a,s,l,c,f,m){return e=new r5(e,t,n,a,l,c,f,m,s),t=1,o===!0&&(t|=24),o=Dn(3,null,null,t),e.current=o,o.stateNode=e,t=bm(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Sm(o),e}function NC(e){return e?(e=ia,e):ia}function kC(e,t,n,i,r,o){r=NC(r),i.context===null?i.context=r:i.pendingContext=r,i=Pr(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=zr(e,i,t),n!==null&&(wn(n,e,t),Vs(n,e,t))}function by(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jm(e,t){by(e,t),(e=e.alternate)&&by(e,t)}function RC(e){if(e.tag===13||e.tag===31){var t=Do(e,67108864);t!==null&&wn(t,e,67108864),Jm(e,67108864)}}function _y(e){if(e.tag===13||e.tag===31){var t=zn();t=am(t);var n=Do(e,t);n!==null&&wn(n,e,t),Jm(e,t)}}var Du=!0;function o5(e,t,n,i){var r=Le.T;Le.T=null;var o=We.p;try{We.p=2,Km(e,t,n,i)}finally{We.p=o,Le.T=r}}function a5(e,t,n,i){var r=Le.T;Le.T=null;var o=We.p;try{We.p=8,Km(e,t,n,i)}finally{We.p=o,Le.T=r}}function Km(e,t,n,i){if(Du){var r=sp(i);if(r===null)Hf(e,t,i,Bu,n),Cy(e,i);else if(l5(r,e,t,n,i))i.stopPropagation();else if(Cy(e,i),t&4&&-1<s5.indexOf(e)){for(;r!==null;){var o=Ja(r);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=lo(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Pn(a);s.entanglements[1]|=l,a&=~l}Ui(o),!(Ye&6)&&(Tu=On()+500,zl(0))}}break;case 31:case 13:s=Do(o,2),s!==null&&wn(s,o,2),Ed(),Jm(o,2)}if(o=sp(i),o===null&&Hf(e,t,i,Bu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Hf(e,t,i,null,n)}}function sp(e){return e=um(e),Xm(e)}var Bu=null;function Xm(e){if(Bu=null,e=Xo(e),e!==null){var t=Il(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Kb(t),e!==null)return e;e=null}else if(n===31){if(e=Xb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bu=e,null}function IC(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VE()){case t_:return 2;case n_:return 8;case uu:case YE:return 32;case i_:return 268435456;default:return 32}default:return 32}}var lp=!1,$r=null,qr=null,Gr=null,xl=new Map,bl=new Map,Rr=[],s5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(e,t){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function ys(e,t,n,i,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Ja(t),t!==null&&RC(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function l5(e,t,n,i,r){switch(t){case"focusin":return $r=ys($r,e,t,n,i,r),!0;case"dragenter":return qr=ys(qr,e,t,n,i,r),!0;case"mouseover":return Gr=ys(Gr,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return xl.set(o,ys(xl.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,bl.set(o,ys(bl.get(o)||null,e,t,n,i,r)),!0}return!1}function MC(e){var t=Xo(e.target);if(t!==null){var n=Il(t);if(n!==null){if(t=n.tag,t===13){if(t=Kb(n),t!==null){e.blockedOn=t,a0(e.priority,function(){_y(n)});return}}else if(t===31){if(t=Xb(n),t!==null){e.blockedOn=t,a0(e.priority,function(){_y(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sp(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Eh=i,n.target.dispatchEvent(i),Eh=null}else return t=Ja(n),t!==null&&RC(t),e.blockedOn=n,!1;t.shift()}return!0}function Sy(e,t,n){Yc(e)&&n.delete(t)}function c5(){lp=!1,$r!==null&&Yc($r)&&($r=null),qr!==null&&Yc(qr)&&(qr=null),Gr!==null&&Yc(Gr)&&(Gr=null),xl.forEach(Sy),bl.forEach(Sy)}function mc(e,t){e.blockedOn===t&&(e.blockedOn=null,lp||(lp=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,c5)))}var gc=null;function Ty(e){gc!==e&&(gc=e,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Xm(i||n)===null)continue;break}var o=Ja(n);o!==null&&(e.splice(t,3),t-=3,Hh(o,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ba(e){function t(l){return mc(l,e)}$r!==null&&mc($r,e),qr!==null&&mc(qr,e),Gr!==null&&mc(Gr,e),xl.forEach(t),bl.forEach(t);for(var n=0;n<Rr.length;n++){var i=Rr[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)MC(n),n.blockedOn===null&&Rr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],a=r[En]||null;if(typeof o=="function")a||Ty(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(r=o,a=o[En]||null)s=a.formAction;else if(Xm(r)!==null)continue}else s=a.action;typeof s=="function"?n[i+1]=s:(n.splice(i,3),i-=3),Ty(n)}}}function LC(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Zm(e){this._internalRoot=e}kd.prototype.render=Zm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));var n=t.current,i=zn();kC(n,i,e,t,null,null)};kd.prototype.unmount=Zm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kC(e.current,2,null,e,null,null),Ed(),t[Wa]=null}};function kd(e){this._internalRoot=e}kd.prototype.unstable_scheduleHydration=function(e){if(e){var t=l_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rr.length&&t!==0&&t<Rr[n].priority;n++);Rr.splice(n,0,e),n===0&&MC(e)}};var wy=Wb.version;if(wy!=="19.2.3")throw Error(se(527,wy,"19.2.3"));We.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=PE(t),e=e!==null?Zb(e):null,e=e===null?null:e.stateNode,e};var u5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Le,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Ml=yc.inject(u5),Un=yc}catch{}}fd.createRoot=function(e,t){if(!Jb(e))throw Error(se(299));var n=!1,i="",r=T1,o=w1,a=E1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=AC(e,1,!1,null,null,n,i,null,r,o,a,LC),e[Wa]=t.current,Vm(e),new Zm(t)};fd.hydrateRoot=function(e,t,n){if(!Jb(e))throw Error(se(299));var i=!1,r="",o=T1,a=w1,s=E1,l=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=AC(e,1,!0,t,n??null,i,r,l,o,a,s,LC),t.context=NC(null),n=t.current,i=zn(),i=am(i),r=Pr(i),r.callback=null,zr(n,r,i),n=i,t.current.lanes=n,Dl(t,n),Ui(t),e[Wa]=t.current,Vm(e),new kd(t)};fd.version="19.2.3";function DC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DC)}catch(e){console.error(e)}}DC(),Hb.exports=fd;var d5=Hb.exports;const f5=Rl(d5);var BC={},h5=Ot&&Ot.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),zt=Ot&&Ot.__assign||function(){return zt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},zt.apply(this,arguments)},p5=Ot&&Ot.__createBinding||(Object.create?function(e,t,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]}),m5=Ot&&Ot.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g5=Ot&&Ot.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&p5(t,e,n);return m5(t,e),t},y5=Ot&&Ot.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};Object.defineProperty(BC,"__esModule",{value:!0});var vs=g5(Q),v5=13,x5=9,b5=8,_5=89,vc=90,C5=77,Ey=57,Ay=219,Ny=222,ky=192,S5=27,Ry=100,T5=3e3,w5=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),Gf=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Wc="npm__react-simple-code-editor__textarea",E5=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(Wc,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(Wc,` {
    color: transparent !important;
  }

  .`).concat(Wc,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),A5=function(e){h5(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={capture:!0},n._recordCurrentState=function(){var i=n._input;if(i){var r=i.value,o=i.selectionStart,a=i.selectionEnd;n._recordChange({value:r,selectionStart:o,selectionEnd:a})}},n._getLines=function(i,r){return i.substring(0,r).split(`
`)},n._recordChange=function(i,r){var o,a,s;r===void 0&&(r=!1);var l=n._history,c=l.stack,f=l.offset;if(c.length&&f>-1){n._history.stack=c.slice(0,f+1);var m=n._history.stack.length;if(m>Ry){var p=m-Ry;n._history.stack=c.slice(p,m),n._history.offset=Math.max(n._history.offset-p,0)}}var g=Date.now();if(r){var b=n._history.stack[n._history.offset];if(b&&g-b.timestamp<T5){var x=/[^a-z0-9]([a-z0-9]+)$/i,C=(o=n._getLines(b.value,b.selectionStart).pop())===null||o===void 0?void 0:o.match(x),v=(a=n._getLines(i.value,i.selectionStart).pop())===null||a===void 0?void 0:a.match(x);if(C!=null&&C[1]&&(!((s=v==null?void 0:v[1])===null||s===void 0)&&s.startsWith(C[1]))){n._history.stack[n._history.offset]=zt(zt({},i),{timestamp:g});return}}}n._history.stack.push(zt(zt({},i),{timestamp:g})),n._history.offset++},n._updateInput=function(i){var r=n._input;r&&(r.value=i.value,r.selectionStart=i.selectionStart,r.selectionEnd=i.selectionEnd,n.props.onValueChange(i.value))},n._applyEdits=function(i){var r=n._input,o=n._history.stack[n._history.offset];o&&r&&(n._history.stack[n._history.offset]=zt(zt({},o),{selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})),n._recordChange(i),n._updateInput(i)},n._undoEdit=function(){var i=n._history,r=i.stack,o=i.offset,a=r[o-1];a&&(n._updateInput(a),n._history.offset=Math.max(o-1,0))},n._redoEdit=function(){var i=n._history,r=i.stack,o=i.offset,a=r[o+1];a&&(n._updateInput(a),n._history.offset=Math.min(o+1,r.length-1))},n._handleKeyDown=function(i){var r=n.props,o=r.tabSize,a=r.insertSpaces,s=r.ignoreTabKey,l=r.onKeyDown;if(!(l&&(l(i),i.defaultPrevented))){i.keyCode===S5&&i.currentTarget.blur();var c=i.currentTarget,f=c.value,m=c.selectionStart,p=c.selectionEnd,g=(a?" ":"	").repeat(o);if(i.keyCode===x5&&!s&&n.state.capture)if(i.preventDefault(),i.shiftKey){var b=n._getLines(f,m),x=b.length-1,C=n._getLines(f,p).length-1,v=f.split(`
`).map(function(D,Y){return Y>=x&&Y<=C&&D.startsWith(g)?D.substring(g.length):D}).join(`
`);if(f!==v){var y=b[x];n._applyEdits({value:v,selectionStart:y!=null&&y.startsWith(g)?m-g.length:m,selectionEnd:p-(f.length-v.length)})}}else if(m!==p){var b=n._getLines(f,m),_=b.length-1,T=n._getLines(f,p).length-1,y=b[_];n._applyEdits({value:f.split(`
`).map(function(S,O){return O>=_&&O<=T?g+S:S}).join(`
`),selectionStart:y&&/\S/.test(y)?m+g.length:m,selectionEnd:p+g.length*(T-_+1)})}else{var A=m+g.length;n._applyEdits({value:f.substring(0,m)+g+f.substring(p),selectionStart:A,selectionEnd:A})}else if(i.keyCode===b5){var I=m!==p,N=f.substring(0,m);if(N.endsWith(g)&&!I){i.preventDefault();var A=m-g.length;n._applyEdits({value:f.substring(0,m-g.length)+f.substring(p),selectionStart:A,selectionEnd:A})}}else if(i.keyCode===v5){if(m===p){var P=n._getLines(f,m).pop(),M=P==null?void 0:P.match(/^\s+/);if(M!=null&&M[0]){i.preventDefault();var q=`
`+M[0],A=m+q.length;n._applyEdits({value:f.substring(0,m)+q+f.substring(p),selectionStart:A,selectionEnd:A})}}}else if(i.keyCode===Ey||i.keyCode===Ay||i.keyCode===Ny||i.keyCode===ky){var X=void 0;i.keyCode===Ey&&i.shiftKey?X=["(",")"]:i.keyCode===Ay?i.shiftKey?X=["{","}"]:X=["[","]"]:i.keyCode===Ny?i.shiftKey?X=['"','"']:X=["'","'"]:i.keyCode===ky&&!i.shiftKey&&(X=["`","`"]),m!==p&&X&&(i.preventDefault(),n._applyEdits({value:f.substring(0,m)+X[0]+f.substring(m,p)+X[1]+f.substring(p),selectionStart:m,selectionEnd:p+2}))}else(Gf?i.metaKey&&i.keyCode===vc:i.ctrlKey&&i.keyCode===vc)&&!i.shiftKey&&!i.altKey?(i.preventDefault(),n._undoEdit()):(Gf?i.metaKey&&i.keyCode===vc&&i.shiftKey:w5?i.ctrlKey&&i.keyCode===_5:i.ctrlKey&&i.keyCode===vc&&i.shiftKey)&&!i.altKey?(i.preventDefault(),n._redoEdit()):i.keyCode===C5&&i.ctrlKey&&(!Gf||i.shiftKey)&&(i.preventDefault(),n.setState(function(D){return{capture:!D.capture}}))}},n._handleChange=function(i){var r=i.currentTarget,o=r.value,a=r.selectionStart,s=r.selectionEnd;n._recordChange({value:o,selectionStart:a,selectionEnd:s},!0),n.props.onValueChange(o)},n._history={stack:[],offset:-1},n._input=null,n}return t.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(t.prototype,"session",{get:function(){return{history:this._history}},set:function(n){this._history=n.history},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this,i=this.props,r=i.value,o=i.style,a=i.padding,s=i.highlight,l=i.textareaId,c=i.textareaClassName,f=i.autoFocus,m=i.disabled,p=i.form,g=i.maxLength,b=i.minLength,x=i.name,C=i.placeholder,v=i.readOnly,y=i.required,_=i.onClick,T=i.onFocus,A=i.onBlur,I=i.onKeyUp;i.onKeyDown,i.onValueChange,i.tabSize,i.insertSpaces,i.ignoreTabKey;var N=i.preClassName,P=y5(i,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),M={paddingTop:typeof a=="object"?a.top:a,paddingRight:typeof a=="object"?a.right:a,paddingBottom:typeof a=="object"?a.bottom:a,paddingLeft:typeof a=="object"?a.left:a},q=s(r);return vs.createElement("div",zt({},P,{style:zt(zt({},xs.container),o)}),vs.createElement("pre",zt({className:N,"aria-hidden":"true",style:zt(zt(zt({},xs.editor),xs.highlight),M)},typeof q=="string"?{dangerouslySetInnerHTML:{__html:q+"<br />"}}:{children:q})),vs.createElement("textarea",{ref:function(X){return n._input=X},style:zt(zt(zt({},xs.editor),xs.textarea),M),className:Wc+(c?" ".concat(c):""),id:l,value:r,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:_,onKeyUp:I,onFocus:T,onBlur:A,disabled:m,form:p,maxLength:g,minLength:b,name:x,placeholder:C,readOnly:v,required:y,autoFocus:f,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),vs.createElement("style",{dangerouslySetInnerHTML:{__html:E5}}))},t.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t}(vs.Component),FC=BC.default=A5,xs={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}},OC={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(i){var r=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,a={},s={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function y(_){return _ instanceof l?new l(_.type,y(_.content),_.alias):Array.isArray(_)?_.map(y):_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++o}),y.__id},clone:function y(_,T){T=T||{};var A,I;switch(s.util.type(_)){case"Object":if(I=s.util.objId(_),T[I])return T[I];A={},T[I]=A;for(var N in _)_.hasOwnProperty(N)&&(A[N]=y(_[N],T));return A;case"Array":return I=s.util.objId(_),T[I]?T[I]:(A=[],T[I]=A,_.forEach(function(P,M){A[M]=y(P,T)}),A);default:return _}},getLanguage:function(y){for(;y;){var _=r.exec(y.className);if(_)return _[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,_){y.className=y.className.replace(RegExp(r,"gi"),""),y.classList.add("language-"+_)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(A){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(A.stack)||[])[1];if(y){var _=document.getElementsByTagName("script");for(var T in _)if(_[T].src==y)return _[T]}return null}},isActive:function(y,_,T){for(var A="no-"+_;y;){var I=y.classList;if(I.contains(_))return!0;if(I.contains(A))return!1;y=y.parentElement}return!!T}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(y,_){var T=s.util.clone(s.languages[y]);for(var A in _)T[A]=_[A];return T},insertBefore:function(y,_,T,A){A=A||s.languages;var I=A[y],N={};for(var P in I)if(I.hasOwnProperty(P)){if(P==_)for(var M in T)T.hasOwnProperty(M)&&(N[M]=T[M]);T.hasOwnProperty(P)||(N[P]=I[P])}var q=A[y];return A[y]=N,s.languages.DFS(s.languages,function(X,D){D===q&&X!=y&&(this[X]=N)}),N},DFS:function y(_,T,A,I){I=I||{};var N=s.util.objId;for(var P in _)if(_.hasOwnProperty(P)){T.call(_,P,_[P],A||P);var M=_[P],q=s.util.type(M);q==="Object"&&!I[N(M)]?(I[N(M)]=!0,y(M,T,null,I)):q==="Array"&&!I[N(M)]&&(I[N(M)]=!0,y(M,T,P,I))}}},plugins:{},highlightAll:function(y,_){s.highlightAllUnder(document,y,_)},highlightAllUnder:function(y,_,T){var A={callback:T,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",A),A.elements=Array.prototype.slice.apply(A.container.querySelectorAll(A.selector)),s.hooks.run("before-all-elements-highlight",A);for(var I=0,N;N=A.elements[I++];)s.highlightElement(N,_===!0,A.callback)},highlightElement:function(y,_,T){var A=s.util.getLanguage(y),I=s.languages[A];s.util.setLanguage(y,A);var N=y.parentElement;N&&N.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(N,A);var P=y.textContent,M={element:y,language:A,grammar:I,code:P};function q(D){M.highlightedCode=D,s.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,s.hooks.run("after-highlight",M),s.hooks.run("complete",M),T&&T.call(M.element)}if(s.hooks.run("before-sanity-check",M),N=M.element.parentElement,N&&N.nodeName.toLowerCase()==="pre"&&!N.hasAttribute("tabindex")&&N.setAttribute("tabindex","0"),!M.code){s.hooks.run("complete",M),T&&T.call(M.element);return}if(s.hooks.run("before-highlight",M),!M.grammar){q(s.util.encode(M.code));return}if(_&&i.Worker){var X=new Worker(s.filename);X.onmessage=function(D){q(D.data)},X.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else q(s.highlight(M.code,M.grammar,M.language))},highlight:function(y,_,T){var A={code:y,grammar:_,language:T};if(s.hooks.run("before-tokenize",A),!A.grammar)throw new Error('The language "'+A.language+'" has no grammar.');return A.tokens=s.tokenize(A.code,A.grammar),s.hooks.run("after-tokenize",A),l.stringify(s.util.encode(A.tokens),A.language)},tokenize:function(y,_){var T=_.rest;if(T){for(var A in T)_[A]=T[A];delete _.rest}var I=new m;return p(I,I.head,y),f(y,I,_,I.head,0),b(I)},hooks:{all:{},add:function(y,_){var T=s.hooks.all;T[y]=T[y]||[],T[y].push(_)},run:function(y,_){var T=s.hooks.all[y];if(!(!T||!T.length))for(var A=0,I;I=T[A++];)I(_)}},Token:l};i.Prism=s;function l(y,_,T,A){this.type=y,this.content=_,this.alias=T,this.length=(A||"").length|0}l.stringify=function y(_,T){if(typeof _=="string")return _;if(Array.isArray(_)){var A="";return _.forEach(function(q){A+=y(q,T)}),A}var I={type:_.type,content:y(_.content,T),tag:"span",classes:["token",_.type],attributes:{},language:T},N=_.alias;N&&(Array.isArray(N)?Array.prototype.push.apply(I.classes,N):I.classes.push(N)),s.hooks.run("wrap",I);var P="";for(var M in I.attributes)P+=" "+M+'="'+(I.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+I.tag+' class="'+I.classes.join(" ")+'"'+P+">"+I.content+"</"+I.tag+">"};function c(y,_,T,A){y.lastIndex=_;var I=y.exec(T);if(I&&A&&I[1]){var N=I[1].length;I.index+=N,I[0]=I[0].slice(N)}return I}function f(y,_,T,A,I,N){for(var P in T)if(!(!T.hasOwnProperty(P)||!T[P])){var M=T[P];M=Array.isArray(M)?M:[M];for(var q=0;q<M.length;++q){if(N&&N.cause==P+","+q)return;var X=M[q],D=X.inside,Y=!!X.lookbehind,S=!!X.greedy,O=X.alias;if(S&&!X.pattern.global){var B=X.pattern.toString().match(/[imsuy]*$/)[0];X.pattern=RegExp(X.pattern.source,B+"g")}for(var U=X.pattern||X,J=A.next,z=I;J!==_.tail&&!(N&&z>=N.reach);z+=J.value.length,J=J.next){var Z=J.value;if(_.length>y.length)return;if(!(Z instanceof l)){var $=1,V;if(S){if(V=c(U,z,y,Y),!V||V.index>=y.length)break;var Ce=V.index,oe=V.index+V[0].length,ae=z;for(ae+=J.value.length;Ce>=ae;)J=J.next,ae+=J.value.length;if(ae-=J.value.length,z=ae,J.value instanceof l)continue;for(var re=J;re!==_.tail&&(ae<oe||typeof re.value=="string");re=re.next)$++,ae+=re.value.length;$--,Z=y.slice(z,ae),V.index-=z}else if(V=c(U,0,Z,Y),!V)continue;var Ce=V.index,ke=V[0],xe=Z.slice(0,Ce),Se=Z.slice(Ce+ke.length),Me=z+Z.length;N&&Me>N.reach&&(N.reach=Me);var Te=J.prev;xe&&(Te=p(_,Te,xe),z+=xe.length),g(_,Te,$);var Je=new l(P,D?s.tokenize(ke,D):ke,O,ke);if(J=p(_,Te,Je),Se&&p(_,J,Se),$>1){var ce={cause:P+","+q,reach:Me};f(y,_,T,J.prev,z,ce),N&&ce.reach>N.reach&&(N.reach=ce.reach)}}}}}}function m(){var y={value:null,prev:null,next:null},_={value:null,prev:y,next:null};y.next=_,this.head=y,this.tail=_,this.length=0}function p(y,_,T){var A=_.next,I={value:T,prev:_,next:A};return _.next=I,A.prev=I,y.length++,I}function g(y,_,T){for(var A=_.next,I=0;I<T&&A!==y.tail;I++)A=A.next;_.next=A,A.prev=_,y.length-=I}function b(y){for(var _=[],T=y.head.next;T!==y.tail;)_.push(T.value),T=T.next;return _}if(!i.document)return i.addEventListener&&(s.disableWorkerMessageHandler||i.addEventListener("message",function(y){var _=JSON.parse(y.data),T=_.language,A=_.code,I=_.immediateClose;i.postMessage(s.highlight(A,s.languages[T],T)),I&&i.close()},!1)),s;var x=s.util.currentScript();x&&(s.filename=x.src,x.hasAttribute("data-manual")&&(s.manual=!0));function C(){s.manual||s.highlightAll()}if(!s.manual){var v=document.readyState;v==="loading"||v==="interactive"&&x&&x.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return s}(t);e.exports&&(e.exports=n),typeof Ot<"u"&&(Ot.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(r,o){var a={};a["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[o]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};s["language-"+o]={pattern:/[\s\S]+/,inside:n.languages[o]};var l={};l[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:s},n.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(i,r){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:n.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(i){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+r.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var o=i.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading",r=function(x,C){return" Error "+x+" while fetching file: "+C},o=" Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},s="data-src-status",l="loading",c="loaded",f="failed",m="pre[data-src]:not(["+s+'="'+c+'"]):not(['+s+'="'+l+'"])';function p(x,C,v){var y=new XMLHttpRequest;y.open("GET",x,!0),y.onreadystatechange=function(){y.readyState==4&&(y.status<400&&y.responseText?C(y.responseText):y.status>=400?v(r(y.status,y.statusText)):v(o))},y.send(null)}function g(x){var C=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(x||"");if(C){var v=Number(C[1]),y=C[2],_=C[3];return y?_?[v,Number(_)]:[v,void 0]:[v,v]}}n.hooks.add("before-highlightall",function(x){x.selector+=", "+m}),n.hooks.add("before-sanity-check",function(x){var C=x.element;if(C.matches(m)){x.code="",C.setAttribute(s,l);var v=C.appendChild(document.createElement("CODE"));v.textContent=i;var y=C.getAttribute("data-src"),_=x.language;if(_==="none"){var T=(/\.(\w+)$/.exec(y)||[,"none"])[1];_=a[T]||T}n.util.setLanguage(v,_),n.util.setLanguage(C,_);var A=n.plugins.autoloader;A&&A.loadLanguages(_),p(y,function(I){C.setAttribute(s,c);var N=g(C.getAttribute("data-range"));if(N){var P=I.split(/\r\n?|\n/g),M=N[0],q=N[1]==null?P.length:N[1];M<0&&(M+=P.length),M=Math.max(0,Math.min(M-1,P.length)),q<0&&(q+=P.length),q=Math.max(0,Math.min(q,P.length)),I=P.slice(M,q).join(`
`),C.hasAttribute("data-start")||C.setAttribute("data-start",String(M+1))}v.textContent=I,n.highlightElement(v)},function(I){C.setAttribute(s,f),v.textContent=I})}}),n.plugins.fileHighlight={highlight:function(C){for(var v=(C||document).querySelectorAll(m),y=0,_;_=v[y++];)n.highlightElement(_)}};var b=!1;n.fileHighlight=function(){b||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),b=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(OC);var N5=OC.exports;const Dt=Rl(N5);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript})(Prism);(function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(f){return f=f.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+f+")")}var i=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,r=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return i}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+r+o+"(?:"+r+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+r+o+")(?:"+r+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(i),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+r+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+r+"$"),inside:{"table-header":{pattern:RegExp(i),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(f){["url","bold","italic","strike","code-snippet"].forEach(function(m){f!==m&&(e.languages.markdown[f].inside.content.inside[m]=e.languages.markdown[m])})}),e.hooks.add("after-tokenize",function(f){if(f.language!=="markdown"&&f.language!=="md")return;function m(p){if(!(!p||typeof p=="string"))for(var g=0,b=p.length;g<b;g++){var x=p[g];if(x.type!=="code"){m(x.content);continue}var C=x.content[1],v=x.content[3];if(C&&v&&C.type==="code-language"&&v.type==="code-block"&&typeof C.content=="string"){var y=C.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");y=(/[a-z][\w-]*/i.exec(y)||[""])[0].toLowerCase();var _="language-"+y;v.alias?typeof v.alias=="string"?v.alias=[v.alias,_]:v.alias.push(_):v.alias=[_]}}}m(f.tokens)}),e.hooks.add("wrap",function(f){if(f.type==="code-block"){for(var m="",p=0,g=f.classes.length;p<g;p++){var b=f.classes[p],x=/language-(.+)/.exec(b);if(x){m=x[1];break}}var C=e.languages[m];if(C)f.content=e.highlight(c(f.content),C,m);else if(m&&m!=="none"&&e.plugins.autoloader){var v="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);f.attributes.id=v,e.plugins.autoloader.loadLanguages(m,function(){var y=document.getElementById(v);y&&(y.innerHTML=e.highlight(y.textContent,e.languages[m],m))})}}});var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function c(f){var m=f.replace(a,"");return m=m.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(p,g){if(g=g.toLowerCase(),g[0]==="#"){var b;return g[1]==="x"?b=parseInt(g.slice(2),16):b=Number(g.slice(1)),l(b)}else{var x=s[g];return x||p}}),m}e.languages.md=e.languages.markdown})(Prism);Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(t,n){var i={};i["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};r["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var o={};o[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(e){function t(n,i){return"___"+n.toUpperCase()+i+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,i,r,o){if(n.language===i){var a=n.tokenStack=[];n.code=n.code.replace(r,function(s){if(typeof o=="function"&&!o(s))return s;for(var l=a.length,c;n.code.indexOf(c=t(i,l))!==-1;)++l;return a[l]=s,c}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,i){if(n.language!==i||!n.tokenStack)return;n.grammar=e.languages[i];var r=0,o=Object.keys(n.tokenStack);function a(s){for(var l=0;l<s.length&&!(r>=o.length);l++){var c=s[l];if(typeof c=="string"||c.content&&typeof c.content=="string"){var f=o[r],m=n.tokenStack[f],p=typeof c=="string"?c:c.content,g=t(i,f),b=p.indexOf(g);if(b>-1){++r;var x=p.substring(0,b),C=new e.Token(i,e.tokenize(m,n.grammar),"language-"+i,m),v=p.substring(b+g.length),y=[];x&&y.push.apply(y,a([x])),y.push(C),v&&y.push.apply(y,a([v])),typeof c=="string"?s.splice.apply(s,[l,1].concat(y)):c.content=y}}else c.content&&a(c.content)}return s}a(n.tokens)}}})})(Prism);(function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(e){function t(z,Z){return z.replace(/<<(\d+)>>/g,function($,V){return"(?:"+Z[+V]+")"})}function n(z,Z,$){return RegExp(t(z,Z),"")}function i(z,Z){for(var $=0;$<Z;$++)z=z.replace(/<<self>>/g,function(){return"(?:"+z+")"});return z.replace(/<<self>>/g,"[^\\s\\S]")}var r={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o(z){return"\\b(?:"+z.trim().replace(/ /g,"|")+")\\b"}var a=o(r.typeDeclaration),s=RegExp(o(r.type+" "+r.typeDeclaration+" "+r.contextual+" "+r.other)),l=o(r.typeDeclaration+" "+r.contextual+" "+r.other),c=o(r.type+" "+r.typeDeclaration+" "+r.other),f=i(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),m=i(/\((?:[^()]|<<self>>)*\)/.source,2),p=/@?\b[A-Za-z_]\w*\b/.source,g=t(/<<0>>(?:\s*<<1>>)?/.source,[p,f]),b=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[l,g]),x=/\[\s*(?:,\s*)*\]/.source,C=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[b,x]),v=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,m,x]),y=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[v]),_=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[y,b,x]),T={keyword:s,punctuation:/[<>()?,.:[\]]/},A=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,I=/"(?:\\.|[^\\"\r\n])*"/.source,N=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[N]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[I]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[b]),lookbehind:!0,inside:T},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[p,_]),lookbehind:!0,inside:T},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[p]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[a,g]),lookbehind:!0,inside:T},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[b]),lookbehind:!0,inside:T},{pattern:n(/(\bwhere\s+)<<0>>/.source,[p]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[C]),lookbehind:!0,inside:T},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[_,c,p]),inside:T}],keyword:s,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[p]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[p]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[m]),lookbehind:!0,alias:"class-name",inside:T},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[_,b]),inside:T,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[_]),lookbehind:!0,inside:T,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[p,f]),inside:{function:n(/^<<0>>/.source,[p]),generic:{pattern:RegExp(f),alias:"class-name",inside:T}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[a,g,p,_,s.source,m,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[g,m]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:s,"class-name":{pattern:RegExp(_),greedy:!0,inside:T},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var P=I+"|"+A,M=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[P]),q=i(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[M]),2),X=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,D=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[b,q]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[X,D]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[X]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[q]),inside:e.languages.csharp},"class-name":{pattern:RegExp(b),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Y=/:[^}\r\n]+/.source,S=i(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[M]),2),O=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[S,Y]),B=i(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[P]),2),U=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[B,Y]);function J(z,Z){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[z]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Z,Y]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[O]),lookbehind:!0,greedy:!0,inside:J(O,S)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[U]),lookbehind:!0,greedy:!0,inside:J(U,B)}],char:{pattern:RegExp(A),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])})(Prism);Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/});Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}});delete Prism.languages.go["class-name"];(function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string})(Prism);(function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],i=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:i,operator:r,punctuation:o};var a={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},s=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:a}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:a}}];e.languages.insertBefore("php","variable",{string:s,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:s,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:i,operator:r,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(l){if(/<\?/.test(l.code)){var c=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;e.languages["markup-templating"].buildPlaceholders(l,"php",c)}}),e.hooks.add("after-tokenize",function(l){e.languages["markup-templating"].tokenizePlaceholders(l,"php")})})(Prism);(function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",i=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+i),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+i+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift});(function(e){e.languages.kotlin=e.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete e.languages.kotlin["class-name"];var t={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.kotlin}};e.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:t},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:t},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete e.languages.kotlin.string,e.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),e.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),e.languages.kt=e.languages.kotlin,e.languages.kts=e.languages.kotlin})(Prism);(function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var r=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,a=0;a<r.length;a++)o[r[a]]=e.languages.bash[r[a]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash})(Prism);(function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,i="(?:"+n.source+"(?:[ 	]+"+t.source+")?|"+t.source+"(?:[ 	]+"+n.source+")?)",r=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(s,l){l=(l||"").replace(/m/g,"")+"m";var c=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<value>>/g,function(){return s});return RegExp(c,l)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return i})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<key>>/g,function(){return"(?:"+r+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml})(Prism);var at=(e=>(e.EDITOR="editor",e.SECONDARY="secondary",e.WORKSHOP="workshop",e.SETTINGS="settings",e))(at||{}),pt=(e=>(e.JAVASCRIPT="javascript",e.TYPESCRIPT="typescript",e.PYTHON="python",e.HTML="html",e.CSS="css",e.JSON="json",e.MARKDOWN="markdown",e.SQL="sql",e.JAVA="java",e.CSHARP="csharp",e.CPP="cpp",e.GO="go",e.RUST="rust",e.PHP="php",e.RUBY="ruby",e.SWIFT="swift",e.KOTLIN="kotlin",e.BASH="bash",e.YAML="yaml",e.XML="xml",e))(pt||{}),k5={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R5,I5;function M5(){return{geminiUrl:R5,vertexUrl:I5}}function L5(e,t,n,i){var r,o;if(!(e!=null&&e.baseUrl)){const a=M5();return t?(r=a.vertexUrl)!==null&&r!==void 0?r:n:(o=a.geminiUrl)!==null&&o!==void 0?o:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr{}function me(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let c=0;c<l.length;c++){const f=l[c];h(f,t.slice(o+1),n[c])}else for(const c of l)h(c,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];h(l[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const i=t[t.length-1],r=e[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function d(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(s=>d(s,t.slice(i+1),n)):n}else return n}else e=e[r]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function D5(e,t){for(const[n,i]of Object.entries(t)){const r=n.split("."),o=i.split("."),a=new Set;let s=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const c=o[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}cp(e,r,o,0,a)}}function cp(e,t,n,i,r){if(i>=t.length||typeof e!="object"||e===null)return;const o=t[i];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const l of s[a])cp(l,t,n,i+1,r)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,s=Object.keys(a).filter(c=>!c.startsWith("_")&&!r.has(c)),l={};for(const c of s)l[c]=a[c];for(const[c,f]of Object.entries(l)){const m=[];for(const p of n.slice(i))p==="*"?m.push(c):m.push(p);h(a,m,f)}for(const c of s)delete a[c]}}else{const a=e;o in a&&cp(a[o],t,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qm(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B5(e){const t={},n=d(e,["operationName"]);n!=null&&h(t,["operationName"],n);const i=d(e,["resourceName"]);return i!=null&&h(t,["_url","resourceName"],i),t}function F5(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata"]);i!=null&&h(t,["metadata"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["response","generateVideoResponse"]);return a!=null&&h(t,["response"],U5(a)),t}function O5(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata"]);i!=null&&h(t,["metadata"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["response"]);return a!=null&&h(t,["response"],P5(a)),t}function U5(e){const t={},n=d(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>z5(a))),h(t,["generatedVideos"],o)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&h(t,["raiMediaFilteredCount"],i);const r=d(e,["raiMediaFilteredReasons"]);return r!=null&&h(t,["raiMediaFilteredReasons"],r),t}function P5(e){const t={},n=d(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>j5(a))),h(t,["generatedVideos"],o)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&h(t,["raiMediaFilteredCount"],i);const r=d(e,["raiMediaFilteredReasons"]);return r!=null&&h(t,["raiMediaFilteredReasons"],r),t}function z5(e){const t={},n=d(e,["video"]);return n!=null&&h(t,["video"],Y5(n)),t}function j5(e){const t={},n=d(e,["_self"]);return n!=null&&h(t,["video"],W5(n)),t}function H5(e){const t={},n=d(e,["operationName"]);return n!=null&&h(t,["_url","operationName"],n),t}function $5(e){const t={},n=d(e,["operationName"]);return n!=null&&h(t,["_url","operationName"],n),t}function q5(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata"]);i!=null&&h(t,["metadata"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["response"]);return a!=null&&h(t,["response"],G5(a)),t}function G5(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["parent"]);i!=null&&h(t,["parent"],i);const r=d(e,["documentName"]);return r!=null&&h(t,["documentName"],r),t}function UC(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata"]);i!=null&&h(t,["metadata"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["response"]);return a!=null&&h(t,["response"],V5(a)),t}function V5(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["parent"]);i!=null&&h(t,["parent"],i);const r=d(e,["documentName"]);return r!=null&&h(t,["documentName"],r),t}function Y5(e){const t={},n=d(e,["uri"]);n!=null&&h(t,["uri"],n);const i=d(e,["encodedVideo"]);i!=null&&h(t,["videoBytes"],Qm(i));const r=d(e,["encoding"]);return r!=null&&h(t,["mimeType"],r),t}function W5(e){const t={},n=d(e,["gcsUri"]);n!=null&&h(t,["uri"],n);const i=d(e,["bytesBase64Encoded"]);i!=null&&h(t,["videoBytes"],Qm(i));const r=d(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Iy;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Iy||(Iy={}));var My;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(My||(My={}));var Ly;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Ly||(Ly={}));var it;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(it||(it={}));var Dy;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Dy||(Dy={}));var By;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(By||(By={}));var Fy;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fy||(Fy={}));var Oy;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Oy||(Oy={}));var Uy;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Uy||(Uy={}));var Py;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Py||(Py={}));var zy;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(zy||(zy={}));var jy;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(jy||(jy={}));var Hy;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Hy||(Hy={}));var $y;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})($y||($y={}));var qy;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(qy||(qy={}));var Gy;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Gy||(Gy={}));var Vy;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Vy||(Vy={}));var Yy;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Yy||(Yy={}));var Wy;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wy||(Wy={}));var Jy;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Jy||(Jy={}));var Ky;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ky||(Ky={}));var Fu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Fu||(Fu={}));var Xy;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xy||(Xy={}));var Zy;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zy||(Zy={}));var Qy;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qy||(Qy={}));var up;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(up||(up={}));var ev;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ev||(ev={}));var tv;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(tv||(tv={}));var nv;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(nv||(nv={}));var iv;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(iv||(iv={}));var rv;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(rv||(rv={}));var ov;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(ov||(ov={}));var av;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(av||(av={}));var sv;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sv||(sv={}));var lv;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lv||(lv={}));var cv;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cv||(cv={}));var uv;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uv||(uv={}));var dv;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(dv||(dv={}));var fv;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(fv||(fv={}));var hv;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(hv||(hv={}));var pv;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(pv||(pv={}));var mv;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(mv||(mv={}));var gv;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(gv||(gv={}));var yv;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(yv||(yv={}));var vv;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(vv||(vv={}));var xv;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(xv||(xv={}));var bv;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(bv||(bv={}));var _v;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_v||(_v={}));var Cv;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Cv||(Cv={}));var Sv;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sv||(Sv={}));var Tv;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Tv||(Tv={}));var wv;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wv||(wv={}));var Ev;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ev||(Ev={}));var Av;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Av||(Av={}));var sa;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(sa||(sa={}));class dp{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class bs{get text(){var t,n,i,r,o,a,s,l;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const m=[];for(const p of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,b]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(b!==null||b!==void 0)&&m.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,c+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var t,n,i,r,o,a,s,l;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const m of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(m))p!=="inlineData"&&(g!==null||g!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,i,r,o,a,s,l;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,i,r,o,a,s,l,c;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,i,r,o,a,s,l,c;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Nv{}class kv{}class J5{}class K5{}class X5{}class Z5{}class Rv{}class Iv{}class Mv{}class Q5{}class Ou{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Ou;let r;const o=t;return n?r=O5(o):r=F5(o),Object.assign(i,r),i}}class Lv{}class Dv{}class Bv{}class Fv{}class eN{}class tN{}class nN{}class eg{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new eg,o=q5(t);return Object.assign(i,o),i}}class iN{}class rN{}class oN{}class Ov{}class aN{get text(){var t,n,i;let r="",o=!1;const a=[];for(const s of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[l,c]of Object.entries(s))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,r+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var t,n,i;let r="";const o=[];for(const a of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class sN{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tg{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new tg,o=UC(t);return Object.assign(i,o),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function PC(e,t){const n=Ve(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function zC(e){return Array.isArray(e)?e.map(t=>Uu(t)):[Uu(e)]}function Uu(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function jC(e){const t=Uu(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function HC(e){const t=Uu(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Uv(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function $C(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Uv(t)):[Uv(e)]}function fp(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Pv(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function zv(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function nn(e){if(e==null)throw new Error("ContentUnion is required");return fp(e)?e:{role:"user",parts:$C(e)}}function ng(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=nn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=nn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>nn(n)):[nn(t)]}function ii(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Pv(e)||zv(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nn(e)]}const t=[],n=[],i=fp(e[0]);for(const r of e){const o=fp(r);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(r);else{if(Pv(r)||zv(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||t.push({role:"user",parts:$C(n)}),t}function lN(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(it).includes(n[0].toUpperCase())?n[0].toUpperCase():it.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(it).includes(i.toUpperCase())?i.toUpperCase():it.TYPE_UNSPECIFIED})}}function va(e){const t={},n=["items"],i=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&lN(e.type,t);for(const[a,s]of Object.entries(e))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(it).includes(s.toUpperCase())?s.toUpperCase():it.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=va(s);else if(i.includes(a)){const l=[];for(const c of s){if(c.type=="null"){t.nullable=!0;continue}l.push(va(c))}t[a]=l}else if(r.includes(a)){const l={};for(const[c,f]of Object.entries(s))l[c]=va(f);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=s}return t}function ig(e){return va(e)}function rg(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function og(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ts(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=va(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=va(t.response));return e}function ns(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function cN(e,t,n,i=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function vr(e,t){if(typeof t!="string")throw new Error("name must be a string");return cN(e,t,"cachedContents")}function qC(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function to(e){return Qm(e)}function uN(e){return e!=null&&typeof e=="object"&&"name"in e}function dN(e){return e!=null&&typeof e=="object"&&"video"in e}function fN(e){return e!=null&&typeof e=="object"&&"uri"in e}function GC(e){var t;let n;if(uN(e)&&(n=e.name),!(fN(e)&&(n=e.uri,n===void 0))&&!(dN(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function VC(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function YC(e){for(const t of["models","tunedModels","publisherModels"])if(hN(e,t))return e[t];return[]}function hN(e,t){return e!==null&&typeof e=="object"&&t in e}function pN(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function mN(e,t={}){const n=[],i=new Set;for(const r of e){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const a=pN(r,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function WC(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function gN(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function JC(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let o=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function is(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function KC(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yN(e){const t={},n=d(e,["responsesFile"]);n!=null&&h(t,["fileName"],n);const i=d(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>XN(a))),h(t,["inlinedResponses"],o)}const r=d(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["inlinedEmbedContentResponses"],o)}return t}function vN(e){const t={},n=d(e,["predictionsFormat"]);n!=null&&h(t,["format"],n);const i=d(e,["gcsDestination","outputUriPrefix"]);i!=null&&h(t,["gcsUri"],i);const r=d(e,["bigqueryDestination","outputUri"]);return r!=null&&h(t,["bigqueryUri"],r),t}function xN(e){const t={},n=d(e,["format"]);n!=null&&h(t,["predictionsFormat"],n);const i=d(e,["gcsUri"]);i!=null&&h(t,["gcsDestination","outputUriPrefix"],i);const r=d(e,["bigqueryUri"]);if(r!=null&&h(t,["bigqueryDestination","outputUri"],r),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Jc(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata","displayName"]);i!=null&&h(t,["displayName"],i);const r=d(e,["metadata","state"]);r!=null&&h(t,["state"],KC(r));const o=d(e,["metadata","createTime"]);o!=null&&h(t,["createTime"],o);const a=d(e,["metadata","endTime"]);a!=null&&h(t,["endTime"],a);const s=d(e,["metadata","updateTime"]);s!=null&&h(t,["updateTime"],s);const l=d(e,["metadata","model"]);l!=null&&h(t,["model"],l);const c=d(e,["metadata","output"]);return c!=null&&h(t,["dest"],yN(JC(c))),t}function hp(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=d(e,["state"]);r!=null&&h(t,["state"],KC(r));const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["createTime"]);a!=null&&h(t,["createTime"],a);const s=d(e,["startTime"]);s!=null&&h(t,["startTime"],s);const l=d(e,["endTime"]);l!=null&&h(t,["endTime"],l);const c=d(e,["updateTime"]);c!=null&&h(t,["updateTime"],c);const f=d(e,["model"]);f!=null&&h(t,["model"],f);const m=d(e,["inputConfig"]);m!=null&&h(t,["src"],bN(m));const p=d(e,["outputConfig"]);p!=null&&h(t,["dest"],vN(JC(p)));const g=d(e,["completionStats"]);return g!=null&&h(t,["completionStats"],g),t}function bN(e){const t={},n=d(e,["instancesFormat"]);n!=null&&h(t,["format"],n);const i=d(e,["gcsSource","uris"]);i!=null&&h(t,["gcsUri"],i);const r=d(e,["bigquerySource","inputUri"]);return r!=null&&h(t,["bigqueryUri"],r),t}function _N(e,t){const n={};if(d(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=d(t,["fileName"]);i!=null&&h(n,["fileName"],i);const r=d(t,["inlinedRequests"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>KN(e,a))),h(n,["requests","requests"],o)}return n}function CN(e){const t={},n=d(e,["format"]);n!=null&&h(t,["instancesFormat"],n);const i=d(e,["gcsUri"]);i!=null&&h(t,["gcsSource","uris"],i);const r=d(e,["bigqueryUri"]);if(r!=null&&h(t,["bigquerySource","inputUri"],r),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function SN(e){const t={},n=d(e,["data"]);if(n!=null&&h(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function TN(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],is(e,i)),n}function wN(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],is(e,i)),n}function EN(e){const t={},n=d(e,["content"]);n!=null&&h(t,["content"],n);const i=d(e,["citationMetadata"]);i!=null&&h(t,["citationMetadata"],AN(i));const r=d(e,["tokenCount"]);r!=null&&h(t,["tokenCount"],r);const o=d(e,["finishReason"]);o!=null&&h(t,["finishReason"],o);const a=d(e,["avgLogprobs"]);a!=null&&h(t,["avgLogprobs"],a);const s=d(e,["groundingMetadata"]);s!=null&&h(t,["groundingMetadata"],s);const l=d(e,["index"]);l!=null&&h(t,["index"],l);const c=d(e,["logprobsResult"]);c!=null&&h(t,["logprobsResult"],c);const f=d(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),h(t,["safetyRatings"],p)}const m=d(e,["urlContextMetadata"]);return m!=null&&h(t,["urlContextMetadata"],m),t}function AN(e){const t={},n=d(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),h(t,["citations"],i)}return t}function XC(e){const t={},n=d(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>rk(o))),h(t,["parts"],r)}const i=d(e,["role"]);return i!=null&&h(t,["role"],i),t}function NN(e,t){const n={},i=d(e,["displayName"]);if(t!==void 0&&i!=null&&h(t,["batch","displayName"],i),d(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function kN(e,t){const n={},i=d(e,["displayName"]);t!==void 0&&i!=null&&h(t,["displayName"],i);const r=d(e,["dest"]);return t!==void 0&&r!=null&&h(t,["outputConfig"],xN(gN(r))),n}function jv(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["src"]);r!=null&&h(n,["batch","inputConfig"],_N(e,WC(e,r)));const o=d(t,["config"]);return o!=null&&NN(o,n),n}function RN(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["model"],Ve(e,i));const r=d(t,["src"]);r!=null&&h(n,["inputConfig"],CN(WC(e,r)));const o=d(t,["config"]);return o!=null&&kN(o,n),n}function IN(e,t){const n={},i=d(e,["displayName"]);return t!==void 0&&i!=null&&h(t,["batch","displayName"],i),n}function MN(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["src"]);r!=null&&h(n,["batch","inputConfig"],PN(e,r));const o=d(t,["config"]);return o!=null&&IN(o,n),n}function LN(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],is(e,i)),n}function DN(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],is(e,i)),n}function BN(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["name"]);i!=null&&h(t,["name"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);return o!=null&&h(t,["error"],o),t}function FN(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["name"]);i!=null&&h(t,["name"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);return o!=null&&h(t,["error"],o),t}function ON(e,t){const n={},i=d(t,["contents"]);if(i!=null){let o=ng(e,i);Array.isArray(o)&&(o=o.map(a=>a)),h(n,["requests[]","request","content"],o)}const r=d(t,["config"]);return r!=null&&(h(n,["_self"],UN(r,n)),D5(n,{"requests[].*":"requests[].request.*"})),n}function UN(e,t){const n={},i=d(e,["taskType"]);t!==void 0&&i!=null&&h(t,["requests[]","taskType"],i);const r=d(e,["title"]);t!==void 0&&r!=null&&h(t,["requests[]","title"],r);const o=d(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&h(t,["requests[]","outputDimensionality"],o),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function PN(e,t){const n={},i=d(t,["fileName"]);i!=null&&h(n,["file_name"],i);const r=d(t,["inlinedRequests"]);return r!=null&&h(n,["requests"],ON(e,r)),n}function zN(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function jN(e){const t={},n=d(e,["id"]);n!=null&&h(t,["id"],n);const i=d(e,["args"]);i!=null&&h(t,["args"],i);const r=d(e,["name"]);if(r!=null&&h(t,["name"],r),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function HN(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&h(t,["allowedFunctionNames"],n);const i=d(e,["mode"]);if(i!=null&&h(t,["mode"],i),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function $N(e,t,n){const i={},r=d(t,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],XC(nn(r)));const o=d(t,["temperature"]);o!=null&&h(i,["temperature"],o);const a=d(t,["topP"]);a!=null&&h(i,["topP"],a);const s=d(t,["topK"]);s!=null&&h(i,["topK"],s);const l=d(t,["candidateCount"]);l!=null&&h(i,["candidateCount"],l);const c=d(t,["maxOutputTokens"]);c!=null&&h(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&h(i,["stopSequences"],f);const m=d(t,["responseLogprobs"]);m!=null&&h(i,["responseLogprobs"],m);const p=d(t,["logprobs"]);p!=null&&h(i,["logprobs"],p);const g=d(t,["presencePenalty"]);g!=null&&h(i,["presencePenalty"],g);const b=d(t,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const x=d(t,["seed"]);x!=null&&h(i,["seed"],x);const C=d(t,["responseMimeType"]);C!=null&&h(i,["responseMimeType"],C);const v=d(t,["responseSchema"]);v!=null&&h(i,["responseSchema"],ig(v));const y=d(t,["responseJsonSchema"]);if(y!=null&&h(i,["responseJsonSchema"],y),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=d(t,["safetySettings"]);if(n!==void 0&&_!=null){let Y=_;Array.isArray(Y)&&(Y=Y.map(S=>ok(S))),h(n,["safetySettings"],Y)}const T=d(t,["tools"]);if(n!==void 0&&T!=null){let Y=ns(T);Array.isArray(Y)&&(Y=Y.map(S=>sk(ts(S)))),h(n,["tools"],Y)}const A=d(t,["toolConfig"]);if(n!==void 0&&A!=null&&h(n,["toolConfig"],ak(A)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&h(n,["cachedContent"],vr(e,I));const N=d(t,["responseModalities"]);N!=null&&h(i,["responseModalities"],N);const P=d(t,["mediaResolution"]);P!=null&&h(i,["mediaResolution"],P);const M=d(t,["speechConfig"]);if(M!=null&&h(i,["speechConfig"],rg(M)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=d(t,["thinkingConfig"]);q!=null&&h(i,["thinkingConfig"],q);const X=d(t,["imageConfig"]);X!=null&&h(i,["imageConfig"],JN(X));const D=d(t,["enableEnhancedCivicAnswers"]);return D!=null&&h(i,["enableEnhancedCivicAnswers"],D),i}function qN(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>EN(c))),h(t,["candidates"],l)}const r=d(e,["modelVersion"]);r!=null&&h(t,["modelVersion"],r);const o=d(e,["promptFeedback"]);o!=null&&h(t,["promptFeedback"],o);const a=d(e,["responseId"]);a!=null&&h(t,["responseId"],a);const s=d(e,["usageMetadata"]);return s!=null&&h(t,["usageMetadata"],s),t}function GN(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],is(e,i)),n}function VN(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],is(e,i)),n}function YN(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function WN(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function JN(e){const t={},n=d(e,["aspectRatio"]);n!=null&&h(t,["aspectRatio"],n);const i=d(e,["imageSize"]);if(i!=null&&h(t,["imageSize"],i),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function KN(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["request","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let s=ii(r);Array.isArray(s)&&(s=s.map(l=>XC(l))),h(n,["request","contents"],s)}const o=d(t,["metadata"]);o!=null&&h(n,["metadata"],o);const a=d(t,["config"]);return a!=null&&h(n,["request","generationConfig"],$N(e,a,d(n,["request"],{}))),n}function XN(e){const t={},n=d(e,["response"]);n!=null&&h(t,["response"],qN(n));const i=d(e,["error"]);return i!=null&&h(t,["error"],i),t}function ZN(e,t){const n={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&h(t,["_query","pageSize"],i);const r=d(e,["pageToken"]);if(t!==void 0&&r!=null&&h(t,["_query","pageToken"],r),d(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function QN(e,t){const n={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&h(t,["_query","pageSize"],i);const r=d(e,["pageToken"]);t!==void 0&&r!=null&&h(t,["_query","pageToken"],r);const o=d(e,["filter"]);return t!==void 0&&o!=null&&h(t,["_query","filter"],o),n}function ek(e){const t={},n=d(e,["config"]);return n!=null&&ZN(n,t),t}function tk(e){const t={},n=d(e,["config"]);return n!=null&&QN(n,t),t}function nk(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["operations"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Jc(a))),h(t,["batchJobs"],o)}return t}function ik(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["batchPredictionJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>hp(a))),h(t,["batchJobs"],o)}return t}function rk(e){const t={},n=d(e,["mediaResolution"]);n!=null&&h(t,["mediaResolution"],n);const i=d(e,["codeExecutionResult"]);i!=null&&h(t,["codeExecutionResult"],i);const r=d(e,["executableCode"]);r!=null&&h(t,["executableCode"],r);const o=d(e,["fileData"]);o!=null&&h(t,["fileData"],zN(o));const a=d(e,["functionCall"]);a!=null&&h(t,["functionCall"],jN(a));const s=d(e,["functionResponse"]);s!=null&&h(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&h(t,["inlineData"],SN(l));const c=d(e,["text"]);c!=null&&h(t,["text"],c);const f=d(e,["thought"]);f!=null&&h(t,["thought"],f);const m=d(e,["thoughtSignature"]);m!=null&&h(t,["thoughtSignature"],m);const p=d(e,["videoMetadata"]);return p!=null&&h(t,["videoMetadata"],p),t}function ok(e){const t={},n=d(e,["category"]);if(n!=null&&h(t,["category"],n),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(e,["threshold"]);return i!=null&&h(t,["threshold"],i),t}function ak(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&h(t,["retrievalConfig"],n);const i=d(e,["functionCallingConfig"]);return i!=null&&h(t,["functionCallingConfig"],HN(i)),t}function sk(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&h(t,["computerUse"],n);const i=d(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const r=d(e,["codeExecution"]);if(r!=null&&h(t,["codeExecution"],r),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(t,["functionDeclarations"],f)}const a=d(e,["googleMaps"]);a!=null&&h(t,["googleMaps"],YN(a));const s=d(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],WN(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],l);const c=d(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(pr||(pr={}));class Fo{constructor(t,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,r)}init(t,n,i){var r,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lk extends yr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(pr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=jv(this.apiClient,t),i=n._url,r=me("{model}:batchGenerateContent",i),s=n.batch.inputConfig.requests,l=s.requests,c=[];for(const f of l){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=p,m.request=g}c.push(m)}return s.requests=c,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=RN(this.apiClient,t);return s=me("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>hp(f))}else{const c=jv(this.apiClient,t);return s=me("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Jc(f))}}async createEmbeddingsInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=MN(this.apiClient,t);return o=me("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Jc(l))}}async get(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=VN(this.apiClient,t);return s=me("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>hp(f))}else{const c=GN(this.apiClient,t);return s=me("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Jc(f))}}async cancel(t){var n,i,r,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=wN(this.apiClient,t);a=me("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=TN(this.apiClient,t);a=me("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=tk(t);return s=me("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=ik(f),p=new Ov;return Object.assign(p,m),p})}else{const c=ek(t);return s=me("batches",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=nk(f),p=new Ov;return Object.assign(p,m),p})}}async delete(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=DN(this.apiClient,t);return s=me("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>FN(f))}else{const c=LN(this.apiClient,t);return s=me("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>BN(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ck(e){const t={},n=d(e,["data"]);if(n!=null&&h(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function Hv(e){const t={},n=d(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Mk(o))),h(t,["parts"],r)}const i=d(e,["role"]);return i!=null&&h(t,["role"],i),t}function uk(e,t){const n={},i=d(e,["ttl"]);t!==void 0&&i!=null&&h(t,["ttl"],i);const r=d(e,["expireTime"]);t!==void 0&&r!=null&&h(t,["expireTime"],r);const o=d(e,["displayName"]);t!==void 0&&o!=null&&h(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let f=ii(a);Array.isArray(f)&&(f=f.map(m=>Hv(m))),h(t,["contents"],f)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&h(t,["systemInstruction"],Hv(nn(s)));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>Dk(m))),h(t,["tools"],f)}const c=d(e,["toolConfig"]);if(t!==void 0&&c!=null&&h(t,["toolConfig"],Lk(c)),d(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function dk(e,t){const n={},i=d(e,["ttl"]);t!==void 0&&i!=null&&h(t,["ttl"],i);const r=d(e,["expireTime"]);t!==void 0&&r!=null&&h(t,["expireTime"],r);const o=d(e,["displayName"]);t!==void 0&&o!=null&&h(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let m=ii(a);Array.isArray(m)&&(m=m.map(p=>p)),h(t,["contents"],m)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&h(t,["systemInstruction"],nn(s));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>Bk(p))),h(t,["tools"],m)}const c=d(e,["toolConfig"]);t!==void 0&&c!=null&&h(t,["toolConfig"],c);const f=d(e,["kmsKeyName"]);return t!==void 0&&f!=null&&h(t,["encryption_spec","kmsKeyName"],f),n}function fk(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["model"],PC(e,i));const r=d(t,["config"]);return r!=null&&uk(r,n),n}function hk(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["model"],PC(e,i));const r=d(t,["config"]);return r!=null&&dk(r,n),n}function pk(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],vr(e,i)),n}function mk(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],vr(e,i)),n}function gk(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function yk(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function vk(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function xk(e){const t={},n=d(e,["id"]);n!=null&&h(t,["id"],n);const i=d(e,["args"]);i!=null&&h(t,["args"],i);const r=d(e,["name"]);if(r!=null&&h(t,["name"],r),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bk(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&h(t,["allowedFunctionNames"],n);const i=d(e,["mode"]);if(i!=null&&h(t,["mode"],i),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _k(e){const t={},n=d(e,["description"]);n!=null&&h(t,["description"],n);const i=d(e,["name"]);i!=null&&h(t,["name"],i);const r=d(e,["parameters"]);r!=null&&h(t,["parameters"],r);const o=d(e,["parametersJsonSchema"]);o!=null&&h(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&h(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&h(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Ck(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],vr(e,i)),n}function Sk(e,t){const n={},i=d(t,["name"]);return i!=null&&h(n,["_url","name"],vr(e,i)),n}function Tk(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function wk(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function Ek(e,t){const n={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&h(t,["_query","pageSize"],i);const r=d(e,["pageToken"]);return t!==void 0&&r!=null&&h(t,["_query","pageToken"],r),n}function Ak(e,t){const n={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&h(t,["_query","pageSize"],i);const r=d(e,["pageToken"]);return t!==void 0&&r!=null&&h(t,["_query","pageToken"],r),n}function Nk(e){const t={},n=d(e,["config"]);return n!=null&&Ek(n,t),t}function kk(e){const t={},n=d(e,["config"]);return n!=null&&Ak(n,t),t}function Rk(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["cachedContents"],o)}return t}function Ik(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["cachedContents"],o)}return t}function Mk(e){const t={},n=d(e,["mediaResolution"]);n!=null&&h(t,["mediaResolution"],n);const i=d(e,["codeExecutionResult"]);i!=null&&h(t,["codeExecutionResult"],i);const r=d(e,["executableCode"]);r!=null&&h(t,["executableCode"],r);const o=d(e,["fileData"]);o!=null&&h(t,["fileData"],vk(o));const a=d(e,["functionCall"]);a!=null&&h(t,["functionCall"],xk(a));const s=d(e,["functionResponse"]);s!=null&&h(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&h(t,["inlineData"],ck(l));const c=d(e,["text"]);c!=null&&h(t,["text"],c);const f=d(e,["thought"]);f!=null&&h(t,["thought"],f);const m=d(e,["thoughtSignature"]);m!=null&&h(t,["thoughtSignature"],m);const p=d(e,["videoMetadata"]);return p!=null&&h(t,["videoMetadata"],p),t}function Lk(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&h(t,["retrievalConfig"],n);const i=d(e,["functionCallingConfig"]);return i!=null&&h(t,["functionCallingConfig"],bk(i)),t}function Dk(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&h(t,["computerUse"],n);const i=d(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const r=d(e,["codeExecution"]);if(r!=null&&h(t,["codeExecution"],r),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(t,["functionDeclarations"],f)}const a=d(e,["googleMaps"]);a!=null&&h(t,["googleMaps"],Tk(a));const s=d(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],wk(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],l);const c=d(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}function Bk(e){const t={},n=d(e,["retrieval"]);n!=null&&h(t,["retrieval"],n);const i=d(e,["computerUse"]);if(i!=null&&h(t,["computerUse"],i),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(e,["codeExecution"]);r!=null&&h(t,["codeExecution"],r);const o=d(e,["enterpriseWebSearch"]);o!=null&&h(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(p=>_k(p))),h(t,["functionDeclarations"],m)}const s=d(e,["googleMaps"]);s!=null&&h(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&h(t,["googleSearch"],l);const c=d(e,["googleSearchRetrieval"]);c!=null&&h(t,["googleSearchRetrieval"],c);const f=d(e,["urlContext"]);return f!=null&&h(t,["urlContext"],f),t}function Fk(e,t){const n={},i=d(e,["ttl"]);t!==void 0&&i!=null&&h(t,["ttl"],i);const r=d(e,["expireTime"]);return t!==void 0&&r!=null&&h(t,["expireTime"],r),n}function Ok(e,t){const n={},i=d(e,["ttl"]);t!==void 0&&i!=null&&h(t,["ttl"],i);const r=d(e,["expireTime"]);return t!==void 0&&r!=null&&h(t,["expireTime"],r),n}function Uk(e,t){const n={},i=d(t,["name"]);i!=null&&h(n,["_url","name"],vr(e,i));const r=d(t,["config"]);return r!=null&&Fk(r,n),n}function Pk(e,t){const n={},i=d(t,["name"]);i!=null&&h(n,["_url","name"],vr(e,i));const r=d(t,["config"]);return r!=null&&Ok(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zk extends yr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(pr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=hk(this.apiClient,t);return s=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=fk(this.apiClient,t);return s=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Sk(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=Ck(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=mk(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=yk(f),p=new Bv;return Object.assign(p,m),p})}else{const c=pk(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=gk(f),p=new Bv;return Object.assign(p,m),p})}}async update(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Pk(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=Uk(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async listInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=kk(t);return s=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=Ik(f),p=new Fv;return Object.assign(p,m),p})}else{const c=Nk(t);return s=me("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=Rk(f),p=new Fv;return Object.assign(p,m),p})}}}function Pu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function $v(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(e){return this instanceof Be?(this.v=e,this):new Be(e)}function gi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(g){return function(b){return Promise.resolve(b).then(g,m)}}function s(g,b){i[g]&&(r[g]=function(x){return new Promise(function(C,v){o.push([g,x,C,v])>1||l(g,x)})},b&&(r[g]=b(r[g])))}function l(g,b){try{c(i[g](b))}catch(x){p(o[0][3],x)}}function c(g){g.value instanceof Be?Promise.resolve(g.value.v).then(f,m):p(o[0][2],g)}function f(g){l("next",g)}function m(g){l("throw",g)}function p(g,b){g(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function yi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $v=="function"?$v(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jk(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:ZC(n)}function ZC(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Hk(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function qv(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const r=[];let o=!0;for(;i<n&&e[i].role==="model";)r.push(e[i]),o&&!ZC(e[i])&&(o=!1),i++;o?t.push(...r):t.pop()}return t}class $k{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new qk(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class qk{constructor(t,n,i,r={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),Hk(o)}async sendMessage(t){var n;await this.sendPromise;const i=nn(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await r,c=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,f=l.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(s=f.slice(m))!==null&&s!==void 0?s:[]);const g=c?[c]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const i=nn(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(t=!1){const n=t?qv(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return gi(this,arguments,function*(){var r,o,a,s,l,c;const f=[];try{for(var m=!0,p=yi(t),g;g=yield Be(p.next()),r=g.done,!r;m=!0){s=g.value,m=!1;const b=s;if(jk(b)){const x=(c=(l=b.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;x!==void 0&&f.push(x)}yield yield Be(b)}}catch(b){o={error:b}}finally{try{!m&&!r&&(a=p.return)&&(yield Be(a.call(p)))}finally{if(o)throw o.error}}this.recordHistory(n,f)})}recordHistory(t,n,i){let r=[];n.length>0&&n.every(o=>o.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...qv(i)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rd extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Rd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gk(e){const t={},n=d(e,["file"]);return n!=null&&h(t,["file"],n),t}function Vk(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function Yk(e){const t={},n=d(e,["name"]);return n!=null&&h(t,["_url","file"],GC(n)),t}function Wk(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function Jk(e){const t={},n=d(e,["name"]);return n!=null&&h(t,["_url","file"],GC(n)),t}function Kk(e,t){const n={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&h(t,["_query","pageSize"],i);const r=d(e,["pageToken"]);return t!==void 0&&r!=null&&h(t,["_query","pageToken"],r),n}function Xk(e){const t={},n=d(e,["config"]);return n!=null&&Kk(n,t),t}function Zk(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qk extends yr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(pr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xk(t);return o=me("files",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),r.then(l=>{const c=Zk(l),f=new iN;return Object.assign(f,c),f})}}async createInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Gk(t);return o=me("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=Vk(l),f=new rN;return Object.assign(f,c),f})}}async get(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jk(t);return o=me("files/{file}",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yk(t);return o=me("files/{file}",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),r.then(l=>{const c=Wk(l),f=new oN;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kc(e){const t={},n=d(e,["data"]);if(n!=null&&h(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function e3(e){const t={},n=d(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>g3(o))),h(t,["parts"],r)}const i=d(e,["role"]);return i!=null&&h(t,["role"],i),t}function t3(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function n3(e){const t={},n=d(e,["id"]);n!=null&&h(t,["id"],n);const i=d(e,["args"]);i!=null&&h(t,["args"],i);const r=d(e,["name"]);if(r!=null&&h(t,["name"],r),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function i3(e){const t={},n=d(e,["description"]);n!=null&&h(t,["description"],n);const i=d(e,["name"]);i!=null&&h(t,["name"],i);const r=d(e,["parameters"]);r!=null&&h(t,["parameters"],r);const o=d(e,["parametersJsonSchema"]);o!=null&&h(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&h(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&h(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function r3(e){const t={},n=d(e,["modelSelectionConfig"]);n!=null&&h(t,["modelConfig"],n);const i=d(e,["responseJsonSchema"]);i!=null&&h(t,["responseJsonSchema"],i);const r=d(e,["audioTimestamp"]);r!=null&&h(t,["audioTimestamp"],r);const o=d(e,["candidateCount"]);o!=null&&h(t,["candidateCount"],o);const a=d(e,["enableAffectiveDialog"]);a!=null&&h(t,["enableAffectiveDialog"],a);const s=d(e,["frequencyPenalty"]);s!=null&&h(t,["frequencyPenalty"],s);const l=d(e,["logprobs"]);l!=null&&h(t,["logprobs"],l);const c=d(e,["maxOutputTokens"]);c!=null&&h(t,["maxOutputTokens"],c);const f=d(e,["mediaResolution"]);f!=null&&h(t,["mediaResolution"],f);const m=d(e,["presencePenalty"]);m!=null&&h(t,["presencePenalty"],m);const p=d(e,["responseLogprobs"]);p!=null&&h(t,["responseLogprobs"],p);const g=d(e,["responseMimeType"]);g!=null&&h(t,["responseMimeType"],g);const b=d(e,["responseModalities"]);b!=null&&h(t,["responseModalities"],b);const x=d(e,["responseSchema"]);x!=null&&h(t,["responseSchema"],x);const C=d(e,["routingConfig"]);C!=null&&h(t,["routingConfig"],C);const v=d(e,["seed"]);v!=null&&h(t,["seed"],v);const y=d(e,["speechConfig"]);y!=null&&h(t,["speechConfig"],y);const _=d(e,["stopSequences"]);_!=null&&h(t,["stopSequences"],_);const T=d(e,["temperature"]);T!=null&&h(t,["temperature"],T);const A=d(e,["thinkingConfig"]);A!=null&&h(t,["thinkingConfig"],A);const I=d(e,["topK"]);I!=null&&h(t,["topK"],I);const N=d(e,["topP"]);if(N!=null&&h(t,["topP"],N),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function o3(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function a3(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function s3(e,t){const n={},i=d(e,["generationConfig"]);t!==void 0&&i!=null&&h(t,["setup","generationConfig"],i);const r=d(e,["responseModalities"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig","responseModalities"],r);const o=d(e,["temperature"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&h(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&h(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","maxOutputTokens"],l);const c=d(e,["mediaResolution"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","mediaResolution"],c);const f=d(e,["seed"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","seed"],f);const m=d(e,["speechConfig"]);t!==void 0&&m!=null&&h(t,["setup","generationConfig","speechConfig"],og(m));const p=d(e,["thinkingConfig"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","thinkingConfig"],p);const g=d(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],g);const b=d(e,["systemInstruction"]);t!==void 0&&b!=null&&h(t,["setup","systemInstruction"],e3(nn(b)));const x=d(e,["tools"]);if(t!==void 0&&x!=null){let I=ns(x);Array.isArray(I)&&(I=I.map(N=>v3(ts(N)))),h(t,["setup","tools"],I)}const C=d(e,["sessionResumption"]);t!==void 0&&C!=null&&h(t,["setup","sessionResumption"],y3(C));const v=d(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&h(t,["setup","inputAudioTranscription"],v);const y=d(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&h(t,["setup","outputAudioTranscription"],y);const _=d(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&h(t,["setup","realtimeInputConfig"],_);const T=d(e,["contextWindowCompression"]);t!==void 0&&T!=null&&h(t,["setup","contextWindowCompression"],T);const A=d(e,["proactivity"]);if(t!==void 0&&A!=null&&h(t,["setup","proactivity"],A),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function l3(e,t){const n={},i=d(e,["generationConfig"]);t!==void 0&&i!=null&&h(t,["setup","generationConfig"],r3(i));const r=d(e,["responseModalities"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig","responseModalities"],r);const o=d(e,["temperature"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&h(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&h(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","maxOutputTokens"],l);const c=d(e,["mediaResolution"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","mediaResolution"],c);const f=d(e,["seed"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","seed"],f);const m=d(e,["speechConfig"]);t!==void 0&&m!=null&&h(t,["setup","generationConfig","speechConfig"],og(m));const p=d(e,["thinkingConfig"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","thinkingConfig"],p);const g=d(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],g);const b=d(e,["systemInstruction"]);t!==void 0&&b!=null&&h(t,["setup","systemInstruction"],nn(b));const x=d(e,["tools"]);if(t!==void 0&&x!=null){let N=ns(x);Array.isArray(N)&&(N=N.map(P=>x3(ts(P)))),h(t,["setup","tools"],N)}const C=d(e,["sessionResumption"]);t!==void 0&&C!=null&&h(t,["setup","sessionResumption"],C);const v=d(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&h(t,["setup","inputAudioTranscription"],v);const y=d(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&h(t,["setup","outputAudioTranscription"],y);const _=d(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&h(t,["setup","realtimeInputConfig"],_);const T=d(e,["contextWindowCompression"]);t!==void 0&&T!=null&&h(t,["setup","contextWindowCompression"],T);const A=d(e,["proactivity"]);t!==void 0&&A!=null&&h(t,["setup","proactivity"],A);const I=d(e,["explicitVadSignal"]);return t!==void 0&&I!=null&&h(t,["setup","explicitVadSignal"],I),n}function c3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["setup","model"],Ve(e,i));const r=d(t,["config"]);return r!=null&&h(n,["config"],s3(r,n)),n}function u3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["setup","model"],Ve(e,i));const r=d(t,["config"]);return r!=null&&h(n,["config"],l3(r,n)),n}function d3(e){const t={},n=d(e,["musicGenerationConfig"]);return n!=null&&h(t,["musicGenerationConfig"],n),t}function f3(e){const t={},n=d(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),h(t,["weightedPrompts"],i)}return t}function h3(e){const t={},n=d(e,["media"]);if(n!=null){let c=zC(n);Array.isArray(c)&&(c=c.map(f=>Kc(f))),h(t,["mediaChunks"],c)}const i=d(e,["audio"]);i!=null&&h(t,["audio"],Kc(HC(i)));const r=d(e,["audioStreamEnd"]);r!=null&&h(t,["audioStreamEnd"],r);const o=d(e,["video"]);o!=null&&h(t,["video"],Kc(jC(o)));const a=d(e,["text"]);a!=null&&h(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&h(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&h(t,["activityEnd"],l),t}function p3(e){const t={},n=d(e,["media"]);if(n!=null){let c=zC(n);Array.isArray(c)&&(c=c.map(f=>f)),h(t,["mediaChunks"],c)}const i=d(e,["audio"]);i!=null&&h(t,["audio"],HC(i));const r=d(e,["audioStreamEnd"]);r!=null&&h(t,["audioStreamEnd"],r);const o=d(e,["video"]);o!=null&&h(t,["video"],jC(o));const a=d(e,["text"]);a!=null&&h(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&h(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&h(t,["activityEnd"],l),t}function m3(e){const t={},n=d(e,["setupComplete"]);n!=null&&h(t,["setupComplete"],n);const i=d(e,["serverContent"]);i!=null&&h(t,["serverContent"],i);const r=d(e,["toolCall"]);r!=null&&h(t,["toolCall"],r);const o=d(e,["toolCallCancellation"]);o!=null&&h(t,["toolCallCancellation"],o);const a=d(e,["usageMetadata"]);a!=null&&h(t,["usageMetadata"],b3(a));const s=d(e,["goAway"]);s!=null&&h(t,["goAway"],s);const l=d(e,["sessionResumptionUpdate"]);l!=null&&h(t,["sessionResumptionUpdate"],l);const c=d(e,["voiceActivityDetectionSignal"]);return c!=null&&h(t,["voiceActivityDetectionSignal"],c),t}function g3(e){const t={},n=d(e,["mediaResolution"]);n!=null&&h(t,["mediaResolution"],n);const i=d(e,["codeExecutionResult"]);i!=null&&h(t,["codeExecutionResult"],i);const r=d(e,["executableCode"]);r!=null&&h(t,["executableCode"],r);const o=d(e,["fileData"]);o!=null&&h(t,["fileData"],t3(o));const a=d(e,["functionCall"]);a!=null&&h(t,["functionCall"],n3(a));const s=d(e,["functionResponse"]);s!=null&&h(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&h(t,["inlineData"],Kc(l));const c=d(e,["text"]);c!=null&&h(t,["text"],c);const f=d(e,["thought"]);f!=null&&h(t,["thought"],f);const m=d(e,["thoughtSignature"]);m!=null&&h(t,["thoughtSignature"],m);const p=d(e,["videoMetadata"]);return p!=null&&h(t,["videoMetadata"],p),t}function y3(e){const t={},n=d(e,["handle"]);if(n!=null&&h(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function v3(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&h(t,["computerUse"],n);const i=d(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const r=d(e,["codeExecution"]);if(r!=null&&h(t,["codeExecution"],r),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(t,["functionDeclarations"],f)}const a=d(e,["googleMaps"]);a!=null&&h(t,["googleMaps"],o3(a));const s=d(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],a3(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],l);const c=d(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}function x3(e){const t={},n=d(e,["retrieval"]);n!=null&&h(t,["retrieval"],n);const i=d(e,["computerUse"]);if(i!=null&&h(t,["computerUse"],i),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(e,["codeExecution"]);r!=null&&h(t,["codeExecution"],r);const o=d(e,["enterpriseWebSearch"]);o!=null&&h(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(p=>i3(p))),h(t,["functionDeclarations"],m)}const s=d(e,["googleMaps"]);s!=null&&h(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&h(t,["googleSearch"],l);const c=d(e,["googleSearchRetrieval"]);c!=null&&h(t,["googleSearchRetrieval"],c);const f=d(e,["urlContext"]);return f!=null&&h(t,["urlContext"],f),t}function b3(e){const t={},n=d(e,["promptTokenCount"]);n!=null&&h(t,["promptTokenCount"],n);const i=d(e,["cachedContentTokenCount"]);i!=null&&h(t,["cachedContentTokenCount"],i);const r=d(e,["candidatesTokenCount"]);r!=null&&h(t,["responseTokenCount"],r);const o=d(e,["toolUsePromptTokenCount"]);o!=null&&h(t,["toolUsePromptTokenCount"],o);const a=d(e,["thoughtsTokenCount"]);a!=null&&h(t,["thoughtsTokenCount"],a);const s=d(e,["totalTokenCount"]);s!=null&&h(t,["totalTokenCount"],s);const l=d(e,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>b)),h(t,["promptTokensDetails"],g)}const c=d(e,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(b=>b)),h(t,["cacheTokensDetails"],g)}const f=d(e,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>b)),h(t,["responseTokensDetails"],g)}const m=d(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(b=>b)),h(t,["toolUsePromptTokensDetails"],g)}const p=d(e,["trafficType"]);return p!=null&&h(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _3(e){const t={},n=d(e,["data"]);if(n!=null&&h(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function C3(e){const t={},n=d(e,["content"]);n!=null&&h(t,["content"],n);const i=d(e,["citationMetadata"]);i!=null&&h(t,["citationMetadata"],S3(i));const r=d(e,["tokenCount"]);r!=null&&h(t,["tokenCount"],r);const o=d(e,["finishReason"]);o!=null&&h(t,["finishReason"],o);const a=d(e,["avgLogprobs"]);a!=null&&h(t,["avgLogprobs"],a);const s=d(e,["groundingMetadata"]);s!=null&&h(t,["groundingMetadata"],s);const l=d(e,["index"]);l!=null&&h(t,["index"],l);const c=d(e,["logprobsResult"]);c!=null&&h(t,["logprobsResult"],c);const f=d(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),h(t,["safetyRatings"],p)}const m=d(e,["urlContextMetadata"]);return m!=null&&h(t,["urlContextMetadata"],m),t}function S3(e){const t={},n=d(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),h(t,["citations"],i)}return t}function T3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let o=ii(r);Array.isArray(o)&&(o=o.map(a=>a)),h(n,["contents"],o)}return n}function w3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),h(t,["tokensInfo"],r)}return t}function E3(e){const t={},n=d(e,["values"]);n!=null&&h(t,["values"],n);const i=d(e,["statistics"]);return i!=null&&h(t,["statistics"],A3(i)),t}function A3(e){const t={},n=d(e,["truncated"]);n!=null&&h(t,["truncated"],n);const i=d(e,["token_count"]);return i!=null&&h(t,["tokenCount"],i),t}function Id(e){const t={},n=d(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>FR(o))),h(t,["parts"],r)}const i=d(e,["role"]);return i!=null&&h(t,["role"],i),t}function N3(e){const t={},n=d(e,["controlType"]);n!=null&&h(t,["controlType"],n);const i=d(e,["enableControlImageComputation"]);return i!=null&&h(t,["computeControl"],i),t}function k3(e){const t={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function R3(e,t){const n={},i=d(e,["systemInstruction"]);t!==void 0&&i!=null&&h(t,["systemInstruction"],nn(i));const r=d(e,["tools"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>nS(s))),h(t,["tools"],a)}const o=d(e,["generationConfig"]);return t!==void 0&&o!=null&&h(t,["generationConfig"],_R(o)),n}function I3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let a=ii(r);Array.isArray(a)&&(a=a.map(s=>Id(s))),h(n,["contents"],a)}const o=d(t,["config"]);return o!=null&&k3(o),n}function M3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let a=ii(r);Array.isArray(a)&&(a=a.map(s=>s)),h(n,["contents"],a)}const o=d(t,["config"]);return o!=null&&R3(o,n),n}function L3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["totalTokens"]);i!=null&&h(t,["totalTokens"],i);const r=d(e,["cachedContentTokenCount"]);return r!=null&&h(t,["cachedContentTokenCount"],r),t}function D3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["totalTokens"]);return i!=null&&h(t,["totalTokens"],i),t}function B3(e,t){const n={},i=d(t,["model"]);return i!=null&&h(n,["_url","name"],Ve(e,i)),n}function F3(e,t){const n={},i=d(t,["model"]);return i!=null&&h(n,["_url","name"],Ve(e,i)),n}function O3(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function U3(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function P3(e,t){const n={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&h(t,["parameters","storageUri"],i);const r=d(e,["negativePrompt"]);t!==void 0&&r!=null&&h(t,["parameters","negativePrompt"],r);const o=d(e,["numberOfImages"]);t!==void 0&&o!=null&&h(t,["parameters","sampleCount"],o);const a=d(e,["aspectRatio"]);t!==void 0&&a!=null&&h(t,["parameters","aspectRatio"],a);const s=d(e,["guidanceScale"]);t!==void 0&&s!=null&&h(t,["parameters","guidanceScale"],s);const l=d(e,["seed"]);t!==void 0&&l!=null&&h(t,["parameters","seed"],l);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&h(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&h(t,["parameters","personGeneration"],f);const m=d(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&h(t,["parameters","includeSafetyAttributes"],m);const p=d(e,["includeRaiReason"]);t!==void 0&&p!=null&&h(t,["parameters","includeRaiReason"],p);const g=d(e,["language"]);t!==void 0&&g!=null&&h(t,["parameters","language"],g);const b=d(e,["outputMimeType"]);t!==void 0&&b!=null&&h(t,["parameters","outputOptions","mimeType"],b);const x=d(e,["outputCompressionQuality"]);t!==void 0&&x!=null&&h(t,["parameters","outputOptions","compressionQuality"],x);const C=d(e,["addWatermark"]);t!==void 0&&C!=null&&h(t,["parameters","addWatermark"],C);const v=d(e,["labels"]);t!==void 0&&v!=null&&h(t,["labels"],v);const y=d(e,["editMode"]);t!==void 0&&y!=null&&h(t,["parameters","editMode"],y);const _=d(e,["baseSteps"]);return t!==void 0&&_!=null&&h(t,["parameters","editConfig","baseSteps"],_),n}function z3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const o=d(t,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>HR(l))),h(n,["instances[0]","referenceImages"],s)}const a=d(t,["config"]);return a!=null&&P3(a,n),n}function j3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Md(o))),h(t,["generatedImages"],r)}return t}function H3(e,t){const n={},i=d(e,["taskType"]);t!==void 0&&i!=null&&h(t,["requests[]","taskType"],i);const r=d(e,["title"]);t!==void 0&&r!=null&&h(t,["requests[]","title"],r);const o=d(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&h(t,["requests[]","outputDimensionality"],o),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $3(e,t){const n={},i=d(e,["taskType"]);t!==void 0&&i!=null&&h(t,["instances[]","task_type"],i);const r=d(e,["title"]);t!==void 0&&r!=null&&h(t,["instances[]","title"],r);const o=d(e,["outputDimensionality"]);t!==void 0&&o!=null&&h(t,["parameters","outputDimensionality"],o);const a=d(e,["mimeType"]);t!==void 0&&a!=null&&h(t,["instances[]","mimeType"],a);const s=d(e,["autoTruncate"]);return t!==void 0&&s!=null&&h(t,["parameters","autoTruncate"],s),n}function q3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let s=ng(e,r);Array.isArray(s)&&(s=s.map(l=>l)),h(n,["requests[]","content"],s)}const o=d(t,["config"]);o!=null&&H3(o,n);const a=d(t,["model"]);return a!==void 0&&h(n,["requests[]","model"],Ve(e,a)),n}function G3(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let a=ng(e,r);Array.isArray(a)&&(a=a.map(s=>s)),h(n,["instances[]","content"],a)}const o=d(t,["config"]);return o!=null&&$3(o,n),n}function V3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["embeddings"],o)}const r=d(e,["metadata"]);return r!=null&&h(t,["metadata"],r),t}function Y3(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>E3(a))),h(t,["embeddings"],o)}const r=d(e,["metadata"]);return r!=null&&h(t,["metadata"],r),t}function W3(e){const t={},n=d(e,["endpoint"]);n!=null&&h(t,["name"],n);const i=d(e,["deployedModelId"]);return i!=null&&h(t,["deployedModelId"],i),t}function J3(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function K3(e){const t={},n=d(e,["id"]);n!=null&&h(t,["id"],n);const i=d(e,["args"]);i!=null&&h(t,["args"],i);const r=d(e,["name"]);if(r!=null&&h(t,["name"],r),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function X3(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&h(t,["allowedFunctionNames"],n);const i=d(e,["mode"]);if(i!=null&&h(t,["mode"],i),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Z3(e){const t={},n=d(e,["description"]);n!=null&&h(t,["description"],n);const i=d(e,["name"]);i!=null&&h(t,["name"],i);const r=d(e,["parameters"]);r!=null&&h(t,["parameters"],r);const o=d(e,["parametersJsonSchema"]);o!=null&&h(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&h(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&h(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Q3(e,t,n){const i={},r=d(t,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],Id(nn(r)));const o=d(t,["temperature"]);o!=null&&h(i,["temperature"],o);const a=d(t,["topP"]);a!=null&&h(i,["topP"],a);const s=d(t,["topK"]);s!=null&&h(i,["topK"],s);const l=d(t,["candidateCount"]);l!=null&&h(i,["candidateCount"],l);const c=d(t,["maxOutputTokens"]);c!=null&&h(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&h(i,["stopSequences"],f);const m=d(t,["responseLogprobs"]);m!=null&&h(i,["responseLogprobs"],m);const p=d(t,["logprobs"]);p!=null&&h(i,["logprobs"],p);const g=d(t,["presencePenalty"]);g!=null&&h(i,["presencePenalty"],g);const b=d(t,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const x=d(t,["seed"]);x!=null&&h(i,["seed"],x);const C=d(t,["responseMimeType"]);C!=null&&h(i,["responseMimeType"],C);const v=d(t,["responseSchema"]);v!=null&&h(i,["responseSchema"],ig(v));const y=d(t,["responseJsonSchema"]);if(y!=null&&h(i,["responseJsonSchema"],y),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=d(t,["safetySettings"]);if(n!==void 0&&_!=null){let Y=_;Array.isArray(Y)&&(Y=Y.map(S=>$R(S))),h(n,["safetySettings"],Y)}const T=d(t,["tools"]);if(n!==void 0&&T!=null){let Y=ns(T);Array.isArray(Y)&&(Y=Y.map(S=>KR(ts(S)))),h(n,["tools"],Y)}const A=d(t,["toolConfig"]);if(n!==void 0&&A!=null&&h(n,["toolConfig"],JR(A)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&h(n,["cachedContent"],vr(e,I));const N=d(t,["responseModalities"]);N!=null&&h(i,["responseModalities"],N);const P=d(t,["mediaResolution"]);P!=null&&h(i,["mediaResolution"],P);const M=d(t,["speechConfig"]);if(M!=null&&h(i,["speechConfig"],rg(M)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=d(t,["thinkingConfig"]);q!=null&&h(i,["thinkingConfig"],q);const X=d(t,["imageConfig"]);X!=null&&h(i,["imageConfig"],ER(X));const D=d(t,["enableEnhancedCivicAnswers"]);return D!=null&&h(i,["enableEnhancedCivicAnswers"],D),i}function eR(e,t,n){const i={},r=d(t,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],nn(r));const o=d(t,["temperature"]);o!=null&&h(i,["temperature"],o);const a=d(t,["topP"]);a!=null&&h(i,["topP"],a);const s=d(t,["topK"]);s!=null&&h(i,["topK"],s);const l=d(t,["candidateCount"]);l!=null&&h(i,["candidateCount"],l);const c=d(t,["maxOutputTokens"]);c!=null&&h(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&h(i,["stopSequences"],f);const m=d(t,["responseLogprobs"]);m!=null&&h(i,["responseLogprobs"],m);const p=d(t,["logprobs"]);p!=null&&h(i,["logprobs"],p);const g=d(t,["presencePenalty"]);g!=null&&h(i,["presencePenalty"],g);const b=d(t,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const x=d(t,["seed"]);x!=null&&h(i,["seed"],x);const C=d(t,["responseMimeType"]);C!=null&&h(i,["responseMimeType"],C);const v=d(t,["responseSchema"]);v!=null&&h(i,["responseSchema"],ig(v));const y=d(t,["responseJsonSchema"]);y!=null&&h(i,["responseJsonSchema"],y);const _=d(t,["routingConfig"]);_!=null&&h(i,["routingConfig"],_);const T=d(t,["modelSelectionConfig"]);T!=null&&h(i,["modelConfig"],T);const A=d(t,["safetySettings"]);if(n!==void 0&&A!=null){let B=A;Array.isArray(B)&&(B=B.map(U=>U)),h(n,["safetySettings"],B)}const I=d(t,["tools"]);if(n!==void 0&&I!=null){let B=ns(I);Array.isArray(B)&&(B=B.map(U=>nS(ts(U)))),h(n,["tools"],B)}const N=d(t,["toolConfig"]);n!==void 0&&N!=null&&h(n,["toolConfig"],N);const P=d(t,["labels"]);n!==void 0&&P!=null&&h(n,["labels"],P);const M=d(t,["cachedContent"]);n!==void 0&&M!=null&&h(n,["cachedContent"],vr(e,M));const q=d(t,["responseModalities"]);q!=null&&h(i,["responseModalities"],q);const X=d(t,["mediaResolution"]);X!=null&&h(i,["mediaResolution"],X);const D=d(t,["speechConfig"]);D!=null&&h(i,["speechConfig"],rg(D));const Y=d(t,["audioTimestamp"]);Y!=null&&h(i,["audioTimestamp"],Y);const S=d(t,["thinkingConfig"]);S!=null&&h(i,["thinkingConfig"],S);const O=d(t,["imageConfig"]);if(O!=null&&h(i,["imageConfig"],AR(O)),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Gv(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let a=ii(r);Array.isArray(a)&&(a=a.map(s=>Id(s))),h(n,["contents"],a)}const o=d(t,["config"]);return o!=null&&h(n,["generationConfig"],Q3(e,o,n)),n}function Vv(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["contents"]);if(r!=null){let a=ii(r);Array.isArray(a)&&(a=a.map(s=>s)),h(n,["contents"],a)}const o=d(t,["config"]);return o!=null&&h(n,["generationConfig"],eR(e,o,n)),n}function Yv(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>C3(c))),h(t,["candidates"],l)}const r=d(e,["modelVersion"]);r!=null&&h(t,["modelVersion"],r);const o=d(e,["promptFeedback"]);o!=null&&h(t,["promptFeedback"],o);const a=d(e,["responseId"]);a!=null&&h(t,["responseId"],a);const s=d(e,["usageMetadata"]);return s!=null&&h(t,["usageMetadata"],s),t}function Wv(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),h(t,["candidates"],c)}const r=d(e,["createTime"]);r!=null&&h(t,["createTime"],r);const o=d(e,["modelVersion"]);o!=null&&h(t,["modelVersion"],o);const a=d(e,["promptFeedback"]);a!=null&&h(t,["promptFeedback"],a);const s=d(e,["responseId"]);s!=null&&h(t,["responseId"],s);const l=d(e,["usageMetadata"]);return l!=null&&h(t,["usageMetadata"],l),t}function tR(e,t){const n={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&h(t,["parameters","sampleCount"],i);const r=d(e,["aspectRatio"]);t!==void 0&&r!=null&&h(t,["parameters","aspectRatio"],r);const o=d(e,["guidanceScale"]);if(t!==void 0&&o!=null&&h(t,["parameters","guidanceScale"],o),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&h(t,["parameters","safetySetting"],a);const s=d(e,["personGeneration"]);t!==void 0&&s!=null&&h(t,["parameters","personGeneration"],s);const l=d(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&h(t,["parameters","includeSafetyAttributes"],l);const c=d(e,["includeRaiReason"]);t!==void 0&&c!=null&&h(t,["parameters","includeRaiReason"],c);const f=d(e,["language"]);t!==void 0&&f!=null&&h(t,["parameters","language"],f);const m=d(e,["outputMimeType"]);t!==void 0&&m!=null&&h(t,["parameters","outputOptions","mimeType"],m);const p=d(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&h(t,["parameters","outputOptions","compressionQuality"],p),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=d(e,["imageSize"]);if(t!==void 0&&g!=null&&h(t,["parameters","sampleImageSize"],g),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function nR(e,t){const n={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&h(t,["parameters","storageUri"],i);const r=d(e,["negativePrompt"]);t!==void 0&&r!=null&&h(t,["parameters","negativePrompt"],r);const o=d(e,["numberOfImages"]);t!==void 0&&o!=null&&h(t,["parameters","sampleCount"],o);const a=d(e,["aspectRatio"]);t!==void 0&&a!=null&&h(t,["parameters","aspectRatio"],a);const s=d(e,["guidanceScale"]);t!==void 0&&s!=null&&h(t,["parameters","guidanceScale"],s);const l=d(e,["seed"]);t!==void 0&&l!=null&&h(t,["parameters","seed"],l);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&h(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&h(t,["parameters","personGeneration"],f);const m=d(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&h(t,["parameters","includeSafetyAttributes"],m);const p=d(e,["includeRaiReason"]);t!==void 0&&p!=null&&h(t,["parameters","includeRaiReason"],p);const g=d(e,["language"]);t!==void 0&&g!=null&&h(t,["parameters","language"],g);const b=d(e,["outputMimeType"]);t!==void 0&&b!=null&&h(t,["parameters","outputOptions","mimeType"],b);const x=d(e,["outputCompressionQuality"]);t!==void 0&&x!=null&&h(t,["parameters","outputOptions","compressionQuality"],x);const C=d(e,["addWatermark"]);t!==void 0&&C!=null&&h(t,["parameters","addWatermark"],C);const v=d(e,["labels"]);t!==void 0&&v!=null&&h(t,["labels"],v);const y=d(e,["imageSize"]);t!==void 0&&y!=null&&h(t,["parameters","sampleImageSize"],y);const _=d(e,["enhancePrompt"]);return t!==void 0&&_!=null&&h(t,["parameters","enhancePrompt"],_),n}function iR(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const o=d(t,["config"]);return o!=null&&tR(o,n),n}function rR(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const o=d(t,["config"]);return o!=null&&nR(o,n),n}function oR(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>yR(a))),h(t,["generatedImages"],o)}const r=d(e,["positivePromptSafetyAttributes"]);return r!=null&&h(t,["positivePromptSafetyAttributes"],eS(r)),t}function aR(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Md(a))),h(t,["generatedImages"],o)}const r=d(e,["positivePromptSafetyAttributes"]);return r!=null&&h(t,["positivePromptSafetyAttributes"],tS(r)),t}function sR(e,t){const n={},i=d(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&h(t,["parameters","sampleCount"],i),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(e,["durationSeconds"]);if(t!==void 0&&r!=null&&h(t,["parameters","durationSeconds"],r),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(e,["aspectRatio"]);t!==void 0&&o!=null&&h(t,["parameters","aspectRatio"],o);const a=d(e,["resolution"]);t!==void 0&&a!=null&&h(t,["parameters","resolution"],a);const s=d(e,["personGeneration"]);if(t!==void 0&&s!=null&&h(t,["parameters","personGeneration"],s),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(e,["negativePrompt"]);t!==void 0&&l!=null&&h(t,["parameters","negativePrompt"],l);const c=d(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&h(t,["parameters","enhancePrompt"],c),d(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=d(e,["lastFrame"]);t!==void 0&&f!=null&&h(t,["instances[0]","lastFrame"],Ld(f));const m=d(e,["referenceImages"]);if(t!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(g=>cI(g))),h(t,["instances[0]","referenceImages"],p)}if(d(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function lR(e,t){const n={},i=d(e,["numberOfVideos"]);t!==void 0&&i!=null&&h(t,["parameters","sampleCount"],i);const r=d(e,["outputGcsUri"]);t!==void 0&&r!=null&&h(t,["parameters","storageUri"],r);const o=d(e,["fps"]);t!==void 0&&o!=null&&h(t,["parameters","fps"],o);const a=d(e,["durationSeconds"]);t!==void 0&&a!=null&&h(t,["parameters","durationSeconds"],a);const s=d(e,["seed"]);t!==void 0&&s!=null&&h(t,["parameters","seed"],s);const l=d(e,["aspectRatio"]);t!==void 0&&l!=null&&h(t,["parameters","aspectRatio"],l);const c=d(e,["resolution"]);t!==void 0&&c!=null&&h(t,["parameters","resolution"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&h(t,["parameters","personGeneration"],f);const m=d(e,["pubsubTopic"]);t!==void 0&&m!=null&&h(t,["parameters","pubsubTopic"],m);const p=d(e,["negativePrompt"]);t!==void 0&&p!=null&&h(t,["parameters","negativePrompt"],p);const g=d(e,["enhancePrompt"]);t!==void 0&&g!=null&&h(t,["parameters","enhancePrompt"],g);const b=d(e,["generateAudio"]);t!==void 0&&b!=null&&h(t,["parameters","generateAudio"],b);const x=d(e,["lastFrame"]);t!==void 0&&x!=null&&h(t,["instances[0]","lastFrame"],bi(x));const C=d(e,["referenceImages"]);if(t!==void 0&&C!=null){let _=C;Array.isArray(_)&&(_=_.map(T=>uI(T))),h(t,["instances[0]","referenceImages"],_)}const v=d(e,["mask"]);t!==void 0&&v!=null&&h(t,["instances[0]","mask"],lI(v));const y=d(e,["compressionQuality"]);return t!==void 0&&y!=null&&h(t,["parameters","compressionQuality"],y),n}function cR(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata"]);i!=null&&h(t,["metadata"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["response","generateVideoResponse"]);return a!=null&&h(t,["response"],hR(a)),t}function uR(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata"]);i!=null&&h(t,["metadata"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["response"]);return a!=null&&h(t,["response"],pR(a)),t}function dR(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const o=d(t,["image"]);o!=null&&h(n,["instances[0]","image"],Ld(o));const a=d(t,["video"]);a!=null&&h(n,["instances[0]","video"],iS(a));const s=d(t,["source"]);s!=null&&mR(s,n);const l=d(t,["config"]);return l!=null&&sR(l,n),n}function fR(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const o=d(t,["image"]);o!=null&&h(n,["instances[0]","image"],bi(o));const a=d(t,["video"]);a!=null&&h(n,["instances[0]","video"],rS(a));const s=d(t,["source"]);s!=null&&gR(s,n);const l=d(t,["config"]);return l!=null&&lR(l,n),n}function hR(e){const t={},n=d(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>xR(a))),h(t,["generatedVideos"],o)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&h(t,["raiMediaFilteredCount"],i);const r=d(e,["raiMediaFilteredReasons"]);return r!=null&&h(t,["raiMediaFilteredReasons"],r),t}function pR(e){const t={},n=d(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>bR(a))),h(t,["generatedVideos"],o)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&h(t,["raiMediaFilteredCount"],i);const r=d(e,["raiMediaFilteredReasons"]);return r!=null&&h(t,["raiMediaFilteredReasons"],r),t}function mR(e,t){const n={},i=d(e,["prompt"]);t!==void 0&&i!=null&&h(t,["instances[0]","prompt"],i);const r=d(e,["image"]);t!==void 0&&r!=null&&h(t,["instances[0]","image"],Ld(r));const o=d(e,["video"]);return t!==void 0&&o!=null&&h(t,["instances[0]","video"],iS(o)),n}function gR(e,t){const n={},i=d(e,["prompt"]);t!==void 0&&i!=null&&h(t,["instances[0]","prompt"],i);const r=d(e,["image"]);t!==void 0&&r!=null&&h(t,["instances[0]","image"],bi(r));const o=d(e,["video"]);return t!==void 0&&o!=null&&h(t,["instances[0]","video"],rS(o)),n}function yR(e){const t={},n=d(e,["_self"]);n!=null&&h(t,["image"],NR(n));const i=d(e,["raiFilteredReason"]);i!=null&&h(t,["raiFilteredReason"],i);const r=d(e,["_self"]);return r!=null&&h(t,["safetyAttributes"],eS(r)),t}function Md(e){const t={},n=d(e,["_self"]);n!=null&&h(t,["image"],QC(n));const i=d(e,["raiFilteredReason"]);i!=null&&h(t,["raiFilteredReason"],i);const r=d(e,["_self"]);r!=null&&h(t,["safetyAttributes"],tS(r));const o=d(e,["prompt"]);return o!=null&&h(t,["enhancedPrompt"],o),t}function vR(e){const t={},n=d(e,["_self"]);n!=null&&h(t,["mask"],QC(n));const i=d(e,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),h(t,["labels"],r)}return t}function xR(e){const t={},n=d(e,["video"]);return n!=null&&h(t,["video"],aI(n)),t}function bR(e){const t={},n=d(e,["_self"]);return n!=null&&h(t,["video"],sI(n)),t}function _R(e){const t={},n=d(e,["modelSelectionConfig"]);n!=null&&h(t,["modelConfig"],n);const i=d(e,["responseJsonSchema"]);i!=null&&h(t,["responseJsonSchema"],i);const r=d(e,["audioTimestamp"]);r!=null&&h(t,["audioTimestamp"],r);const o=d(e,["candidateCount"]);o!=null&&h(t,["candidateCount"],o);const a=d(e,["enableAffectiveDialog"]);a!=null&&h(t,["enableAffectiveDialog"],a);const s=d(e,["frequencyPenalty"]);s!=null&&h(t,["frequencyPenalty"],s);const l=d(e,["logprobs"]);l!=null&&h(t,["logprobs"],l);const c=d(e,["maxOutputTokens"]);c!=null&&h(t,["maxOutputTokens"],c);const f=d(e,["mediaResolution"]);f!=null&&h(t,["mediaResolution"],f);const m=d(e,["presencePenalty"]);m!=null&&h(t,["presencePenalty"],m);const p=d(e,["responseLogprobs"]);p!=null&&h(t,["responseLogprobs"],p);const g=d(e,["responseMimeType"]);g!=null&&h(t,["responseMimeType"],g);const b=d(e,["responseModalities"]);b!=null&&h(t,["responseModalities"],b);const x=d(e,["responseSchema"]);x!=null&&h(t,["responseSchema"],x);const C=d(e,["routingConfig"]);C!=null&&h(t,["routingConfig"],C);const v=d(e,["seed"]);v!=null&&h(t,["seed"],v);const y=d(e,["speechConfig"]);y!=null&&h(t,["speechConfig"],y);const _=d(e,["stopSequences"]);_!=null&&h(t,["stopSequences"],_);const T=d(e,["temperature"]);T!=null&&h(t,["temperature"],T);const A=d(e,["thinkingConfig"]);A!=null&&h(t,["thinkingConfig"],A);const I=d(e,["topK"]);I!=null&&h(t,["topK"],I);const N=d(e,["topP"]);if(N!=null&&h(t,["topP"],N),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function CR(e,t){const n={},i=d(t,["model"]);return i!=null&&h(n,["_url","name"],Ve(e,i)),n}function SR(e,t){const n={},i=d(t,["model"]);return i!=null&&h(n,["_url","name"],Ve(e,i)),n}function TR(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function wR(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function ER(e){const t={},n=d(e,["aspectRatio"]);n!=null&&h(t,["aspectRatio"],n);const i=d(e,["imageSize"]);if(i!=null&&h(t,["imageSize"],i),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function AR(e){const t={},n=d(e,["aspectRatio"]);n!=null&&h(t,["aspectRatio"],n);const i=d(e,["imageSize"]);i!=null&&h(t,["imageSize"],i);const r=d(e,["personGeneration"]);r!=null&&h(t,["personGeneration"],r);const o=d(e,["outputMimeType"]);o!=null&&h(t,["imageOutputOptions","mimeType"],o);const a=d(e,["outputCompressionQuality"]);return a!=null&&h(t,["imageOutputOptions","compressionQuality"],a),t}function NR(e){const t={},n=d(e,["bytesBase64Encoded"]);n!=null&&h(t,["imageBytes"],to(n));const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function QC(e){const t={},n=d(e,["gcsUri"]);n!=null&&h(t,["gcsUri"],n);const i=d(e,["bytesBase64Encoded"]);i!=null&&h(t,["imageBytes"],to(i));const r=d(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function Ld(e){const t={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(e,["imageBytes"]);n!=null&&h(t,["bytesBase64Encoded"],to(n));const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function bi(e){const t={},n=d(e,["gcsUri"]);n!=null&&h(t,["gcsUri"],n);const i=d(e,["imageBytes"]);i!=null&&h(t,["bytesBase64Encoded"],to(i));const r=d(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function kR(e,t,n){const i={},r=d(t,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const o=d(t,["pageToken"]);n!==void 0&&o!=null&&h(n,["_query","pageToken"],o);const a=d(t,["filter"]);n!==void 0&&a!=null&&h(n,["_query","filter"],a);const s=d(t,["queryBase"]);return n!==void 0&&s!=null&&h(n,["_url","models_url"],VC(e,s)),i}function RR(e,t,n){const i={},r=d(t,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const o=d(t,["pageToken"]);n!==void 0&&o!=null&&h(n,["_query","pageToken"],o);const a=d(t,["filter"]);n!==void 0&&a!=null&&h(n,["_query","filter"],a);const s=d(t,["queryBase"]);return n!==void 0&&s!=null&&h(n,["_url","models_url"],VC(e,s)),i}function IR(e,t){const n={},i=d(t,["config"]);return i!=null&&kR(e,i,n),n}function MR(e,t){const n={},i=d(t,["config"]);return i!=null&&RR(e,i,n),n}function LR(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["_self"]);if(r!=null){let o=YC(r);Array.isArray(o)&&(o=o.map(a=>pp(a))),h(t,["models"],o)}return t}function DR(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["_self"]);if(r!=null){let o=YC(r);Array.isArray(o)&&(o=o.map(a=>mp(a))),h(t,["models"],o)}return t}function BR(e){const t={},n=d(e,["maskMode"]);n!=null&&h(t,["maskMode"],n);const i=d(e,["segmentationClasses"]);i!=null&&h(t,["maskClasses"],i);const r=d(e,["maskDilation"]);return r!=null&&h(t,["dilation"],r),t}function pp(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=d(e,["description"]);r!=null&&h(t,["description"],r);const o=d(e,["version"]);o!=null&&h(t,["version"],o);const a=d(e,["_self"]);a!=null&&h(t,["tunedModelInfo"],XR(a));const s=d(e,["inputTokenLimit"]);s!=null&&h(t,["inputTokenLimit"],s);const l=d(e,["outputTokenLimit"]);l!=null&&h(t,["outputTokenLimit"],l);const c=d(e,["supportedGenerationMethods"]);c!=null&&h(t,["supportedActions"],c);const f=d(e,["temperature"]);f!=null&&h(t,["temperature"],f);const m=d(e,["maxTemperature"]);m!=null&&h(t,["maxTemperature"],m);const p=d(e,["topP"]);p!=null&&h(t,["topP"],p);const g=d(e,["topK"]);g!=null&&h(t,["topK"],g);const b=d(e,["thinking"]);return b!=null&&h(t,["thinking"],b),t}function mp(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=d(e,["description"]);r!=null&&h(t,["description"],r);const o=d(e,["versionId"]);o!=null&&h(t,["version"],o);const a=d(e,["deployedModels"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(p=>W3(p))),h(t,["endpoints"],m)}const s=d(e,["labels"]);s!=null&&h(t,["labels"],s);const l=d(e,["_self"]);l!=null&&h(t,["tunedModelInfo"],ZR(l));const c=d(e,["defaultCheckpointId"]);c!=null&&h(t,["defaultCheckpointId"],c);const f=d(e,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),h(t,["checkpoints"],m)}return t}function FR(e){const t={},n=d(e,["mediaResolution"]);n!=null&&h(t,["mediaResolution"],n);const i=d(e,["codeExecutionResult"]);i!=null&&h(t,["codeExecutionResult"],i);const r=d(e,["executableCode"]);r!=null&&h(t,["executableCode"],r);const o=d(e,["fileData"]);o!=null&&h(t,["fileData"],J3(o));const a=d(e,["functionCall"]);a!=null&&h(t,["functionCall"],K3(a));const s=d(e,["functionResponse"]);s!=null&&h(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&h(t,["inlineData"],_3(l));const c=d(e,["text"]);c!=null&&h(t,["text"],c);const f=d(e,["thought"]);f!=null&&h(t,["thought"],f);const m=d(e,["thoughtSignature"]);m!=null&&h(t,["thoughtSignature"],m);const p=d(e,["videoMetadata"]);return p!=null&&h(t,["videoMetadata"],p),t}function OR(e){const t={},n=d(e,["productImage"]);return n!=null&&h(t,["image"],bi(n)),t}function UR(e,t){const n={},i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&h(t,["parameters","sampleCount"],i);const r=d(e,["baseSteps"]);t!==void 0&&r!=null&&h(t,["parameters","baseSteps"],r);const o=d(e,["outputGcsUri"]);t!==void 0&&o!=null&&h(t,["parameters","storageUri"],o);const a=d(e,["seed"]);t!==void 0&&a!=null&&h(t,["parameters","seed"],a);const s=d(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&h(t,["parameters","safetySetting"],s);const l=d(e,["personGeneration"]);t!==void 0&&l!=null&&h(t,["parameters","personGeneration"],l);const c=d(e,["addWatermark"]);t!==void 0&&c!=null&&h(t,["parameters","addWatermark"],c);const f=d(e,["outputMimeType"]);t!==void 0&&f!=null&&h(t,["parameters","outputOptions","mimeType"],f);const m=d(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&h(t,["parameters","outputOptions","compressionQuality"],m);const p=d(e,["enhancePrompt"]);t!==void 0&&p!=null&&h(t,["parameters","enhancePrompt"],p);const g=d(e,["labels"]);return t!==void 0&&g!=null&&h(t,["labels"],g),n}function PR(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["source"]);r!=null&&jR(r,n);const o=d(t,["config"]);return o!=null&&UR(o,n),n}function zR(e){const t={},n=d(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Md(r))),h(t,["generatedImages"],i)}return t}function jR(e,t){const n={},i=d(e,["prompt"]);t!==void 0&&i!=null&&h(t,["instances[0]","prompt"],i);const r=d(e,["personImage"]);t!==void 0&&r!=null&&h(t,["instances[0]","personImage","image"],bi(r));const o=d(e,["productImages"]);if(t!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>OR(s))),h(t,["instances[0]","productImages"],a)}return n}function HR(e){const t={},n=d(e,["referenceImage"]);n!=null&&h(t,["referenceImage"],bi(n));const i=d(e,["referenceId"]);i!=null&&h(t,["referenceId"],i);const r=d(e,["referenceType"]);r!=null&&h(t,["referenceType"],r);const o=d(e,["maskImageConfig"]);o!=null&&h(t,["maskImageConfig"],BR(o));const a=d(e,["controlImageConfig"]);a!=null&&h(t,["controlImageConfig"],N3(a));const s=d(e,["styleImageConfig"]);s!=null&&h(t,["styleImageConfig"],s);const l=d(e,["subjectImageConfig"]);return l!=null&&h(t,["subjectImageConfig"],l),t}function eS(e){const t={},n=d(e,["safetyAttributes","categories"]);n!=null&&h(t,["categories"],n);const i=d(e,["safetyAttributes","scores"]);i!=null&&h(t,["scores"],i);const r=d(e,["contentType"]);return r!=null&&h(t,["contentType"],r),t}function tS(e){const t={},n=d(e,["safetyAttributes","categories"]);n!=null&&h(t,["categories"],n);const i=d(e,["safetyAttributes","scores"]);i!=null&&h(t,["scores"],i);const r=d(e,["contentType"]);return r!=null&&h(t,["contentType"],r),t}function $R(e){const t={},n=d(e,["category"]);if(n!=null&&h(t,["category"],n),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(e,["threshold"]);return i!=null&&h(t,["threshold"],i),t}function qR(e){const t={},n=d(e,["image"]);return n!=null&&h(t,["image"],bi(n)),t}function GR(e,t){const n={},i=d(e,["mode"]);t!==void 0&&i!=null&&h(t,["parameters","mode"],i);const r=d(e,["maxPredictions"]);t!==void 0&&r!=null&&h(t,["parameters","maxPredictions"],r);const o=d(e,["confidenceThreshold"]);t!==void 0&&o!=null&&h(t,["parameters","confidenceThreshold"],o);const a=d(e,["maskDilation"]);t!==void 0&&a!=null&&h(t,["parameters","maskDilation"],a);const s=d(e,["binaryColorThreshold"]);t!==void 0&&s!=null&&h(t,["parameters","binaryColorThreshold"],s);const l=d(e,["labels"]);return t!==void 0&&l!=null&&h(t,["labels"],l),n}function VR(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["source"]);r!=null&&WR(r,n);const o=d(t,["config"]);return o!=null&&GR(o,n),n}function YR(e){const t={},n=d(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>vR(r))),h(t,["generatedMasks"],i)}return t}function WR(e,t){const n={},i=d(e,["prompt"]);t!==void 0&&i!=null&&h(t,["instances[0]","prompt"],i);const r=d(e,["image"]);t!==void 0&&r!=null&&h(t,["instances[0]","image"],bi(r));const o=d(e,["scribbleImage"]);return t!==void 0&&o!=null&&h(t,["instances[0]","scribble"],qR(o)),n}function JR(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&h(t,["retrievalConfig"],n);const i=d(e,["functionCallingConfig"]);return i!=null&&h(t,["functionCallingConfig"],X3(i)),t}function KR(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&h(t,["computerUse"],n);const i=d(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const r=d(e,["codeExecution"]);if(r!=null&&h(t,["codeExecution"],r),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(t,["functionDeclarations"],f)}const a=d(e,["googleMaps"]);a!=null&&h(t,["googleMaps"],TR(a));const s=d(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],wR(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],l);const c=d(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}function nS(e){const t={},n=d(e,["retrieval"]);n!=null&&h(t,["retrieval"],n);const i=d(e,["computerUse"]);if(i!=null&&h(t,["computerUse"],i),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(e,["codeExecution"]);r!=null&&h(t,["codeExecution"],r);const o=d(e,["enterpriseWebSearch"]);o!=null&&h(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(p=>Z3(p))),h(t,["functionDeclarations"],m)}const s=d(e,["googleMaps"]);s!=null&&h(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&h(t,["googleSearch"],l);const c=d(e,["googleSearchRetrieval"]);c!=null&&h(t,["googleSearchRetrieval"],c);const f=d(e,["urlContext"]);return f!=null&&h(t,["urlContext"],f),t}function XR(e){const t={},n=d(e,["baseModel"]);n!=null&&h(t,["baseModel"],n);const i=d(e,["createTime"]);i!=null&&h(t,["createTime"],i);const r=d(e,["updateTime"]);return r!=null&&h(t,["updateTime"],r),t}function ZR(e){const t={},n=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(t,["baseModel"],n);const i=d(e,["createTime"]);i!=null&&h(t,["createTime"],i);const r=d(e,["updateTime"]);return r!=null&&h(t,["updateTime"],r),t}function QR(e,t){const n={},i=d(e,["displayName"]);t!==void 0&&i!=null&&h(t,["displayName"],i);const r=d(e,["description"]);t!==void 0&&r!=null&&h(t,["description"],r);const o=d(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&h(t,["defaultCheckpointId"],o),n}function eI(e,t){const n={},i=d(e,["displayName"]);t!==void 0&&i!=null&&h(t,["displayName"],i);const r=d(e,["description"]);t!==void 0&&r!=null&&h(t,["description"],r);const o=d(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&h(t,["defaultCheckpointId"],o),n}function tI(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","name"],Ve(e,i));const r=d(t,["config"]);return r!=null&&QR(r,n),n}function nI(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["config"]);return r!=null&&eI(r,n),n}function iI(e,t){const n={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&h(t,["parameters","storageUri"],i);const r=d(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&h(t,["parameters","safetySetting"],r);const o=d(e,["personGeneration"]);t!==void 0&&o!=null&&h(t,["parameters","personGeneration"],o);const a=d(e,["includeRaiReason"]);t!==void 0&&a!=null&&h(t,["parameters","includeRaiReason"],a);const s=d(e,["outputMimeType"]);t!==void 0&&s!=null&&h(t,["parameters","outputOptions","mimeType"],s);const l=d(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&h(t,["parameters","outputOptions","compressionQuality"],l);const c=d(e,["enhanceInputImage"]);t!==void 0&&c!=null&&h(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=d(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&h(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=d(e,["labels"]);t!==void 0&&m!=null&&h(t,["labels"],m);const p=d(e,["numberOfImages"]);t!==void 0&&p!=null&&h(t,["parameters","sampleCount"],p);const g=d(e,["mode"]);return t!==void 0&&g!=null&&h(t,["parameters","mode"],g),n}function rI(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["_url","model"],Ve(e,i));const r=d(t,["image"]);r!=null&&h(n,["instances[0]","image"],bi(r));const o=d(t,["upscaleFactor"]);o!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=d(t,["config"]);return a!=null&&iI(a,n),n}function oI(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Md(o))),h(t,["generatedImages"],r)}return t}function aI(e){const t={},n=d(e,["uri"]);n!=null&&h(t,["uri"],n);const i=d(e,["encodedVideo"]);i!=null&&h(t,["videoBytes"],to(i));const r=d(e,["encoding"]);return r!=null&&h(t,["mimeType"],r),t}function sI(e){const t={},n=d(e,["gcsUri"]);n!=null&&h(t,["uri"],n);const i=d(e,["bytesBase64Encoded"]);i!=null&&h(t,["videoBytes"],to(i));const r=d(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function lI(e){const t={},n=d(e,["image"]);n!=null&&h(t,["_self"],bi(n));const i=d(e,["maskMode"]);return i!=null&&h(t,["maskMode"],i),t}function cI(e){const t={},n=d(e,["image"]);n!=null&&h(t,["image"],Ld(n));const i=d(e,["referenceType"]);return i!=null&&h(t,["referenceType"],i),t}function uI(e){const t={},n=d(e,["image"]);n!=null&&h(t,["image"],bi(n));const i=d(e,["referenceType"]);return i!=null&&h(t,["referenceType"],i),t}function iS(e){const t={},n=d(e,["uri"]);n!=null&&h(t,["uri"],n);const i=d(e,["videoBytes"]);i!=null&&h(t,["encodedVideo"],to(i));const r=d(e,["mimeType"]);return r!=null&&h(t,["encoding"],r),t}function rS(e){const t={},n=d(e,["uri"]);n!=null&&h(t,["gcsUri"],n);const i=d(e,["videoBytes"]);i!=null&&h(t,["bytesBase64Encoded"],to(i));const r=d(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dI(e,t){const n={},i=d(e,["displayName"]);return t!==void 0&&i!=null&&h(t,["displayName"],i),n}function fI(e){const t={},n=d(e,["config"]);return n!=null&&dI(n,t),t}function hI(e,t){const n={},i=d(e,["force"]);return t!==void 0&&i!=null&&h(t,["_query","force"],i),n}function pI(e){const t={},n=d(e,["name"]);n!=null&&h(t,["_url","name"],n);const i=d(e,["config"]);return i!=null&&hI(i,t),t}function mI(e){const t={},n=d(e,["name"]);return n!=null&&h(t,["_url","name"],n),t}function gI(e,t){const n={},i=d(e,["customMetadata"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["customMetadata"],o)}const r=d(e,["chunkingConfig"]);return t!==void 0&&r!=null&&h(t,["chunkingConfig"],r),n}function yI(e){const t={},n=d(e,["name"]);n!=null&&h(t,["name"],n);const i=d(e,["metadata"]);i!=null&&h(t,["metadata"],i);const r=d(e,["done"]);r!=null&&h(t,["done"],r);const o=d(e,["error"]);o!=null&&h(t,["error"],o);const a=d(e,["response"]);return a!=null&&h(t,["response"],xI(a)),t}function vI(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&h(t,["_url","file_search_store_name"],n);const i=d(e,["fileName"]);i!=null&&h(t,["fileName"],i);const r=d(e,["config"]);return r!=null&&gI(r,t),t}function xI(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["parent"]);i!=null&&h(t,["parent"],i);const r=d(e,["documentName"]);return r!=null&&h(t,["documentName"],r),t}function bI(e,t){const n={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&h(t,["_query","pageSize"],i);const r=d(e,["pageToken"]);return t!==void 0&&r!=null&&h(t,["_query","pageToken"],r),n}function _I(e){const t={},n=d(e,["config"]);return n!=null&&bI(n,t),t}function CI(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["fileSearchStores"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["fileSearchStores"],o)}return t}function oS(e,t){const n={},i=d(e,["mimeType"]);t!==void 0&&i!=null&&h(t,["mimeType"],i);const r=d(e,["displayName"]);t!==void 0&&r!=null&&h(t,["displayName"],r);const o=d(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),h(t,["customMetadata"],s)}const a=d(e,["chunkingConfig"]);return t!==void 0&&a!=null&&h(t,["chunkingConfig"],a),n}function SI(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&h(t,["_url","file_search_store_name"],n);const i=d(e,["config"]);return i!=null&&oS(i,t),t}function TI(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wI="Content-Type",EI="X-Server-Timeout",AI="User-Agent",gp="x-goog-api-client",NI="1.35.0",kI=`google-genai-sdk/${NI}`,RI="v1beta1",II="v1beta";class MI{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RI,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:II,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[a,s]of Object.entries(t.queryParams))r.searchParams.append(a,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),t.abortSignal),this.unaryApiCall(r,o,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[r,o]of Object.entries(n))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),t.abortSignal),this.streamApiCall(r,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,r){if(n&&n.timeout||r){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&LI(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await Jv(r),new dp(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await Jv(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return gi(this,arguments,function*(){var i;const r=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:f}=yield Be(r.read());if(c){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(f,{stream:!0});try{const b=JSON.parse(m);if("error"in b){const x=JSON.parse(JSON.stringify(b.error)),C=x.status,v=x.code,y=`got status: ${C}. ${JSON.stringify(b)}`;if(v>=400&&v<600)throw new Rd({message:y,status:v})}}catch(b){if(b.name==="ApiError")throw b}a+=m;let p=-1,g=0;for(;;){p=-1,g=0;for(const C of l){const v=a.indexOf(C);v!==-1&&(p===-1||v<p)&&(p=v,g=C.length)}if(p===-1)break;const b=a.substring(0,p);a=a.substring(p+g);const x=b.trim();if(x.startsWith(s)){const C=x.substring(s.length).trim();try{const v=new Response(C,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Be(new dp(v))}catch(v){throw new Error(`exception parsing stream chunk ${C}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=kI+" "+this.clientOptions.userAgentExtra;return t[AI]=n,t[gp]=n,t[wI]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[r,o]of Object.entries(t.headers))i.append(r,o);t.timeout&&t.timeout>0&&i.append(EI,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);r.sizeBytes=String(a.size);const s=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=s;const l={file:r},c=this.getFileName(t),f=me("upload/v1beta/files",l._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,l,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,i){var r;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),m={};i!=null&&oS(i,m);const p=await this.fetchUploadUrl(c,s,l,f,m,i==null?void 0:i.httpOptions);return o.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,r,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Jv(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new Rd({message:r,status:n}):new Error(r)}}function LI(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],f=s[l];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?s[l]=i(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),s[l]=c)}return s}const r=i(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DI="mcp_used/unknown";let BI=!1;function aS(e){for(const t of e)if(FI(t)||typeof t=="object"&&"inputSchema"in t)return!0;return BI}function sS(e){var t;const n=(t=e[gp])!==null&&t!==void 0?t:"";e[gp]=(n+` ${DI}`).trimStart()}function FI(e){return e!==null&&typeof e=="object"&&e instanceof ag}function OI(e){return gi(this,arguments,function*(n,i=100){let r,o=0;for(;o<i;){const a=yield Be(n.listTools({cursor:r}));for(const s of a.tools)yield yield Be(s),o++;if(!a.nextCursor)break;r=a.nextCursor}})}class ag{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new ag(t,n)}async initialize(){var t,n,i,r;if(this.mcpTools.length>0)return;const o={},a=[];for(const f of this.mcpClients)try{for(var s=!0,l=(n=void 0,yi(OI(f))),c;c=await l.next(),t=c.done,!t;s=!0){r=c.value,s=!1;const m=r;a.push(m);const p=m.name;if(o[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);o[p]=f}}catch(m){n={error:m}}finally{try{!s&&!t&&(i=l.return)&&await i.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),mN(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function UI(e,t,n){const i=new sN;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),t(i)}class PI{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=HI(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let c=()=>{};const f=new Promise(_=>{c=_}),m=t.callbacks,p=function(){c({})},g=this.apiClient,b={onopen:p,onmessage:_=>{UI(g,m.onmessage,_)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(_){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(_){}},x=this.webSocketFactory.create(l,jI(a),b);x.connect(),await f;const y={setup:{model:Ve(this.apiClient,t.model)}};return x.send(JSON.stringify(y)),new zI(x,this.apiClient)}}class zI{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=f3(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=d3(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sa.PLAY)}pause(){this.sendPlaybackControl(sa.PAUSE)}stop(){this.sendPlaybackControl(sa.STOP)}resetContext(){this.sendPlaybackControl(sa.RESET_CONTEXT)}close(){this.conn.close()}}function jI(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function HI(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $I="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qI(e,t,n){const i=new aN;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const o=JSON.parse(r);if(e.isVertexAI()){const a=m3(o);Object.assign(i,a)}else Object.assign(i,o);t(i)}class GI{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new PI(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,r,o,a,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&aS(t.config.tools)&&sS(m);const p=JI(m);if(this.apiClient.isVertexAI())f=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const M=this.apiClient.getApiKey();let q="BidiGenerateContent",X="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",X="access_token"),f=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${q}?${X}=${M}`}let g=()=>{};const b=new Promise(M=>{g=M}),x=t.callbacks,C=function(){var M;(M=x==null?void 0:x.onopen)===null||M===void 0||M.call(x),g({})},v=this.apiClient,y={onopen:C,onmessage:M=>{qI(v,x.onmessage,M)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(M){},onclose:(i=x==null?void 0:x.onclose)!==null&&i!==void 0?i:function(M){}},_=this.webSocketFactory.create(f,WI(p),y);_.connect(),await b;let T=Ve(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const M=this.apiClient.getProject(),q=this.apiClient.getLocation();T=`projects/${M}/locations/${q}/`+T}let A={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Fu.AUDIO]}:t.config.responseModalities=[Fu.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(s=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],N=[];for(const M of I)if(this.isCallableTool(M)){const q=M;N.push(await q.tool())}else N.push(M);N.length>0&&(t.config.tools=N);const P={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=u3(this.apiClient,P):A=c3(this.apiClient,P),delete A.config,_.send(JSON.stringify(A)),new YI(_,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const VI={turnComplete:!0};class YI{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ii(n.turns),t.isVertexAI()||(i=i.map(r=>Id(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error($I)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},VI),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:p3(t)}:n={realtimeInput:h3(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function WI(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function JI(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kv=10;function Xv(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(xa(a)){r=!0;break}if(!r)return!0;const o=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function xa(e){return"callTool"in e&&typeof e.callTool=="function"}function KI(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>xa(r)))!==null&&i!==void 0?i:!1}function Zv(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,r)=>{if(xa(i))return;const o=i;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(r)}),n}function Qv(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XI extends yr{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,r,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!KI(n)||Xv(n.config))return await this.generateContentInternal(l);const c=Zv(n);if(c.length>0){const x=c.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let f,m;const p=ii(l.contents),g=(o=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Kv;let b=0;for(;b<g&&(f=await this.generateContentInternal(l),!(!f.functionCalls||f.functionCalls.length===0));){const x=f.candidates[0].content,C=[];for(const v of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(xa(v)){const _=await v.callTool(f.functionCalls);C.push(..._)}b++,m={role:"user",parts:C},l.contents=ii(l.contents),l.contents.push(x),l.contents.push(m),Qv(l.config)&&(p.push(x),p.push(m))}return Qv(l.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var i,r,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),Xv(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const l=Zv(n);if(l.length>0){const m=l.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(o=(r=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,f=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let o;const a=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},s}),this.list=async n=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Fo(pr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,r;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async l=>xa(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(s.config.tools=a,t.config&&t.config.tools&&aS(t.config.tools)){const l=(r=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),sS(c),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return s}async initAfcToolsMap(t){var n,i,r;const o=new Map;for(const a of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(xa(a)){const s=a,l=await s.tool();for(const c of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,s)}}return o}async processAfcStream(t){var n,i,r;const o=(r=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Kv;let a=!1,s=0;const l=await this.initAfcToolsMap(t);return function(c,f,m){return gi(this,arguments,function*(){for(var p,g,b,x,C,v;s<o;){a&&(s++,a=!1);const A=yield Be(c.processParamsMaybeAddMcpUsage(m)),I=yield Be(c.generateContentStreamInternal(A)),N=[],P=[];try{for(var y=!0,_=(g=void 0,yi(I)),T;T=yield Be(_.next()),p=T.done,!p;y=!0){x=T.value,y=!1;const M=x;if(yield yield Be(M),M.candidates&&(!((C=M.candidates[0])===null||C===void 0)&&C.content)){P.push(M.candidates[0].content);for(const q of(v=M.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(s<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(q.functionCall.name)){const X=yield Be(f.get(q.functionCall.name).callTool([q.functionCall]));N.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(M){g={error:M}}finally{try{!y&&!p&&(b=_.return)&&(yield Be(b.call(_)))}finally{if(g)throw g.error}}if(N.length>0){a=!0;const M=new bs;M.candidates=[{content:{role:"user",parts:N}}],yield yield Be(M);const q=[];q.push(...P),q.push({role:"user",parts:N});const X=ii(m.contents).concat(q);m.contents=X}else break}})}(this,l,t)}async generateContentInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Vv(this.apiClient,t);return s=me("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=Wv(f),p=new bs;return Object.assign(p,m),p})}else{const c=Gv(this.apiClient,t);return s=me("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=Yv(f),p=new bs;return Object.assign(p,m),p})}}async generateContentStreamInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=Vv(this.apiClient,t);return s=me("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(m){return gi(this,arguments,function*(){var p,g,b,x;try{for(var C=!0,v=yi(m),y;y=yield Be(v.next()),p=y.done,!p;C=!0){x=y.value,C=!1;const _=x,T=Wv(yield Be(_.json()));T.sdkHttpResponse={headers:_.headers};const A=new bs;Object.assign(A,T),yield yield Be(A)}}catch(_){g={error:_}}finally{try{!C&&!p&&(b=v.return)&&(yield Be(b.call(v)))}finally{if(g)throw g.error}}})})}else{const c=Gv(this.apiClient,t);return s=me("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(m){return gi(this,arguments,function*(){var p,g,b,x;try{for(var C=!0,v=yi(m),y;y=yield Be(v.next()),p=y.done,!p;C=!0){x=y.value,C=!1;const _=x,T=Yv(yield Be(_.json()));T.sdkHttpResponse={headers:_.headers};const A=new bs;Object.assign(A,T),yield yield Be(A)}}catch(_){g={error:_}}finally{try{!C&&!p&&(b=v.return)&&(yield Be(b.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=G3(this.apiClient,t);return s=me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=Y3(f),p=new Nv;return Object.assign(p,m),p})}else{const c=q3(this.apiClient,t);return s=me("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=V3(f),p=new Nv;return Object.assign(p,m),p})}}async generateImagesInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=rR(this.apiClient,t);return s=me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=aR(f),p=new kv;return Object.assign(p,m),p})}else{const c=iR(this.apiClient,t);return s=me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=oR(f),p=new kv;return Object.assign(p,m),p})}}async editImageInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI()){const s=z3(this.apiClient,t);return o=me("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),r.then(l=>{const c=j3(l),f=new J5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI()){const s=rI(this.apiClient,t);return o=me("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),r.then(l=>{const c=oI(l),f=new K5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI()){const s=PR(this.apiClient,t);return o=me("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=zR(l),f=new X5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI()){const s=VR(this.apiClient,t);return o=me("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=YR(l),f=new Z5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=SR(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>mp(f))}else{const c=CR(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>pp(f))}}async listInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=MR(this.apiClient,t);return s=me("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=DR(f),p=new Rv;return Object.assign(p,m),p})}else{const c=IR(this.apiClient,t);return s=me("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=LR(f),p=new Rv;return Object.assign(p,m),p})}}async update(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=nI(this.apiClient,t);return s=me("{model}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>mp(f))}else{const c=tI(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>pp(f))}}async delete(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=F3(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=U3(f),p=new Iv;return Object.assign(p,m),p})}else{const c=B3(this.apiClient,t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=O3(f),p=new Iv;return Object.assign(p,m),p})}}async countTokens(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=M3(this.apiClient,t);return s=me("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=D3(f),p=new Mv;return Object.assign(p,m),p})}else{const c=I3(this.apiClient,t);return s=me("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=L3(f),p=new Mv;return Object.assign(p,m),p})}}async computeTokens(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI()){const s=T3(this.apiClient,t);return o=me("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),r.then(l=>{const c=w3(l),f=new Q5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=fR(this.apiClient,t);return s=me("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const m=uR(f),p=new Ou;return Object.assign(p,m),p})}else{const c=dR(this.apiClient,t);return s=me("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const m=cR(f),p=new Ou;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZI extends yr{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=$5(t);return s=me("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a}else{const c=H5(t);return s=me("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a}}async fetchPredictVideosOperationInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI()){const s=B5(t);return o=me("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QI(e){const t={},n=d(e,["data"]);if(n!=null&&h(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function e4(e){const t={},n=d(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>c4(o))),h(t,["parts"],r)}const i=d(e,["role"]);return i!=null&&h(t,["role"],i),t}function t4(e,t,n){const i={},r=d(t,["expireTime"]);n!==void 0&&r!=null&&h(n,["expireTime"],r);const o=d(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&h(n,["newSessionExpireTime"],o);const a=d(t,["uses"]);n!==void 0&&a!=null&&h(n,["uses"],a);const s=d(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&h(n,["bidiGenerateContentSetup"],l4(e,s));const l=d(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&h(n,["fieldMask"],l),i}function n4(e,t){const n={},i=d(t,["config"]);return i!=null&&h(n,["config"],t4(e,i,n)),n}function i4(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const i=d(e,["mimeType"]);return i!=null&&h(t,["mimeType"],i),t}function r4(e){const t={},n=d(e,["id"]);n!=null&&h(t,["id"],n);const i=d(e,["args"]);i!=null&&h(t,["args"],i);const r=d(e,["name"]);if(r!=null&&h(t,["name"],r),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function o4(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function a4(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function s4(e,t){const n={},i=d(e,["generationConfig"]);t!==void 0&&i!=null&&h(t,["setup","generationConfig"],i);const r=d(e,["responseModalities"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig","responseModalities"],r);const o=d(e,["temperature"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&h(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&h(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","maxOutputTokens"],l);const c=d(e,["mediaResolution"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","mediaResolution"],c);const f=d(e,["seed"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","seed"],f);const m=d(e,["speechConfig"]);t!==void 0&&m!=null&&h(t,["setup","generationConfig","speechConfig"],og(m));const p=d(e,["thinkingConfig"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","thinkingConfig"],p);const g=d(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],g);const b=d(e,["systemInstruction"]);t!==void 0&&b!=null&&h(t,["setup","systemInstruction"],e4(nn(b)));const x=d(e,["tools"]);if(t!==void 0&&x!=null){let I=ns(x);Array.isArray(I)&&(I=I.map(N=>d4(ts(N)))),h(t,["setup","tools"],I)}const C=d(e,["sessionResumption"]);t!==void 0&&C!=null&&h(t,["setup","sessionResumption"],u4(C));const v=d(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&h(t,["setup","inputAudioTranscription"],v);const y=d(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&h(t,["setup","outputAudioTranscription"],y);const _=d(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&h(t,["setup","realtimeInputConfig"],_);const T=d(e,["contextWindowCompression"]);t!==void 0&&T!=null&&h(t,["setup","contextWindowCompression"],T);const A=d(e,["proactivity"]);if(t!==void 0&&A!=null&&h(t,["setup","proactivity"],A),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function l4(e,t){const n={},i=d(t,["model"]);i!=null&&h(n,["setup","model"],Ve(e,i));const r=d(t,["config"]);return r!=null&&h(n,["config"],s4(r,n)),n}function c4(e){const t={},n=d(e,["mediaResolution"]);n!=null&&h(t,["mediaResolution"],n);const i=d(e,["codeExecutionResult"]);i!=null&&h(t,["codeExecutionResult"],i);const r=d(e,["executableCode"]);r!=null&&h(t,["executableCode"],r);const o=d(e,["fileData"]);o!=null&&h(t,["fileData"],i4(o));const a=d(e,["functionCall"]);a!=null&&h(t,["functionCall"],r4(a));const s=d(e,["functionResponse"]);s!=null&&h(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&h(t,["inlineData"],QI(l));const c=d(e,["text"]);c!=null&&h(t,["text"],c);const f=d(e,["thought"]);f!=null&&h(t,["thought"],f);const m=d(e,["thoughtSignature"]);m!=null&&h(t,["thoughtSignature"],m);const p=d(e,["videoMetadata"]);return p!=null&&h(t,["videoMetadata"],p),t}function u4(e){const t={},n=d(e,["handle"]);if(n!=null&&h(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function d4(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&h(t,["computerUse"],n);const i=d(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const r=d(e,["codeExecution"]);if(r!=null&&h(t,["codeExecution"],r),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),h(t,["functionDeclarations"],f)}const a=d(e,["googleMaps"]);a!=null&&h(t,["googleMaps"],o4(a));const s=d(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],a4(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],l);const c=d(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f4(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${n}.${o}`);t.push(...r)}else t.push(n)}return t.join(",")}function h4(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const o=f4(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];r.length>0&&(s=r.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class p4 extends yr{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=n4(this.apiClient,t);o=me("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=h4(s,t.config);return r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m4(e,t){const n={},i=d(e,["force"]);return t!==void 0&&i!=null&&h(t,["_query","force"],i),n}function g4(e){const t={},n=d(e,["name"]);n!=null&&h(t,["_url","name"],n);const i=d(e,["config"]);return i!=null&&m4(i,t),t}function y4(e){const t={},n=d(e,["name"]);return n!=null&&h(t,["_url","name"],n),t}function v4(e,t){const n={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&h(t,["_query","pageSize"],i);const r=d(e,["pageToken"]);return t!==void 0&&r!=null&&h(t,["_query","pageToken"],r),n}function x4(e){const t={},n=d(e,["parent"]);n!=null&&h(t,["_url","parent"],n);const i=d(e,["config"]);return i!=null&&v4(i,t),t}function b4(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const i=d(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=d(e,["documents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),h(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _4 extends yr{constructor(t){super(),this.apiClient=t,this.list=async n=>new Fo(pr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=y4(t);return o=me("{name}",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=g4(t);r=me("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=x4(t);return o=me("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=b4(l),f=new eN;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C4 extends yr{constructor(t,n=new _4(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Fo(pr.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=fI(t);return o=me("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mI(t);return o=me("{name}",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pI(t);r=me("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_I(t);return o=me("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=CI(l),f=new tN;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=SI(t);return o=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=TI(l),f=new nN;return Object.assign(f,c),f})}}async importFile(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vI(t);return o=me("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const c=yI(l),f=new eg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lS=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return lS=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const S4=()=>lS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yp(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const vp=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ai extends Error{}class fn extends ai{constructor(t,n,i,r){super(`${fn.makeMessage(t,n,i)}`),this.status=t,this.headers=r,this.error=n}static makeMessage(t,n,i){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,i,r){if(!t||!r)return new Dd({message:i,cause:vp(n)});const o=n;return t===400?new uS(t,o,i,r):t===401?new dS(t,o,i,r):t===403?new fS(t,o,i,r):t===404?new hS(t,o,i,r):t===409?new pS(t,o,i,r):t===422?new mS(t,o,i,r):t===429?new gS(t,o,i,r):t>=500?new yS(t,o,i,r):new fn(t,o,i,r)}}class xp extends fn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Dd extends fn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class cS extends Dd{constructor({message:t}={}){super({message:t??"Request timed out."})}}class uS extends fn{}class dS extends fn{}class fS extends fn{}class hS extends fn{}class pS extends fn{}class mS extends fn{}class gS extends fn{}class yS extends fn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T4=/^[a-z][a-z0-9+.-]*:/i,w4=e=>T4.test(e);let bp=e=>(bp=Array.isArray,bp(e));const E4=bp;let A4=E4;const ex=A4;function N4(e){if(!e)return!0;for(const t in e)return!1;return!0}function k4(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const R4=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ai(`${e} must be an integer`);if(t<0)throw new ai(`${e} must be a positive integer`);return t},I4=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M4=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L4(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const D4=()=>{var e,t,n,i,r;const o=L4();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":nx(Deno.build.os),"X-Stainless-Arch":tx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":nx((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":tx((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const a=B4();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function B4(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,o=i[2]||0,a=i[3]||0;return{browser:t,version:`${r}.${o}.${a}`}}}return null}const tx=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",nx=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let xc;const F4=()=>xc??(xc=D4());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O4(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vS(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function U4(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return vS({start(){},async pull(n){const{done:i,value:r}=await t.next();i?n.close():n.enqueue(r)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function xS(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function P4(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),r=i.cancel();i.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z4=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vf(e,t,n){return bS(),new File(e,t??"unknown_file",n)}function j4(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const H4=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _S=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",$4=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&_S(e),q4=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function G4(e,t,n){if(bS(),e=await e,$4(e))return e instanceof File?e:Vf([await e.arrayBuffer()],e.name);if(q4(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Vf(await _p(r),t,n)}const i=await _p(e);if(t||(t=j4(e)),!(n!=null&&n.type)){const r=i.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Vf(i,t,n)}async function _p(e){var t,n,i,r,o;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(_S(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(H4(e))try{for(var s=!0,l=yi(e),c;c=await l.next(),t=c.done,!t;s=!0){r=c.value,s=!1;const f=r;a.push(...await _p(f))}}catch(f){n={error:f}}finally{try{!s&&!t&&(i=l.return)&&await i.call(l)}finally{if(n)throw n.error}}else{const f=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${f?`; constructor: ${f}`:""}${V4(e)}`)}return a}function V4(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CS{constructor(t){this._client=t}}CS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SS(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ix=Object.freeze(Object.create(null)),Y4=(e=SS)=>function(n,...i){if(n.length===1)return n[0];let r=!1;const o=[],a=n.reduce((f,m,p)=>{var g,b,x;/[?#]/.test(m)&&(r=!0);const C=i[p];let v=(r?encodeURIComponent:e)(""+C);return p!==i.length&&(C==null||typeof C=="object"&&C.toString===((x=Object.getPrototypeOf((b=Object.getPrototypeOf((g=C.hasOwnProperty)!==null&&g!==void 0?g:ix))!==null&&b!==void 0?b:ix))===null||x===void 0?void 0:x.toString))&&(v=C+"",o.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),f+m+(p===i.length?"":v)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(s))!==null;)o.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(o.sort((f,m)=>f.start-m.start),o.length>0){let f=0;const m=o.reduce((p,g)=>{const b=" ".repeat(g.start-f),x="^".repeat(g.length);return f=g.start+g.length,p+b+x},"");throw new ai(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${a}
${m}`)}return a},bc=Y4(SS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TS extends CS{create(t,n){var i;const{api_version:r=this._client.apiVersion}=t,o=Pu(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new ai("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new ai("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(bc`/${r}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(bc`/${r}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(bc`/${r}/interactions/${t}/cancel`,i)}get(t,n={},i){var r;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Pu(o,["api_version"]);return this._client.get(bc`/${a}/interactions/${t}`,Object.assign(Object.assign({query:s},i),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}TS._key=Object.freeze(["interactions"]);class wS extends TS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W4(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let i=0;for(const r of e)n.set(r,i),i+=r.length;return n}let _c;function sg(e){let t;return(_c??(t=new globalThis.TextEncoder,_c=t.encode.bind(t)))(e)}let Cc;function rx(e){let t;return(Cc??(t=new globalThis.TextDecoder,Cc=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?sg(t):t;this.buffer=W4([this.buffer,n]);const i=[];let r;for(;(r=J4(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(rx(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,a=rx(this.buffer.subarray(0,o));i.push(a),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Bd.NEWLINE_CHARS=new Set([`
`,"\r"]);Bd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function J4(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function K4(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zu={off:0,error:200,warn:300,info:400,debug:500},ox=(e,t,n)=>{if(e){if(k4(zu,e))return e;ln(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(zu))}`)}};function Fs(){}function Sc(e,t,n){return!t||zu[e]>zu[n]?Fs:t[e].bind(t)}const X4={error:Fs,warn:Fs,info:Fs,debug:Fs};let ax=new WeakMap;function ln(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return X4;const r=ax.get(n);if(r&&r[0]===i)return r[1];const o={error:Sc("error",n,i),warn:Sc("warn",n,i),info:Sc("info",n,i),debug:Sc("debug",n,i)};return ax.set(n,[i,o]),o}const fo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class la{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let r=!1;const o=i?ln(i):console;function a(){return gi(this,arguments,function*(){var l,c,f,m;if(r)throw new ai("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var g=!0,b=yi(Z4(t,n)),x;x=yield Be(b.next()),l=x.done,!l;g=!0){m=x.value,g=!1;const C=m;if(!p)if(C.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield Be(JSON.parse(C.data))}catch(v){throw o.error("Could not parse message into JSON:",C.data),o.error("From chunk:",C.raw),v}}}catch(C){c={error:C}}finally{try{!g&&!l&&(f=b.return)&&(yield Be(f.call(b)))}finally{if(c)throw c.error}}p=!0}catch(C){if(yp(C))return yield Be(void 0);throw C}finally{p||n.abort()}})}return new la(a,n,i)}static fromReadableStream(t,n,i){let r=!1;function o(){return gi(this,arguments,function*(){var l,c,f,m;const p=new Bd,g=xS(t);try{for(var b=!0,x=yi(g),C;C=yield Be(x.next()),l=C.done,!l;b=!0){m=C.value,b=!1;const v=m;for(const y of p.decode(v))yield yield Be(y)}}catch(v){c={error:v}}finally{try{!b&&!l&&(f=x.return)&&(yield Be(f.call(x)))}finally{if(c)throw c.error}}for(const v of p.flush())yield yield Be(v)})}function a(){return gi(this,arguments,function*(){var l,c,f,m;if(r)throw new ai("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var g=!0,b=yi(o()),x;x=yield Be(b.next()),l=x.done,!l;g=!0){m=x.value,g=!1;const C=m;p||C&&(yield yield Be(JSON.parse(C)))}}catch(C){c={error:C}}finally{try{!g&&!l&&(f=b.return)&&(yield Be(f.call(b)))}finally{if(c)throw c.error}}p=!0}catch(C){if(yp(C))return yield Be(void 0);throw C}finally{p||n.abort()}})}return new la(a,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),r=o=>({next:()=>{if(o.length===0){const a=i.next();t.push(a),n.push(a)}return o.shift()}});return[new la(()=>r(t),this.controller,this.client),new la(()=>r(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return vS({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:o}=await n.next();if(o)return i.close();const a=sg(JSON.stringify(r)+`
`);i.enqueue(a)}catch(r){i.error(r)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function Z4(e,t){return gi(this,arguments,function*(){var i,r,o,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ai("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ai("Attempted to iterate over a response with no body");const s=new eM,l=new Bd,c=xS(e.body);try{for(var f=!0,m=yi(Q4(c)),p;p=yield Be(m.next()),i=p.done,!i;f=!0){a=p.value,f=!1;const g=a;for(const b of l.decode(g)){const x=s.decode(b);x&&(yield yield Be(x))}}}catch(g){r={error:g}}finally{try{!f&&!i&&(o=m.return)&&(yield Be(o.call(m)))}finally{if(r)throw r.error}}for(const g of l.flush()){const b=s.decode(g);b&&(yield yield Be(b))}})}function Q4(e){return gi(this,arguments,function*(){var n,i,r,o;let a=new Uint8Array;try{for(var s=!0,l=yi(e),c;c=yield Be(l.next()),n=c.done,!n;s=!0){o=c.value,s=!1;const f=o;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?sg(f):f;let p=new Uint8Array(a.length+m.length);p.set(a),p.set(m,a.length),a=p;let g;for(;(g=K4(a))!==-1;)yield yield Be(a.slice(0,g)),a=a.slice(g)}}catch(f){i={error:f}}finally{try{!s&&!n&&(r=l.return)&&(yield Be(r.call(l)))}finally{if(i)throw i.error}}a.length>0&&(yield yield Be(a))})}class eM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,r]=tM(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function tM(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nM(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:o}=t,a=await(async()=>{var s;if(t.options.stream)return ln(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):la.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),c=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return ln(e).debug(`[${i}] response parsed`,fo({retryOfRequestLogID:r,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lg extends Promise{constructor(t,n,i=nM){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new lg(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ES=Symbol("brand.privateNullableHeaders");function*iM(e){if(!e)return;if(ES in e){const{values:i,nulls:r}=e;yield*i.entries();for(const o of r)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():ex(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const o=ex(i[1])?i[1]:[i[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[r,null]),yield[r,s])}}const _s=e=>{const t=new Headers,n=new Set;for(const i of e){const r=new Set;for(const[o,a]of iM(i)){const s=o.toLowerCase();r.has(s)||(t.delete(o),r.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[ES]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yf=e=>{var t,n,i,r,o,a;if(typeof globalThis.process<"u")return(i=(n=(t=k5)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||o===void 0?void 0:o.call(r,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AS;class Fd{constructor(t){var n,i,r,o,a,s,l,{baseURL:c=Yf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Yf("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,p=Pu(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(i=g.timeout)!==null&&i!==void 0?i:Fd.DEFAULT_TIMEOUT,this.logger=(r=g.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(a=(o=ox(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:ox(Yf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:b,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:O4(),this.encoder=z4,this._options=g,this.apiKey=f,this.apiVersion=m,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=_s([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return _s([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return _s([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new ai(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wo}`}defaultIdempotencyKey(){return`stainless-node-retry-${S4()}`}makeStatusError(t,n,i,r){return fn.generate(t,n,i,r)}buildURL(t,n,i){const r=!this.baseURLOverridden()&&i||this.baseURL,o=w4(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return N4(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:t,path:n},r)))}request(t,n=null){return new lg(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var r,o,a;const s=await t,l=(r=s.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:c,url:f,timeout:m}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(c,{url:f,options:s});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,b=Date.now();if(ln(this).debug(`[${p}] sending request`,fo({retryOfRequestLogID:i,method:s.method,url:f,options:s,headers:c.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new xp;const x=new AbortController,C=await this.fetchWithTimeout(f,c,m,x).catch(vp),v=Date.now();if(C instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new xp;const T=yp(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return ln(this).info(`[${p}] connection ${T?"timed out":"failed"} - ${_}`),ln(this).debug(`[${p}] connection ${T?"timed out":"failed"} (${_})`,fo({retryOfRequestLogID:i,url:f,durationMs:v-b,message:C.message})),this.retryRequest(s,n,i??p);throw ln(this).info(`[${p}] connection ${T?"timed out":"failed"} - error; no more retries left`),ln(this).debug(`[${p}] connection ${T?"timed out":"failed"} (error; no more retries left)`,fo({retryOfRequestLogID:i,url:f,durationMs:v-b,message:C.message})),T?new cS:new Dd({cause:C})}const y=`[${p}${g}] ${c.method} ${f} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${v-b}ms`;if(!C.ok){const _=await this.shouldRetry(C);if(n&&_){const M=`retrying, ${n} attempts remaining`;return await P4(C.body),ln(this).info(`${y} - ${M}`),ln(this).debug(`[${p}] response error (${M})`,fo({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:v-b})),this.retryRequest(s,n,i??p,C.headers)}const T=_?"error; no more retries left":"error; not retryable";ln(this).info(`${y} - ${T}`);const A=await C.text().catch(M=>vp(M).message),I=I4(A),N=I?void 0:A;throw ln(this).debug(`[${p}] response error (${T})`,fo({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,message:N,durationMs:Date.now()-b})),this.makeStatusError(C.status,I,N,C.headers)}return ln(this).info(y),ln(this).debug(`[${p}] response start`,fo({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:v-b})),{response:C,options:s,controller:x,requestLogID:p,retryOfRequestLogID:i,startTime:b}}async fetchWithTimeout(t,n,i,r){const o=n||{},{signal:a,method:s}=o,l=Pu(o,["signal","method"]);a&&a.addEventListener("abort",()=>r.abort());const c=setTimeout(()=>r.abort(),i),f=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,m=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),l);s&&(m.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,r){var o;let a;const s=r==null?void 0:r.get("retry-after-ms");if(s){const c=parseFloat(s);Number.isNaN(c)||(a=c)}const l=r==null?void 0:r.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,c)}return await M4(a),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,r,o;const a=Object.assign({},t),{method:s,path:l,query:c,defaultBaseURL:f}=a,m=this.buildURL(l,c,f);"timeout"in a&&R4("timeout",a.timeout),a.timeout=(i=a.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:a}),b=await this.buildHeaders({options:t,method:s,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:b},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:r}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let s=_s([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),F4()),this._options.defaultHeaders,i,t.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=_s([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:U4(t)}:this.encoder({body:t,headers:i})}}Fd.DEFAULT_TIMEOUT=6e4;class qt extends Fd{constructor(){super(...arguments),this.interactions=new wS(this)}}AS=qt;qt.GeminiNextGenAPIClient=AS;qt.GeminiNextGenAPIClientError=ai;qt.APIError=fn;qt.APIConnectionError=Dd;qt.APIConnectionTimeoutError=cS;qt.APIUserAbortError=xp;qt.NotFoundError=hS;qt.ConflictError=pS;qt.RateLimitError=gS;qt.BadRequestError=uS;qt.AuthenticationError=dS;qt.InternalServerError=yS;qt.PermissionDeniedError=fS;qt.UnprocessableEntityError=mS;qt.toFile=G4;qt.Interactions=wS;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rM(e,t){const n={},i=d(e,["name"]);return i!=null&&h(n,["_url","name"],i),n}function oM(e,t){const n={},i=d(e,["name"]);return i!=null&&h(n,["_url","name"],i),n}function aM(e,t){const n={},i=d(e,["sdkHttpResponse"]);return i!=null&&h(n,["sdkHttpResponse"],i),n}function sM(e,t){const n={},i=d(e,["sdkHttpResponse"]);return i!=null&&h(n,["sdkHttpResponse"],i),n}function lM(e,t,n){const i={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&h(t,["displayName"],r),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(e,["epochCount"]);t!==void 0&&o!=null&&h(t,["tuningTask","hyperparameters","epochCount"],o);const a=d(e,["learningRateMultiplier"]);if(a!=null&&h(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=d(e,["batchSize"]);t!==void 0&&s!=null&&h(t,["tuningTask","hyperparameters","batchSize"],s);const l=d(e,["learningRate"]);if(t!==void 0&&l!=null&&h(t,["tuningTask","hyperparameters","learningRate"],l),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function cM(e,t,n){const i={};let r=d(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=d(e,["validationDataset"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec"],sx(g))}else if(r==="PREFERENCE_TUNING"){const g=d(e,["validationDataset"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec"],sx(g))}const o=d(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&h(t,["tunedModelDisplayName"],o);const a=d(e,["description"]);t!==void 0&&a!=null&&h(t,["description"],a);let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=d(e,["epochCount"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=d(e,["epochCount"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=d(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=d(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=d(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=d(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=d(e,["adapterSize"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=d(e,["adapterSize"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=d(e,["labels"]);t!==void 0&&m!=null&&h(t,["labels"],m);const p=d(e,["beta"]);return t!==void 0&&p!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function uM(e,t){const n={},i=d(e,["baseModel"]);i!=null&&h(n,["baseModel"],i);const r=d(e,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const o=d(e,["trainingDataset"]);o!=null&&_M(o);const a=d(e,["config"]);return a!=null&&lM(a,n),n}function dM(e,t){const n={},i=d(e,["baseModel"]);i!=null&&h(n,["baseModel"],i);const r=d(e,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const o=d(e,["trainingDataset"]);o!=null&&CM(o,n,t);const a=d(e,["config"]);return a!=null&&cM(a,n,t),n}function fM(e,t){const n={},i=d(e,["name"]);return i!=null&&h(n,["_url","name"],i),n}function hM(e,t){const n={},i=d(e,["name"]);return i!=null&&h(n,["_url","name"],i),n}function pM(e,t,n){const i={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&h(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&h(t,["_query","filter"],a),i}function mM(e,t,n){const i={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&h(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&h(t,["_query","filter"],a),i}function gM(e,t){const n={},i=d(e,["config"]);return i!=null&&pM(i,n),n}function yM(e,t){const n={},i=d(e,["config"]);return i!=null&&mM(i,n),n}function vM(e,t){const n={},i=d(e,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=d(e,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const o=d(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>NS(s))),h(n,["tuningJobs"],a)}return n}function xM(e,t){const n={},i=d(e,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=d(e,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const o=d(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Cp(s))),h(n,["tuningJobs"],a)}return n}function bM(e,t){const n={},i=d(e,["name"]);i!=null&&h(n,["model"],i);const r=d(e,["name"]);return r!=null&&h(n,["endpoint"],r),n}function _M(e,t){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=d(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),h(n,["examples","examples"],r)}return n}function CM(e,t,n){const i={};let r=d(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&h(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&h(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function NS(e,t){const n={},i=d(e,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=d(e,["name"]);r!=null&&h(n,["name"],r);const o=d(e,["state"]);o!=null&&h(n,["state"],qC(o));const a=d(e,["createTime"]);a!=null&&h(n,["createTime"],a);const s=d(e,["tuningTask","startTime"]);s!=null&&h(n,["startTime"],s);const l=d(e,["tuningTask","completeTime"]);l!=null&&h(n,["endTime"],l);const c=d(e,["updateTime"]);c!=null&&h(n,["updateTime"],c);const f=d(e,["description"]);f!=null&&h(n,["description"],f);const m=d(e,["baseModel"]);m!=null&&h(n,["baseModel"],m);const p=d(e,["_self"]);return p!=null&&h(n,["tunedModel"],bM(p)),n}function Cp(e,t){const n={},i=d(e,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=d(e,["name"]);r!=null&&h(n,["name"],r);const o=d(e,["state"]);o!=null&&h(n,["state"],qC(o));const a=d(e,["createTime"]);a!=null&&h(n,["createTime"],a);const s=d(e,["startTime"]);s!=null&&h(n,["startTime"],s);const l=d(e,["endTime"]);l!=null&&h(n,["endTime"],l);const c=d(e,["updateTime"]);c!=null&&h(n,["updateTime"],c);const f=d(e,["error"]);f!=null&&h(n,["error"],f);const m=d(e,["description"]);m!=null&&h(n,["description"],m);const p=d(e,["baseModel"]);p!=null&&h(n,["baseModel"],p);const g=d(e,["tunedModel"]);g!=null&&h(n,["tunedModel"],g);const b=d(e,["preTunedModel"]);b!=null&&h(n,["preTunedModel"],b);const x=d(e,["supervisedTuningSpec"]);x!=null&&h(n,["supervisedTuningSpec"],x);const C=d(e,["preferenceOptimizationSpec"]);C!=null&&h(n,["preferenceOptimizationSpec"],C);const v=d(e,["tuningDataStats"]);v!=null&&h(n,["tuningDataStats"],v);const y=d(e,["encryptionSpec"]);y!=null&&h(n,["encryptionSpec"],y);const _=d(e,["partnerModelTuningSpec"]);_!=null&&h(n,["partnerModelTuningSpec"],_);const T=d(e,["customBaseModel"]);T!=null&&h(n,["customBaseModel"],T);const A=d(e,["experiment"]);A!=null&&h(n,["experiment"],A);const I=d(e,["labels"]);I!=null&&h(n,["labels"],I);const N=d(e,["outputUri"]);N!=null&&h(n,["outputUri"],N);const P=d(e,["pipelineJob"]);P!=null&&h(n,["pipelineJob"],P);const M=d(e,["serviceAccount"]);M!=null&&h(n,["serviceAccount"],M);const q=d(e,["tunedModelDisplayName"]);q!=null&&h(n,["tunedModelDisplayName"],q);const X=d(e,["veoTuningSpec"]);return X!=null&&h(n,["veoTuningSpec"],X),n}function SM(e,t){const n={},i=d(e,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=d(e,["name"]);r!=null&&h(n,["name"],r);const o=d(e,["metadata"]);o!=null&&h(n,["metadata"],o);const a=d(e,["done"]);a!=null&&h(n,["done"],a);const s=d(e,["error"]);return s!=null&&h(n,["error"],s),n}function sx(e,t){const n={},i=d(e,["gcsUri"]);i!=null&&h(n,["validationDatasetUri"],i);const r=d(e,["vertexDatasetResource"]);return r!=null&&h(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TM extends yr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(pr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:r});return o.baseModel=void 0,await this.tuneInternal(o)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),o=await this.tuneMldevInternal(r);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:up.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=hM(t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>Cp(f))}else{const c=fM(t);return s=me("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>NS(f))}}async listInternal(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=yM(t);return s=me("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=xM(f),p=new Lv;return Object.assign(p,m),p})}else{const c=gM(t);return s=me("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=vM(f),p=new Lv;return Object.assign(p,m),p})}}async cancel(t){var n,i,r,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=oM(t);return s=me("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=sM(f),p=new Dv;return Object.assign(p,m),p})}else{const c=rM(t);return s=me("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const m=aM(f),p=new Dv;return Object.assign(p,m),p})}}async tuneInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI()){const s=dM(t,t);return o=me("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),r.then(l=>Cp(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let r,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=uM(t);return o=me("tunedModels",s._url),a=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),r.then(l=>SM(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wM{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EM=1024*1024*8,AM=3,NM=1e3,kM=2,ju="x-goog-upload-status";async function RM(e,t,n){var i;const r=await kS(e,t,n),o=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[ju])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function IM(e,t,n){var i;const r=await kS(e,t,n),o=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[ju])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=UC(o),s=new tg;return Object.assign(s,a),s}async function kS(e,t,n){var i,r;let o=0,a=0,s=new dp(new Response),l="upload";for(o=e.size;a<o;){const c=Math.min(EM,o-a),f=e.slice(a,a+c);a+c>=o&&(l+=", finalize");let m=0,p=NM;for(;m<AM&&(s=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((i=s==null?void 0:s.headers)===null||i===void 0)&&i[ju]));)m++,await LM(p),p=p*kM;if(a+=c,((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[ju])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function MM(e){return{size:e.size,type:e.type}}function LM(e){return new Promise(t=>setTimeout(t,e))}class DM{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await RM(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await IM(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await MM(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM{create(t,n,i){return new FM(t,n,i)}}class FM{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lx="x-goog-api-key";class OM{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(lx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(lx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UM="gl-node/";class ri{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new qt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=L5(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new OM(this.apiKey);this.apiClient=new MI({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:UM+"web",uploader:new DM,downloader:new wM}),this.models=new XI(this.apiClient),this.live=new GI(this.apiClient,r,new BM),this.batches=new lk(this.apiClient),this.chats=new $k(this.models,this.apiClient),this.caches=new zk(this.apiClient),this.files=new Qk(this.apiClient),this.operations=new ZI(this.apiClient),this.authTokens=new p4(this.apiClient),this.tunings=new TM(this.apiClient),this.fileSearchStores=new C4(this.apiClient)}}function Tc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var RS={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(i,r,o){function a(c,f){if(!r[c]){if(!i[c]){var m=typeof Tc=="function"&&Tc;if(!f&&m)return m(c,!0);if(s)return s(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var g=r[c]={exports:{}};i[c][0].call(g.exports,function(b){var x=i[c][1][b];return a(x||b)},g,g.exports,n,i,r,o)}return r[c].exports}for(var s=typeof Tc=="function"&&Tc,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(n,i,r){var o=n("./utils"),a=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var c,f,m,p,g,b,x,C=[],v=0,y=l.length,_=y,T=o.getTypeOf(l)!=="string";v<l.length;)_=y-v,m=T?(c=l[v++],f=v<y?l[v++]:0,v<y?l[v++]:0):(c=l.charCodeAt(v++),f=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),p=c>>2,g=(3&c)<<4|f>>4,b=1<_?(15&f)<<2|m>>6:64,x=2<_?63&m:64,C.push(s.charAt(p)+s.charAt(g)+s.charAt(b)+s.charAt(x));return C.join("")},r.decode=function(l){var c,f,m,p,g,b,x=0,C=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&_--,l.charAt(l.length-2)===s.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|_):new Array(0|_);x<l.length;)c=s.indexOf(l.charAt(x++))<<2|(p=s.indexOf(l.charAt(x++)))>>4,f=(15&p)<<4|(g=s.indexOf(l.charAt(x++)))>>2,m=(3&g)<<6|(b=s.indexOf(l.charAt(x++))),y[C++]=c,g!==64&&(y[C++]=f),b!==64&&(y[C++]=m);return y}},{"./support":30,"./utils":32}],2:[function(n,i,r){var o=n("./external"),a=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(f,m,p,g,b){this.compressedSize=f,this.uncompressedSize=m,this.crc32=p,this.compression=g,this.compressedContent=b}c.prototype={getContentWorker:function(){var f=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(f,m,p){return f.pipe(new s).pipe(new l("uncompressedSize")).pipe(m.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,r){var o=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,r){var o=n("./utils"),a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();i.exports=function(s,l){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(c,f,m,p){var g=a,b=p+m;c^=-1;for(var x=p;x<b;x++)c=c>>>8^g[255&(c^f[x])];return-1^c}(0|l,s,s.length,0):function(c,f,m,p){var g=a,b=p+m;c^=-1;for(var x=p;x<b;x++)c=c>>>8^g[255&(c^f.charCodeAt(x))];return-1^c}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(n,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,i,r){var o=null;o=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:o}},{lie:37}],7:[function(n,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),s=n("./utils"),l=n("./stream/GenericWorker"),c=o?"uint8array":"array";function f(m,p){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=p,this.meta={}}r.magic="\b\0",s.inherits(f,l),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,m.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(p){m.push({data:p,meta:m.meta})}},r.compressWorker=function(m){return new f("Deflate",m)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,r){function o(g,b){var x,C="";for(x=0;x<b;x++)C+=String.fromCharCode(255&g),g>>>=8;return C}function a(g,b,x,C,v,y){var _,T,A=g.file,I=g.compression,N=y!==c.utf8encode,P=s.transformTo("string",y(A.name)),M=s.transformTo("string",c.utf8encode(A.name)),q=A.comment,X=s.transformTo("string",y(q)),D=s.transformTo("string",c.utf8encode(q)),Y=M.length!==A.name.length,S=D.length!==q.length,O="",B="",U="",J=A.dir,z=A.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};b&&!x||(Z.crc32=g.crc32,Z.compressedSize=g.compressedSize,Z.uncompressedSize=g.uncompressedSize);var $=0;b&&($|=8),N||!Y&&!S||($|=2048);var V=0,oe=0;J&&(V|=16),v==="UNIX"?(oe=798,V|=function(re,Ce){var ke=re;return re||(ke=Ce?16893:33204),(65535&ke)<<16}(A.unixPermissions,J)):(oe=20,V|=function(re){return 63&(re||0)}(A.dosPermissions)),_=z.getUTCHours(),_<<=6,_|=z.getUTCMinutes(),_<<=5,_|=z.getUTCSeconds()/2,T=z.getUTCFullYear()-1980,T<<=4,T|=z.getUTCMonth()+1,T<<=5,T|=z.getUTCDate(),Y&&(B=o(1,1)+o(f(P),4)+M,O+="up"+o(B.length,2)+B),S&&(U=o(1,1)+o(f(X),4)+D,O+="uc"+o(U.length,2)+U);var ae="";return ae+=`
\0`,ae+=o($,2),ae+=I.magic,ae+=o(_,2),ae+=o(T,2),ae+=o(Z.crc32,4),ae+=o(Z.compressedSize,4),ae+=o(Z.uncompressedSize,4),ae+=o(P.length,2),ae+=o(O.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ae+P+O,dirRecord:m.CENTRAL_FILE_HEADER+o(oe,2)+ae+o(X.length,2)+"\0\0\0\0"+o(V,4)+o(C,4)+P+O+X}}var s=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),f=n("../crc32"),m=n("../signature");function p(g,b,x,C){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=x,this.encodeFileName=C,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,l),p.prototype.push=function(g){var b=g.meta.percent||0,x=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,l.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:x?(b+100*(x-C-1))/x:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var x=a(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,x=a(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),b)this.push({data:function(C){return m.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var x=this.bytesWritten-g,C=function(v,y,_,T,A){var I=s.transformTo("string",A(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(y,4)+o(_,4)+o(I.length,2)+I}(this.dirRecords.length,x,g,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(x){b.processChunk(x)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(x){b.error(x)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var b=this._sources;if(!l.prototype.error.call(this,g))return!1;for(var x=0;x<b.length;x++)try{b[x].error(g)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},i.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,r){var o=n("../compressions"),a=n("./ZipFileWorker");r.generateWorker=function(s,l,c){var f=new a(l.streamFiles,c,l.platform,l.encodeFileName),m=0;try{s.forEach(function(p,g){m++;var b=function(y,_){var T=y||_,A=o[T];if(!A)throw new Error(T+" is not a valid compression method !");return A}(g.options.compression,l.compression),x=g.options.compressionOptions||l.compressionOptions||{},C=g.dir,v=g.date;g._compressWorker(b,x).withStreamInfo("file",{name:p,dir:C,date:v,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(p){f.error(p)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,r){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(a,s){return new o().loadAsync(a,s)},o.external=n("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,r){var o=n("./utils"),a=n("./external"),s=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function m(p){return new a.Promise(function(g,b){var x=p.decompressed.getContentWorker().pipe(new c);x.on("error",function(C){b(C)}).on("end",function(){x.streamInfo.crc32!==p.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}i.exports=function(p,g){var b=this;return g=o.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),f.isNode&&f.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(x){var C=new l(g);return C.load(x),C}).then(function(x){var C=[a.Promise.resolve(x)],v=x.files;if(g.checkCRC32)for(var y=0;y<v.length;y++)C.push(m(v[y]));return a.Promise.all(C)}).then(function(x){for(var C=x.shift(),v=C.files,y=0;y<v.length;y++){var _=v[y],T=_.fileNameStr,A=o.resolve(_.fileNameStr);b.file(A,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:g.createFolders}),_.dir||(b.file(A).unsafeOriginalName=T)}return C.zipComment.length&&(b.comment=C.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,r){var o=n("../utils"),a=n("../stream/GenericWorker");function s(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(s,a),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(f){c.push({data:f,meta:{percent:0}})}).on("error",function(f){c.isPaused?this.generatedError=f:c.error(f)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,r){var o=n("readable-stream").Readable;function a(s,l,c){o.call(this,l),this._helper=s;var f=this;s.on("data",function(m,p){f.push(m)||f._helper.pause(),c&&c(p)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}n("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},i.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,i,r){function o(A,I,N){var P,M=s.getTypeOf(I),q=s.extend(N||{},f);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(A=v(A)),q.createFolders&&(P=C(A))&&y.call(this,P,!0);var X=M==="string"&&q.binary===!1&&q.base64===!1;N&&N.binary!==void 0||(q.binary=!X),(I instanceof m&&I.uncompressedSize===0||q.dir||!I||I.length===0)&&(q.base64=!1,q.binary=!0,I="",q.compression="STORE",M="string");var D=null;D=I instanceof m||I instanceof l?I:b.isNode&&b.isStream(I)?new x(A,I):s.prepareContent(A,I,q.binary,q.optimizedBinaryString,q.base64);var Y=new p(A,D,q);this.files[A]=Y}var a=n("./utf8"),s=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),f=n("./defaults"),m=n("./compressedObject"),p=n("./zipObject"),g=n("./generate"),b=n("./nodejsUtils"),x=n("./nodejs/NodejsStreamInputAdapter"),C=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var I=A.lastIndexOf("/");return 0<I?A.substring(0,I):""},v=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},y=function(A,I){return I=I!==void 0?I:f.createFolders,A=v(A),this.files[A]||o.call(this,A,null,{dir:!0,createFolders:I}),this.files[A]};function _(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var I,N,P;for(I in this.files)P=this.files[I],(N=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&A(N,P)},filter:function(A){var I=[];return this.forEach(function(N,P){A(N,P)&&I.push(P)}),I},file:function(A,I,N){if(arguments.length!==1)return A=this.root+A,o.call(this,A,I,N),this;if(_(A)){var P=A;return this.filter(function(q,X){return!X.dir&&P.test(q)})}var M=this.files[this.root+A];return M&&!M.dir?M:null},folder:function(A){if(!A)return this;if(_(A))return this.filter(function(M,q){return q.dir&&A.test(M)});var I=this.root+A,N=y.call(this,I),P=this.clone();return P.root=N.name,P},remove:function(A){A=this.root+A;var I=this.files[A];if(I||(A.slice(-1)!=="/"&&(A+="/"),I=this.files[A]),I&&!I.dir)delete this.files[A];else for(var N=this.filter(function(M,q){return q.name.slice(0,A.length)===A}),P=0;P<N.length;P++)delete this.files[N[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var I,N={};try{if((N=s.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");s.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var P=N.comment||this.comment||"";I=g.generateWorker(this,N,P)}catch(M){(I=new l("error")).error(M)}return new c(I,N.type||"string",N.mimeType)},generateAsync:function(A,I){return this.generateInternalStream(A).accumulate(I)},generateNodeStream:function(A,I){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(I)}};i.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,r){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,r){var o=n("./DataReader");function a(s){o.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}n("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),f=s.charCodeAt(2),m=s.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===f&&this.data[p+3]===m)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),f=s.charCodeAt(2),m=s.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&f===p[2]&&m===p[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,i,r){var o=n("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},i.exports=a},{"../utils":32}],19:[function(n,i,r){var o=n("./Uint8ArrayReader");function a(s){o.call(this,s)}n("../utils").inherits(a,o),a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,r){var o=n("./DataReader");function a(s){o.call(this,s)}n("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,i,r){var o=n("./ArrayReader");function a(s){o.call(this,s)}n("../utils").inherits(a,o),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,r){var o=n("../utils"),a=n("../support"),s=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");i.exports=function(m){var p=o.getTypeOf(m);return o.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new c(m):a.uint8array?new f(o.transformTo("uint8array",m)):new s(o.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,r){var o=n("./GenericWorker"),a=n("../utils");function s(l){o.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(s,o),s.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},i.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,r){var o=n("./GenericWorker"),a=n("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,o),s.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,r){var o=n("../utils"),a=n("./GenericWorker");function s(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(s,a),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},i.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,r){var o=n("../utils"),a=n("./GenericWorker");function s(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=o.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}o.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,r){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(l){s.processChunk(l)}),a.on("end",function(){s.end()}),a.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=o},{}],29:[function(n,i,r){var o=n("../utils"),a=n("./ConvertWorker"),s=n("./GenericWorker"),l=n("../base64"),c=n("../support"),f=n("../external"),m=null;if(c.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(b,x){return new f.Promise(function(C,v){var y=[],_=b._internalType,T=b._outputType,A=b._mimeType;b.on("data",function(I,N){y.push(I),x&&x(N)}).on("error",function(I){y=[],v(I)}).on("end",function(){try{var I=function(N,P,M){switch(N){case"blob":return o.newBlob(o.transformTo("arraybuffer",P),M);case"base64":return l.encode(P);default:return o.transformTo(N,P)}}(T,function(N,P){var M,q=0,X=null,D=0;for(M=0;M<P.length;M++)D+=P[M].length;switch(N){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(X=new Uint8Array(D),M=0;M<P.length;M++)X.set(P[M],q),q+=P[M].length;return X;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+N+"'")}}(_,y),A);C(I)}catch(N){v(N)}y=[]}).resume()})}function g(b,x,C){var v=x;switch(x){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=x,this._mimeType=C,o.checkSupport(v),this._worker=b.pipe(new a(v)),b.lock()}catch(y){this._worker=new s("error"),this._worker.error(y)}}g.prototype={accumulate:function(b){return p(this,b)},on:function(b,x){var C=this;return b==="data"?this._worker.on(b,function(v){x.call(C,v.data,v.meta)}):this._worker.on(b,function(){o.delay(x,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},b)}},i.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var o=new ArrayBuffer(0);try{r.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),r.blob=a.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,r){for(var o=n("./utils"),a=n("./support"),s=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;c[254]=c[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}r.utf8encode=function(g){return a.nodebuffer?s.newBufferFrom(g,"utf-8"):function(b){var x,C,v,y,_,T=b.length,A=0;for(y=0;y<T;y++)(64512&(C=b.charCodeAt(y)))==55296&&y+1<T&&(64512&(v=b.charCodeAt(y+1)))==56320&&(C=65536+(C-55296<<10)+(v-56320),y++),A+=C<128?1:C<2048?2:C<65536?3:4;for(x=a.uint8array?new Uint8Array(A):new Array(A),y=_=0;_<A;y++)(64512&(C=b.charCodeAt(y)))==55296&&y+1<T&&(64512&(v=b.charCodeAt(y+1)))==56320&&(C=65536+(C-55296<<10)+(v-56320),y++),C<128?x[_++]=C:(C<2048?x[_++]=192|C>>>6:(C<65536?x[_++]=224|C>>>12:(x[_++]=240|C>>>18,x[_++]=128|C>>>12&63),x[_++]=128|C>>>6&63),x[_++]=128|63&C);return x}(g)},r.utf8decode=function(g){return a.nodebuffer?o.transformTo("nodebuffer",g).toString("utf-8"):function(b){var x,C,v,y,_=b.length,T=new Array(2*_);for(x=C=0;x<_;)if((v=b[x++])<128)T[C++]=v;else if(4<(y=c[v]))T[C++]=65533,x+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&x<_;)v=v<<6|63&b[x++],y--;1<y?T[C++]=65533:v<65536?T[C++]=v:(v-=65536,T[C++]=55296|v>>10&1023,T[C++]=56320|1023&v)}return T.length!==C&&(T.subarray?T=T.subarray(0,C):T.length=C),o.applyFromCharCode(T)}(g=o.transformTo(a.uint8array?"uint8array":"array",g))},o.inherits(m,l),m.prototype.processChunk=function(g){var b=o.transformTo(a.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var x=b;(b=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),b.set(x,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var C=function(y,_){var T;for((_=_||y.length)>y.length&&(_=y.length),T=_-1;0<=T&&(192&y[T])==128;)T--;return T<0||T===0?_:T+c[y[T]]>_?T:_}(b),v=b;C!==b.length&&(a.uint8array?(v=b.subarray(0,C),this.leftOver=b.subarray(C,b.length)):(v=b.slice(0,C),this.leftOver=b.slice(C,b.length))),this.push({data:r.utf8decode(v),meta:g.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=m,o.inherits(p,l),p.prototype.processChunk=function(g){this.push({data:r.utf8encode(g.data),meta:g.meta})},r.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,r){var o=n("./support"),a=n("./base64"),s=n("./nodejsUtils"),l=n("./external");function c(x){return x}function f(x,C){for(var v=0;v<x.length;++v)C[v]=255&x.charCodeAt(v);return C}n("setimmediate"),r.newBlob=function(x,C){r.checkSupport("blob");try{return new Blob([x],{type:C})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(x),v.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(x,C,v){var y=[],_=0,T=x.length;if(T<=v)return String.fromCharCode.apply(null,x);for(;_<T;)C==="array"||C==="nodebuffer"?y.push(String.fromCharCode.apply(null,x.slice(_,Math.min(_+v,T)))):y.push(String.fromCharCode.apply(null,x.subarray(_,Math.min(_+v,T)))),_+=v;return y.join("")},stringifyByChar:function(x){for(var C="",v=0;v<x.length;v++)C+=String.fromCharCode(x[v]);return C},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function p(x){var C=65536,v=r.getTypeOf(x),y=!0;if(v==="uint8array"?y=m.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=m.applyCanBeUsed.nodebuffer),y)for(;1<C;)try{return m.stringifyByChunk(x,v,C)}catch{C=Math.floor(C/2)}return m.stringifyByChar(x)}function g(x,C){for(var v=0;v<x.length;v++)C[v]=x[v];return C}r.applyFromCharCode=p;var b={};b.string={string:c,array:function(x){return f(x,new Array(x.length))},arraybuffer:function(x){return b.string.uint8array(x).buffer},uint8array:function(x){return f(x,new Uint8Array(x.length))},nodebuffer:function(x){return f(x,s.allocBuffer(x.length))}},b.array={string:p,array:c,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return s.newBufferFrom(x)}},b.arraybuffer={string:function(x){return p(new Uint8Array(x))},array:function(x){return g(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:c,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return s.newBufferFrom(new Uint8Array(x))}},b.uint8array={string:p,array:function(x){return g(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:c,nodebuffer:function(x){return s.newBufferFrom(x)}},b.nodebuffer={string:p,array:function(x){return g(x,new Array(x.length))},arraybuffer:function(x){return b.nodebuffer.uint8array(x).buffer},uint8array:function(x){return g(x,new Uint8Array(x.length))},nodebuffer:c},r.transformTo=function(x,C){if(C=C||"",!x)return C;r.checkSupport(x);var v=r.getTypeOf(C);return b[v][x](C)},r.resolve=function(x){for(var C=x.split("/"),v=[],y=0;y<C.length;y++){var _=C[y];_==="."||_===""&&y!==0&&y!==C.length-1||(_===".."?v.pop():v.push(_))}return v.join("/")},r.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(x)?"nodebuffer":o.uint8array&&x instanceof Uint8Array?"uint8array":o.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(x){if(!o[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(x){var C,v,y="";for(v=0;v<(x||"").length;v++)y+="\\x"+((C=x.charCodeAt(v))<16?"0":"")+C.toString(16).toUpperCase();return y},r.delay=function(x,C,v){setImmediate(function(){x.apply(v||null,C||[])})},r.inherits=function(x,C){function v(){}v.prototype=C.prototype,x.prototype=new v},r.extend=function(){var x,C,v={};for(x=0;x<arguments.length;x++)for(C in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],C)&&v[C]===void 0&&(v[C]=arguments[x][C]);return v},r.prepareContent=function(x,C,v,y,_){return l.Promise.resolve(C).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,I){var N=new FileReader;N.onload=function(P){A(P.target.result)},N.onerror=function(P){I(P.target.error)},N.readAsArrayBuffer(T)}):T}).then(function(T){var A=r.getTypeOf(T);return A?(A==="arraybuffer"?T=r.transformTo("uint8array",T):A==="string"&&(_?T=a.decode(T):v&&y!==!0&&(T=function(I){return f(I,o.uint8array?new Uint8Array(I.length):new Array(I.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,r){var o=n("./reader/readerFor"),a=n("./utils"),s=n("./signature"),l=n("./zipEntry"),c=n("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(m)+")")}},isSignature:function(m,p){var g=this.reader.index;this.reader.setIndex(m);var b=this.reader.readString(4)===p;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",g=a.transformTo(p,m);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,p,g,b=this.zip64EndOfCentralSize-44;0<b;)m=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[m]={id:m,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,p;for(m=0;m<this.files.length;m++)p=this.files[m],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var p=m;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=p-g;if(0<b)this.isSignature(p,s.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,r){var o=n("./reader/readerFor"),a=n("./utils"),s=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),f=n("./compressions"),m=n("./support");function p(g,b){this.options=g,this.loadOptions=b}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,x;if(g.skip(22),this.fileNameLength=g.readInt(2),x=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(C){for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)&&f[v].magic===C)return f[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,x,C,v=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<v;)b=g.readInt(2),x=g.readInt(2),C=g.readData(x),this.extraFields[b]={id:b,length:x,value:C};g.setIndex(v)},handleUTF8:function(){var g=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var x=a.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var v=a.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=o(g.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:c.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=o(g.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:c.utf8decode(b.readData(g.length-5))}return null}},i.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,r){function o(b,x,C){this.name=b,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=x,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var a=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),f=n("./stream/GenericWorker");o.prototype={internalStream:function(b){var x=null,C="string";try{if(!b)throw new Error("No output type specified.");var v=(C=b.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),x=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(x=x.pipe(new l.Utf8EncodeWorker)),!y&&v&&(x=x.pipe(new l.Utf8DecodeWorker))}catch(_){(x=new f("error")).error(_)}return new a(x,C,"")},async:function(b,x){return this.internalStream(b).accumulate(x)},nodeStream:function(b,x){return this.internalStream(b||"nodebuffer").toNodejsStream(x)},_compressWorker:function(b,x){if(this._data instanceof c&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(C,b,x)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new s(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<m.length;g++)o.prototype[m[g]]=p;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,r){(function(o){var a,s,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,f=new l(b),m=o.document.createTextNode("");f.observe(m,{characterData:!0}),a=function(){m.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var x=o.document.createElement("script");x.onreadystatechange=function(){b(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},o.document.documentElement.appendChild(x)}:function(){setTimeout(b,0)};else{var p=new o.MessageChannel;p.port1.onmessage=b,a=function(){p.port2.postMessage(0)}}var g=[];function b(){var x,C;s=!0;for(var v=g.length;v;){for(C=g,g=[],x=-1;++x<v;)C[x]();v=g.length}s=!1}i.exports=function(x){g.push(x)!==1||s||a()}}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,r){var o=n("immediate");function a(){}var s={},l=["REJECTED"],c=["FULFILLED"],f=["PENDING"];function m(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,v!==a&&x(this,v)}function p(v,y,_){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function g(v,y,_){o(function(){var T;try{T=y(_)}catch(A){return s.reject(v,A)}T===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,T)})}function b(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function x(v,y){var _=!1;function T(N){_||(_=!0,s.reject(v,N))}function A(N){_||(_=!0,s.resolve(v,N))}var I=C(function(){y(A,T)});I.status==="error"&&T(I.value)}function C(v,y){var _={};try{_.value=v(y),_.status="success"}catch(T){_.status="error",_.value=T}return _}(i.exports=m).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(_){return y.resolve(v()).then(function(){return _})},function(_){return y.resolve(v()).then(function(){throw _})})},m.prototype.catch=function(v){return this.then(null,v)},m.prototype.then=function(v,y){if(typeof v!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var _=new this.constructor(a);return this.state!==f?g(_,this.state===c?v:y,this.outcome):this.queue.push(new p(_,v,y)),_},p.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},p.prototype.otherCallFulfilled=function(v){g(this.promise,this.onFulfilled,v)},p.prototype.callRejected=function(v){s.reject(this.promise,v)},p.prototype.otherCallRejected=function(v){g(this.promise,this.onRejected,v)},s.resolve=function(v,y){var _=C(b,y);if(_.status==="error")return s.reject(v,_.value);var T=_.value;if(T)x(v,T);else{v.state=c,v.outcome=y;for(var A=-1,I=v.queue.length;++A<I;)v.queue[A].callFulfilled(y)}return v},s.reject=function(v,y){v.state=l,v.outcome=y;for(var _=-1,T=v.queue.length;++_<T;)v.queue[_].callRejected(y);return v},m.resolve=function(v){return v instanceof this?v:s.resolve(new this(a),v)},m.reject=function(v){var y=new this(a);return s.reject(y,v)},m.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,T=!1;if(!_)return this.resolve([]);for(var A=new Array(_),I=0,N=-1,P=new this(a);++N<_;)M(v[N],N);return P;function M(q,X){y.resolve(q).then(function(D){A[X]=D,++I!==_||T||(T=!0,s.resolve(P,A))},function(D){T||(T=!0,s.reject(P,D))})}},m.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,T=!1;if(!_)return this.resolve([]);for(var A=-1,I=new this(a);++A<_;)N=v[A],y.resolve(N).then(function(P){T||(T=!0,s.resolve(I,P))},function(P){T||(T=!0,s.reject(I,P))});var N;return I}},{immediate:36}],38:[function(n,i,r){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,r){var o=n("./zlib/deflate"),a=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),f=Object.prototype.toString,m=0,p=-1,g=0,b=8;function x(v){if(!(this instanceof x))return new x(v);this.options=a.assign({level:p,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var _=o.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(_!==m)throw new Error(l[_]);if(y.header&&o.deflateSetHeader(this.strm,y.header),y.dictionary){var T;if(T=typeof y.dictionary=="string"?s.string2buf(y.dictionary):f.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(_=o.deflateSetDictionary(this.strm,T))!==m)throw new Error(l[_]);this._dict_set=!0}}function C(v,y){var _=new x(y);if(_.push(v,!0),_.err)throw _.msg||l[_.err];return _.result}x.prototype.push=function(v,y){var _,T,A=this.strm,I=this.options.chunkSize;if(this.ended)return!1;T=y===~~y?y:y===!0?4:0,typeof v=="string"?A.input=s.string2buf(v):f.call(v)==="[object ArrayBuffer]"?A.input=new Uint8Array(v):A.input=v,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(I),A.next_out=0,A.avail_out=I),(_=o.deflate(A,T))!==1&&_!==m)return this.onEnd(_),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(A.output,A.next_out))):this.onData(a.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&_!==1);return T===4?(_=o.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===m):T!==2||(this.onEnd(m),!(A.avail_out=0))},x.prototype.onData=function(v){this.chunks.push(v)},x.prototype.onEnd=function(v){v===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},r.Deflate=x,r.deflate=C,r.deflateRaw=function(v,y){return(y=y||{}).raw=!0,C(v,y)},r.gzip=function(v,y){return(y=y||{}).gzip=!0,C(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,r){var o=n("./zlib/inflate"),a=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),f=n("./zlib/zstream"),m=n("./zlib/gzheader"),p=Object.prototype.toString;function g(x){if(!(this instanceof g))return new g(x);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},x||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||x&&x.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&!(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,C.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function b(x,C){var v=new g(C);if(v.push(x,!0),v.err)throw v.msg||c[v.err];return v.result}g.prototype.push=function(x,C){var v,y,_,T,A,I,N=this.strm,P=this.options.chunkSize,M=this.options.dictionary,q=!1;if(this.ended)return!1;y=C===~~C?C:C===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof x=="string"?N.input=s.binstring2buf(x):p.call(x)==="[object ArrayBuffer]"?N.input=new Uint8Array(x):N.input=x,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(P),N.next_out=0,N.avail_out=P),(v=o.inflate(N,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&M&&(I=typeof M=="string"?s.string2buf(M):p.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,v=o.inflateSetDictionary(this.strm,I)),v===l.Z_BUF_ERROR&&q===!0&&(v=l.Z_OK,q=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&v!==l.Z_STREAM_END&&(N.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=s.utf8border(N.output,N.next_out),T=N.next_out-_,A=s.buf2string(N.output,_),N.next_out=T,N.avail_out=P-T,T&&a.arraySet(N.output,N.output,_,T,0),this.onData(A)):this.onData(a.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(q=!0)}while((0<N.avail_in||N.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(N.avail_out=0))},g.prototype.onData=function(x){this.chunks.push(x)},g.prototype.onEnd=function(x){x===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},r.Inflate=g,r.inflate=b,r.inflateRaw=function(x,C){return(C=C||{}).raw=!0,b(x,C)},r.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(l[m]=f[m])}}return l},r.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,f,m,p){if(c.subarray&&l.subarray)l.set(c.subarray(f,f+m),p);else for(var g=0;g<m;g++)l[p+g]=c[f+g]},flattenChunks:function(l){var c,f,m,p,g,b;for(c=m=0,f=l.length;c<f;c++)m+=l[c].length;for(b=new Uint8Array(m),c=p=0,f=l.length;c<f;c++)g=l[c],b.set(g,p),p+=g.length;return b}},s={arraySet:function(l,c,f,m,p){for(var g=0;g<m;g++)l[p+g]=c[f+g]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(o)},{}],42:[function(n,i,r){var o=n("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function f(m,p){if(p<65537&&(m.subarray&&s||!m.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(m,p));for(var g="",b=0;b<p;b++)g+=String.fromCharCode(m[b]);return g}l[254]=l[254]=1,r.string2buf=function(m){var p,g,b,x,C,v=m.length,y=0;for(x=0;x<v;x++)(64512&(g=m.charCodeAt(x)))==55296&&x+1<v&&(64512&(b=m.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),x++),y+=g<128?1:g<2048?2:g<65536?3:4;for(p=new o.Buf8(y),x=C=0;C<y;x++)(64512&(g=m.charCodeAt(x)))==55296&&x+1<v&&(64512&(b=m.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),x++),g<128?p[C++]=g:(g<2048?p[C++]=192|g>>>6:(g<65536?p[C++]=224|g>>>12:(p[C++]=240|g>>>18,p[C++]=128|g>>>12&63),p[C++]=128|g>>>6&63),p[C++]=128|63&g);return p},r.buf2binstring=function(m){return f(m,m.length)},r.binstring2buf=function(m){for(var p=new o.Buf8(m.length),g=0,b=p.length;g<b;g++)p[g]=m.charCodeAt(g);return p},r.buf2string=function(m,p){var g,b,x,C,v=p||m.length,y=new Array(2*v);for(g=b=0;g<v;)if((x=m[g++])<128)y[b++]=x;else if(4<(C=l[x]))y[b++]=65533,g+=C-1;else{for(x&=C===2?31:C===3?15:7;1<C&&g<v;)x=x<<6|63&m[g++],C--;1<C?y[b++]=65533:x<65536?y[b++]=x:(x-=65536,y[b++]=55296|x>>10&1023,y[b++]=56320|1023&x)}return f(y,b)},r.utf8border=function(m,p){var g;for((p=p||m.length)>m.length&&(p=m.length),g=p-1;0<=g&&(192&m[g])==128;)g--;return g<0||g===0?p:g+l[m[g]]>p?g:p}},{"./common":41}],43:[function(n,i,r){i.exports=function(o,a,s,l){for(var c=65535&o|0,f=o>>>16&65535|0,m=0;s!==0;){for(s-=m=2e3<s?2e3:s;f=f+(c=c+a[l++]|0)|0,--m;);c%=65521,f%=65521}return c|f<<16|0}},{}],44:[function(n,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,r){var o=function(){for(var a,s=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;s[l]=a}return s}();i.exports=function(a,s,l,c){var f=o,m=c+l;a^=-1;for(var p=c;p<m;p++)a=a>>>8^f[255&(a^s[p])];return-1^a}},{}],46:[function(n,i,r){var o,a=n("../utils/common"),s=n("./trees"),l=n("./adler32"),c=n("./crc32"),f=n("./messages"),m=0,p=4,g=0,b=-2,x=-1,C=4,v=2,y=8,_=9,T=286,A=30,I=19,N=2*T+1,P=15,M=3,q=258,X=q+M+1,D=42,Y=113,S=1,O=2,B=3,U=4;function J(E,L){return E.msg=f[L],L}function z(E){return(E<<1)-(4<E?9:0)}function Z(E){for(var L=E.length;0<=--L;)E[L]=0}function $(E){var L=E.state,H=L.pending;H>E.avail_out&&(H=E.avail_out),H!==0&&(a.arraySet(E.output,L.pending_buf,L.pending_out,H,E.next_out),E.next_out+=H,L.pending_out+=H,E.total_out+=H,E.avail_out-=H,L.pending-=H,L.pending===0&&(L.pending_out=0))}function V(E,L){s._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,L),E.block_start=E.strstart,$(E.strm)}function oe(E,L){E.pending_buf[E.pending++]=L}function ae(E,L){E.pending_buf[E.pending++]=L>>>8&255,E.pending_buf[E.pending++]=255&L}function re(E,L){var H,R,w=E.max_chain_length,k=E.strstart,j=E.prev_length,W=E.nice_match,F=E.strstart>E.w_size-X?E.strstart-(E.w_size-X):0,ne=E.window,ie=E.w_mask,te=E.prev,ue=E.strstart+q,ge=ne[k+j-1],be=ne[k+j];E.prev_length>=E.good_match&&(w>>=2),W>E.lookahead&&(W=E.lookahead);do if(ne[(H=L)+j]===be&&ne[H+j-1]===ge&&ne[H]===ne[k]&&ne[++H]===ne[k+1]){k+=2,H++;do;while(ne[++k]===ne[++H]&&ne[++k]===ne[++H]&&ne[++k]===ne[++H]&&ne[++k]===ne[++H]&&ne[++k]===ne[++H]&&ne[++k]===ne[++H]&&ne[++k]===ne[++H]&&ne[++k]===ne[++H]&&k<ue);if(R=q-(ue-k),k=ue-q,j<R){if(E.match_start=L,W<=(j=R))break;ge=ne[k+j-1],be=ne[k+j]}}while((L=te[L&ie])>F&&--w!=0);return j<=E.lookahead?j:E.lookahead}function Ce(E){var L,H,R,w,k,j,W,F,ne,ie,te=E.w_size;do{if(w=E.window_size-E.lookahead-E.strstart,E.strstart>=te+(te-X)){for(a.arraySet(E.window,E.window,te,te,0),E.match_start-=te,E.strstart-=te,E.block_start-=te,L=H=E.hash_size;R=E.head[--L],E.head[L]=te<=R?R-te:0,--H;);for(L=H=te;R=E.prev[--L],E.prev[L]=te<=R?R-te:0,--H;);w+=te}if(E.strm.avail_in===0)break;if(j=E.strm,W=E.window,F=E.strstart+E.lookahead,ne=w,ie=void 0,ie=j.avail_in,ne<ie&&(ie=ne),H=ie===0?0:(j.avail_in-=ie,a.arraySet(W,j.input,j.next_in,ie,F),j.state.wrap===1?j.adler=l(j.adler,W,ie,F):j.state.wrap===2&&(j.adler=c(j.adler,W,ie,F)),j.next_in+=ie,j.total_in+=ie,ie),E.lookahead+=H,E.lookahead+E.insert>=M)for(k=E.strstart-E.insert,E.ins_h=E.window[k],E.ins_h=(E.ins_h<<E.hash_shift^E.window[k+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[k+M-1])&E.hash_mask,E.prev[k&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=k,k++,E.insert--,!(E.lookahead+E.insert<M)););}while(E.lookahead<X&&E.strm.avail_in!==0)}function ke(E,L){for(var H,R;;){if(E.lookahead<X){if(Ce(E),E.lookahead<X&&L===m)return S;if(E.lookahead===0)break}if(H=0,E.lookahead>=M&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+M-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),H!==0&&E.strstart-H<=E.w_size-X&&(E.match_length=re(E,H)),E.match_length>=M)if(R=s._tr_tally(E,E.strstart-E.match_start,E.match_length-M),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=M){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+M-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else R=s._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(R&&(V(E,!1),E.strm.avail_out===0))return S}return E.insert=E.strstart<M-1?E.strstart:M-1,L===p?(V(E,!0),E.strm.avail_out===0?B:U):E.last_lit&&(V(E,!1),E.strm.avail_out===0)?S:O}function xe(E,L){for(var H,R,w;;){if(E.lookahead<X){if(Ce(E),E.lookahead<X&&L===m)return S;if(E.lookahead===0)break}if(H=0,E.lookahead>=M&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+M-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=M-1,H!==0&&E.prev_length<E.max_lazy_match&&E.strstart-H<=E.w_size-X&&(E.match_length=re(E,H),E.match_length<=5&&(E.strategy===1||E.match_length===M&&4096<E.strstart-E.match_start)&&(E.match_length=M-1)),E.prev_length>=M&&E.match_length<=E.prev_length){for(w=E.strstart+E.lookahead-M,R=s._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-M),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=w&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+M-1])&E.hash_mask,H=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=M-1,E.strstart++,R&&(V(E,!1),E.strm.avail_out===0))return S}else if(E.match_available){if((R=s._tr_tally(E,0,E.window[E.strstart-1]))&&V(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return S}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(R=s._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<M-1?E.strstart:M-1,L===p?(V(E,!0),E.strm.avail_out===0?B:U):E.last_lit&&(V(E,!1),E.strm.avail_out===0)?S:O}function Se(E,L,H,R,w){this.good_length=E,this.max_lazy=L,this.nice_length=H,this.max_chain=R,this.func=w}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*N),this.dyn_dtree=new a.Buf16(2*(2*A+1)),this.bl_tree=new a.Buf16(2*(2*I+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*T+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*T+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Te(E){var L;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=v,(L=E.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?D:Y,E.adler=L.wrap===2?0:1,L.last_flush=m,s._tr_init(L),g):J(E,b)}function Je(E){var L=Te(E);return L===g&&function(H){H.window_size=2*H.w_size,Z(H.head),H.max_lazy_match=o[H.level].max_lazy,H.good_match=o[H.level].good_length,H.nice_match=o[H.level].nice_length,H.max_chain_length=o[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=M-1,H.match_available=0,H.ins_h=0}(E.state),L}function ce(E,L,H,R,w,k){if(!E)return b;var j=1;if(L===x&&(L=6),R<0?(j=0,R=-R):15<R&&(j=2,R-=16),w<1||_<w||H!==y||R<8||15<R||L<0||9<L||k<0||C<k)return J(E,b);R===8&&(R=9);var W=new Me;return(E.state=W).strm=E,W.wrap=j,W.gzhead=null,W.w_bits=R,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=w+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+M-1)/M),W.window=new a.Buf8(2*W.w_size),W.head=new a.Buf16(W.hash_size),W.prev=new a.Buf16(W.w_size),W.lit_bufsize=1<<w+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new a.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=L,W.strategy=k,W.method=H,Je(E)}o=[new Se(0,0,0,0,function(E,L){var H=65535;for(H>E.pending_buf_size-5&&(H=E.pending_buf_size-5);;){if(E.lookahead<=1){if(Ce(E),E.lookahead===0&&L===m)return S;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var R=E.block_start+H;if((E.strstart===0||E.strstart>=R)&&(E.lookahead=E.strstart-R,E.strstart=R,V(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-X&&(V(E,!1),E.strm.avail_out===0))return S}return E.insert=0,L===p?(V(E,!0),E.strm.avail_out===0?B:U):(E.strstart>E.block_start&&(V(E,!1),E.strm.avail_out),S)}),new Se(4,4,8,4,ke),new Se(4,5,16,8,ke),new Se(4,6,32,32,ke),new Se(4,4,16,16,xe),new Se(8,16,32,32,xe),new Se(8,16,128,128,xe),new Se(8,32,128,256,xe),new Se(32,128,258,1024,xe),new Se(32,258,258,4096,xe)],r.deflateInit=function(E,L){return ce(E,L,y,15,8,0)},r.deflateInit2=ce,r.deflateReset=Je,r.deflateResetKeep=Te,r.deflateSetHeader=function(E,L){return E&&E.state?E.state.wrap!==2?b:(E.state.gzhead=L,g):b},r.deflate=function(E,L){var H,R,w,k;if(!E||!E.state||5<L||L<0)return E?J(E,b):b;if(R=E.state,!E.output||!E.input&&E.avail_in!==0||R.status===666&&L!==p)return J(E,E.avail_out===0?-5:b);if(R.strm=E,H=R.last_flush,R.last_flush=L,R.status===D)if(R.wrap===2)E.adler=0,oe(R,31),oe(R,139),oe(R,8),R.gzhead?(oe(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),oe(R,255&R.gzhead.time),oe(R,R.gzhead.time>>8&255),oe(R,R.gzhead.time>>16&255),oe(R,R.gzhead.time>>24&255),oe(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),oe(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(oe(R,255&R.gzhead.extra.length),oe(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(E.adler=c(E.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(oe(R,0),oe(R,0),oe(R,0),oe(R,0),oe(R,0),oe(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),oe(R,3),R.status=Y);else{var j=y+(R.w_bits-8<<4)<<8;j|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(j|=32),j+=31-j%31,R.status=Y,ae(R,j),R.strstart!==0&&(ae(R,E.adler>>>16),ae(R,65535&E.adler)),E.adler=1}if(R.status===69)if(R.gzhead.extra){for(w=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>w&&(E.adler=c(E.adler,R.pending_buf,R.pending-w,w)),$(E),w=R.pending,R.pending!==R.pending_buf_size));)oe(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>w&&(E.adler=c(E.adler,R.pending_buf,R.pending-w,w)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){w=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>w&&(E.adler=c(E.adler,R.pending_buf,R.pending-w,w)),$(E),w=R.pending,R.pending===R.pending_buf_size)){k=1;break}k=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,oe(R,k)}while(k!==0);R.gzhead.hcrc&&R.pending>w&&(E.adler=c(E.adler,R.pending_buf,R.pending-w,w)),k===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){w=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>w&&(E.adler=c(E.adler,R.pending_buf,R.pending-w,w)),$(E),w=R.pending,R.pending===R.pending_buf_size)){k=1;break}k=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,oe(R,k)}while(k!==0);R.gzhead.hcrc&&R.pending>w&&(E.adler=c(E.adler,R.pending_buf,R.pending-w,w)),k===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&$(E),R.pending+2<=R.pending_buf_size&&(oe(R,255&E.adler),oe(R,E.adler>>8&255),E.adler=0,R.status=Y)):R.status=Y),R.pending!==0){if($(E),E.avail_out===0)return R.last_flush=-1,g}else if(E.avail_in===0&&z(L)<=z(H)&&L!==p)return J(E,-5);if(R.status===666&&E.avail_in!==0)return J(E,-5);if(E.avail_in!==0||R.lookahead!==0||L!==m&&R.status!==666){var W=R.strategy===2?function(F,ne){for(var ie;;){if(F.lookahead===0&&(Ce(F),F.lookahead===0)){if(ne===m)return S;break}if(F.match_length=0,ie=s._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,ie&&(V(F,!1),F.strm.avail_out===0))return S}return F.insert=0,ne===p?(V(F,!0),F.strm.avail_out===0?B:U):F.last_lit&&(V(F,!1),F.strm.avail_out===0)?S:O}(R,L):R.strategy===3?function(F,ne){for(var ie,te,ue,ge,be=F.window;;){if(F.lookahead<=q){if(Ce(F),F.lookahead<=q&&ne===m)return S;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=M&&0<F.strstart&&(te=be[ue=F.strstart-1])===be[++ue]&&te===be[++ue]&&te===be[++ue]){ge=F.strstart+q;do;while(te===be[++ue]&&te===be[++ue]&&te===be[++ue]&&te===be[++ue]&&te===be[++ue]&&te===be[++ue]&&te===be[++ue]&&te===be[++ue]&&ue<ge);F.match_length=q-(ge-ue),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=M?(ie=s._tr_tally(F,1,F.match_length-M),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(ie=s._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),ie&&(V(F,!1),F.strm.avail_out===0))return S}return F.insert=0,ne===p?(V(F,!0),F.strm.avail_out===0?B:U):F.last_lit&&(V(F,!1),F.strm.avail_out===0)?S:O}(R,L):o[R.level].func(R,L);if(W!==B&&W!==U||(R.status=666),W===S||W===B)return E.avail_out===0&&(R.last_flush=-1),g;if(W===O&&(L===1?s._tr_align(R):L!==5&&(s._tr_stored_block(R,0,0,!1),L===3&&(Z(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),$(E),E.avail_out===0))return R.last_flush=-1,g}return L!==p?g:R.wrap<=0?1:(R.wrap===2?(oe(R,255&E.adler),oe(R,E.adler>>8&255),oe(R,E.adler>>16&255),oe(R,E.adler>>24&255),oe(R,255&E.total_in),oe(R,E.total_in>>8&255),oe(R,E.total_in>>16&255),oe(R,E.total_in>>24&255)):(ae(R,E.adler>>>16),ae(R,65535&E.adler)),$(E),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?g:1)},r.deflateEnd=function(E){var L;return E&&E.state?(L=E.state.status)!==D&&L!==69&&L!==73&&L!==91&&L!==103&&L!==Y&&L!==666?J(E,b):(E.state=null,L===Y?J(E,-3):g):b},r.deflateSetDictionary=function(E,L){var H,R,w,k,j,W,F,ne,ie=L.length;if(!E||!E.state||(k=(H=E.state).wrap)===2||k===1&&H.status!==D||H.lookahead)return b;for(k===1&&(E.adler=l(E.adler,L,ie,0)),H.wrap=0,ie>=H.w_size&&(k===0&&(Z(H.head),H.strstart=0,H.block_start=0,H.insert=0),ne=new a.Buf8(H.w_size),a.arraySet(ne,L,ie-H.w_size,H.w_size,0),L=ne,ie=H.w_size),j=E.avail_in,W=E.next_in,F=E.input,E.avail_in=ie,E.next_in=0,E.input=L,Ce(H);H.lookahead>=M;){for(R=H.strstart,w=H.lookahead-(M-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[R+M-1])&H.hash_mask,H.prev[R&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=R,R++,--w;);H.strstart=R,H.lookahead=M-1,Ce(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=M-1,H.match_available=0,E.next_in=W,E.input=F,E.avail_in=j,H.wrap=k,g},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,r){i.exports=function(o,a){var s,l,c,f,m,p,g,b,x,C,v,y,_,T,A,I,N,P,M,q,X,D,Y,S,O;s=o.state,l=o.next_in,S=o.input,c=l+(o.avail_in-5),f=o.next_out,O=o.output,m=f-(a-o.avail_out),p=f+(o.avail_out-257),g=s.dmax,b=s.wsize,x=s.whave,C=s.wnext,v=s.window,y=s.hold,_=s.bits,T=s.lencode,A=s.distcode,I=(1<<s.lenbits)-1,N=(1<<s.distbits)-1;e:do{_<15&&(y+=S[l++]<<_,_+=8,y+=S[l++]<<_,_+=8),P=T[y&I];t:for(;;){if(y>>>=M=P>>>24,_-=M,(M=P>>>16&255)===0)O[f++]=65535&P;else{if(!(16&M)){if(!(64&M)){P=T[(65535&P)+(y&(1<<M)-1)];continue t}if(32&M){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}q=65535&P,(M&=15)&&(_<M&&(y+=S[l++]<<_,_+=8),q+=y&(1<<M)-1,y>>>=M,_-=M),_<15&&(y+=S[l++]<<_,_+=8,y+=S[l++]<<_,_+=8),P=A[y&N];n:for(;;){if(y>>>=M=P>>>24,_-=M,!(16&(M=P>>>16&255))){if(!(64&M)){P=A[(65535&P)+(y&(1<<M)-1)];continue n}o.msg="invalid distance code",s.mode=30;break e}if(X=65535&P,_<(M&=15)&&(y+=S[l++]<<_,(_+=8)<M&&(y+=S[l++]<<_,_+=8)),g<(X+=y&(1<<M)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(y>>>=M,_-=M,(M=f-m)<X){if(x<(M=X-M)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(Y=v,(D=0)===C){if(D+=b-M,M<q){for(q-=M;O[f++]=v[D++],--M;);D=f-X,Y=O}}else if(C<M){if(D+=b+C-M,(M-=C)<q){for(q-=M;O[f++]=v[D++],--M;);if(D=0,C<q){for(q-=M=C;O[f++]=v[D++],--M;);D=f-X,Y=O}}}else if(D+=C-M,M<q){for(q-=M;O[f++]=v[D++],--M;);D=f-X,Y=O}for(;2<q;)O[f++]=Y[D++],O[f++]=Y[D++],O[f++]=Y[D++],q-=3;q&&(O[f++]=Y[D++],1<q&&(O[f++]=Y[D++]))}else{for(D=f-X;O[f++]=O[D++],O[f++]=O[D++],O[f++]=O[D++],2<(q-=3););q&&(O[f++]=O[D++],1<q&&(O[f++]=O[D++]))}break}}break}}while(l<c&&f<p);l-=q=_>>3,y&=(1<<(_-=q<<3))-1,o.next_in=l,o.next_out=f,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=f<p?p-f+257:257-(f-p),s.hold=y,s.bits=_}},{}],49:[function(n,i,r){var o=n("../utils/common"),a=n("./adler32"),s=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),f=1,m=2,p=0,g=-2,b=1,x=852,C=592;function v(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(D){var Y;return D&&D.state?(Y=D.state,D.total_in=D.total_out=Y.total=0,D.msg="",Y.wrap&&(D.adler=1&Y.wrap),Y.mode=b,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new o.Buf32(x),Y.distcode=Y.distdyn=new o.Buf32(C),Y.sane=1,Y.back=-1,p):g}function T(D){var Y;return D&&D.state?((Y=D.state).wsize=0,Y.whave=0,Y.wnext=0,_(D)):g}function A(D,Y){var S,O;return D&&D.state?(O=D.state,Y<0?(S=0,Y=-Y):(S=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?g:(O.window!==null&&O.wbits!==Y&&(O.window=null),O.wrap=S,O.wbits=Y,T(D))):g}function I(D,Y){var S,O;return D?(O=new y,(D.state=O).window=null,(S=A(D,Y))!==p&&(D.state=null),S):g}var N,P,M=!0;function q(D){if(M){var Y;for(N=new o.Buf32(512),P=new o.Buf32(32),Y=0;Y<144;)D.lens[Y++]=8;for(;Y<256;)D.lens[Y++]=9;for(;Y<280;)D.lens[Y++]=7;for(;Y<288;)D.lens[Y++]=8;for(c(f,D.lens,0,288,N,0,D.work,{bits:9}),Y=0;Y<32;)D.lens[Y++]=5;c(m,D.lens,0,32,P,0,D.work,{bits:5}),M=!1}D.lencode=N,D.lenbits=9,D.distcode=P,D.distbits=5}function X(D,Y,S,O){var B,U=D.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new o.Buf8(U.wsize)),O>=U.wsize?(o.arraySet(U.window,Y,S-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(O<(B=U.wsize-U.wnext)&&(B=O),o.arraySet(U.window,Y,S-O,B,U.wnext),(O-=B)?(o.arraySet(U.window,Y,S-O,O,0),U.wnext=O,U.whave=U.wsize):(U.wnext+=B,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=B))),0}r.inflateReset=T,r.inflateReset2=A,r.inflateResetKeep=_,r.inflateInit=function(D){return I(D,15)},r.inflateInit2=I,r.inflate=function(D,Y){var S,O,B,U,J,z,Z,$,V,oe,ae,re,Ce,ke,xe,Se,Me,Te,Je,ce,E,L,H,R,w=0,k=new o.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return g;(S=D.state).mode===12&&(S.mode=13),J=D.next_out,B=D.output,Z=D.avail_out,U=D.next_in,O=D.input,z=D.avail_in,$=S.hold,V=S.bits,oe=z,ae=Z,L=p;e:for(;;)switch(S.mode){case b:if(S.wrap===0){S.mode=13;break}for(;V<16;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if(2&S.wrap&&$===35615){k[S.check=0]=255&$,k[1]=$>>>8&255,S.check=s(S.check,k,2,0),V=$=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&$)<<8)+($>>8))%31){D.msg="incorrect header check",S.mode=30;break}if((15&$)!=8){D.msg="unknown compression method",S.mode=30;break}if(V-=4,E=8+(15&($>>>=4)),S.wbits===0)S.wbits=E;else if(E>S.wbits){D.msg="invalid window size",S.mode=30;break}S.dmax=1<<E,D.adler=S.check=1,S.mode=512&$?10:12,V=$=0;break;case 2:for(;V<16;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if(S.flags=$,(255&S.flags)!=8){D.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){D.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=$>>8&1),512&S.flags&&(k[0]=255&$,k[1]=$>>>8&255,S.check=s(S.check,k,2,0)),V=$=0,S.mode=3;case 3:for(;V<32;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}S.head&&(S.head.time=$),512&S.flags&&(k[0]=255&$,k[1]=$>>>8&255,k[2]=$>>>16&255,k[3]=$>>>24&255,S.check=s(S.check,k,4,0)),V=$=0,S.mode=4;case 4:for(;V<16;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}S.head&&(S.head.xflags=255&$,S.head.os=$>>8),512&S.flags&&(k[0]=255&$,k[1]=$>>>8&255,S.check=s(S.check,k,2,0)),V=$=0,S.mode=5;case 5:if(1024&S.flags){for(;V<16;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}S.length=$,S.head&&(S.head.extra_len=$),512&S.flags&&(k[0]=255&$,k[1]=$>>>8&255,S.check=s(S.check,k,2,0)),V=$=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(z<(re=S.length)&&(re=z),re&&(S.head&&(E=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),o.arraySet(S.head.extra,O,U,re,E)),512&S.flags&&(S.check=s(S.check,O,re,U)),z-=re,U+=re,S.length-=re),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(z===0)break e;for(re=0;E=O[U+re++],S.head&&E&&S.length<65536&&(S.head.name+=String.fromCharCode(E)),E&&re<z;);if(512&S.flags&&(S.check=s(S.check,O,re,U)),z-=re,U+=re,E)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(z===0)break e;for(re=0;E=O[U+re++],S.head&&E&&S.length<65536&&(S.head.comment+=String.fromCharCode(E)),E&&re<z;);if(512&S.flags&&(S.check=s(S.check,O,re,U)),z-=re,U+=re,E)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;V<16;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if($!==(65535&S.check)){D.msg="header crc mismatch",S.mode=30;break}V=$=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),D.adler=S.check=0,S.mode=12;break;case 10:for(;V<32;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}D.adler=S.check=v($),V=$=0,S.mode=11;case 11:if(S.havedict===0)return D.next_out=J,D.avail_out=Z,D.next_in=U,D.avail_in=z,S.hold=$,S.bits=V,2;D.adler=S.check=1,S.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(S.last){$>>>=7&V,V-=7&V,S.mode=27;break}for(;V<3;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}switch(S.last=1&$,V-=1,3&($>>>=1)){case 0:S.mode=14;break;case 1:if(q(S),S.mode=20,Y!==6)break;$>>>=2,V-=2;break e;case 2:S.mode=17;break;case 3:D.msg="invalid block type",S.mode=30}$>>>=2,V-=2;break;case 14:for($>>>=7&V,V-=7&V;V<32;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if((65535&$)!=($>>>16^65535)){D.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&$,V=$=0,S.mode=15,Y===6)break e;case 15:S.mode=16;case 16:if(re=S.length){if(z<re&&(re=z),Z<re&&(re=Z),re===0)break e;o.arraySet(B,O,U,re,J),z-=re,U+=re,Z-=re,J+=re,S.length-=re;break}S.mode=12;break;case 17:for(;V<14;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if(S.nlen=257+(31&$),$>>>=5,V-=5,S.ndist=1+(31&$),$>>>=5,V-=5,S.ncode=4+(15&$),$>>>=4,V-=4,286<S.nlen||30<S.ndist){D.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;V<3;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}S.lens[j[S.have++]]=7&$,$>>>=3,V-=3}for(;S.have<19;)S.lens[j[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,H={bits:S.lenbits},L=c(0,S.lens,0,19,S.lencode,0,S.work,H),S.lenbits=H.bits,L){D.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;Se=(w=S.lencode[$&(1<<S.lenbits)-1])>>>16&255,Me=65535&w,!((xe=w>>>24)<=V);){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if(Me<16)$>>>=xe,V-=xe,S.lens[S.have++]=Me;else{if(Me===16){for(R=xe+2;V<R;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if($>>>=xe,V-=xe,S.have===0){D.msg="invalid bit length repeat",S.mode=30;break}E=S.lens[S.have-1],re=3+(3&$),$>>>=2,V-=2}else if(Me===17){for(R=xe+3;V<R;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}V-=xe,E=0,re=3+(7&($>>>=xe)),$>>>=3,V-=3}else{for(R=xe+7;V<R;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}V-=xe,E=0,re=11+(127&($>>>=xe)),$>>>=7,V-=7}if(S.have+re>S.nlen+S.ndist){D.msg="invalid bit length repeat",S.mode=30;break}for(;re--;)S.lens[S.have++]=E}}if(S.mode===30)break;if(S.lens[256]===0){D.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,H={bits:S.lenbits},L=c(f,S.lens,0,S.nlen,S.lencode,0,S.work,H),S.lenbits=H.bits,L){D.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,H={bits:S.distbits},L=c(m,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,H),S.distbits=H.bits,L){D.msg="invalid distances set",S.mode=30;break}if(S.mode=20,Y===6)break e;case 20:S.mode=21;case 21:if(6<=z&&258<=Z){D.next_out=J,D.avail_out=Z,D.next_in=U,D.avail_in=z,S.hold=$,S.bits=V,l(D,ae),J=D.next_out,B=D.output,Z=D.avail_out,U=D.next_in,O=D.input,z=D.avail_in,$=S.hold,V=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;Se=(w=S.lencode[$&(1<<S.lenbits)-1])>>>16&255,Me=65535&w,!((xe=w>>>24)<=V);){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if(Se&&!(240&Se)){for(Te=xe,Je=Se,ce=Me;Se=(w=S.lencode[ce+(($&(1<<Te+Je)-1)>>Te)])>>>16&255,Me=65535&w,!(Te+(xe=w>>>24)<=V);){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}$>>>=Te,V-=Te,S.back+=Te}if($>>>=xe,V-=xe,S.back+=xe,S.length=Me,Se===0){S.mode=26;break}if(32&Se){S.back=-1,S.mode=12;break}if(64&Se){D.msg="invalid literal/length code",S.mode=30;break}S.extra=15&Se,S.mode=22;case 22:if(S.extra){for(R=S.extra;V<R;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}S.length+=$&(1<<S.extra)-1,$>>>=S.extra,V-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;Se=(w=S.distcode[$&(1<<S.distbits)-1])>>>16&255,Me=65535&w,!((xe=w>>>24)<=V);){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if(!(240&Se)){for(Te=xe,Je=Se,ce=Me;Se=(w=S.distcode[ce+(($&(1<<Te+Je)-1)>>Te)])>>>16&255,Me=65535&w,!(Te+(xe=w>>>24)<=V);){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}$>>>=Te,V-=Te,S.back+=Te}if($>>>=xe,V-=xe,S.back+=xe,64&Se){D.msg="invalid distance code",S.mode=30;break}S.offset=Me,S.extra=15&Se,S.mode=24;case 24:if(S.extra){for(R=S.extra;V<R;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}S.offset+=$&(1<<S.extra)-1,$>>>=S.extra,V-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){D.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Z===0)break e;if(re=ae-Z,S.offset>re){if((re=S.offset-re)>S.whave&&S.sane){D.msg="invalid distance too far back",S.mode=30;break}Ce=re>S.wnext?(re-=S.wnext,S.wsize-re):S.wnext-re,re>S.length&&(re=S.length),ke=S.window}else ke=B,Ce=J-S.offset,re=S.length;for(Z<re&&(re=Z),Z-=re,S.length-=re;B[J++]=ke[Ce++],--re;);S.length===0&&(S.mode=21);break;case 26:if(Z===0)break e;B[J++]=S.length,Z--,S.mode=21;break;case 27:if(S.wrap){for(;V<32;){if(z===0)break e;z--,$|=O[U++]<<V,V+=8}if(ae-=Z,D.total_out+=ae,S.total+=ae,ae&&(D.adler=S.check=S.flags?s(S.check,B,ae,J-ae):a(S.check,B,ae,J-ae)),ae=Z,(S.flags?$:v($))!==S.check){D.msg="incorrect data check",S.mode=30;break}V=$=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;V<32;){if(z===0)break e;z--,$+=O[U++]<<V,V+=8}if($!==(4294967295&S.total)){D.msg="incorrect length check",S.mode=30;break}V=$=0}S.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;case 32:default:return g}return D.next_out=J,D.avail_out=Z,D.next_in=U,D.avail_in=z,S.hold=$,S.bits=V,(S.wsize||ae!==D.avail_out&&S.mode<30&&(S.mode<27||Y!==4))&&X(D,D.output,D.next_out,ae-D.avail_out)?(S.mode=31,-4):(oe-=D.avail_in,ae-=D.avail_out,D.total_in+=oe,D.total_out+=ae,S.total+=ae,S.wrap&&ae&&(D.adler=S.check=S.flags?s(S.check,B,ae,D.next_out-ae):a(S.check,B,ae,D.next_out-ae)),D.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(oe==0&&ae===0||Y===4)&&L===p&&(L=-5),L)},r.inflateEnd=function(D){if(!D||!D.state)return g;var Y=D.state;return Y.window&&(Y.window=null),D.state=null,p},r.inflateGetHeader=function(D,Y){var S;return D&&D.state&&2&(S=D.state).wrap?((S.head=Y).done=!1,p):g},r.inflateSetDictionary=function(D,Y){var S,O=Y.length;return D&&D.state?(S=D.state).wrap!==0&&S.mode!==11?g:S.mode===11&&a(1,Y,O,0)!==S.check?-3:X(D,Y,O,O)?(S.mode=31,-4):(S.havedict=1,p):g},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,r){var o=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(f,m,p,g,b,x,C,v){var y,_,T,A,I,N,P,M,q,X=v.bits,D=0,Y=0,S=0,O=0,B=0,U=0,J=0,z=0,Z=0,$=0,V=null,oe=0,ae=new o.Buf16(16),re=new o.Buf16(16),Ce=null,ke=0;for(D=0;D<=15;D++)ae[D]=0;for(Y=0;Y<g;Y++)ae[m[p+Y]]++;for(B=X,O=15;1<=O&&ae[O]===0;O--);if(O<B&&(B=O),O===0)return b[x++]=20971520,b[x++]=20971520,v.bits=1,0;for(S=1;S<O&&ae[S]===0;S++);for(B<S&&(B=S),D=z=1;D<=15;D++)if(z<<=1,(z-=ae[D])<0)return-1;if(0<z&&(f===0||O!==1))return-1;for(re[1]=0,D=1;D<15;D++)re[D+1]=re[D]+ae[D];for(Y=0;Y<g;Y++)m[p+Y]!==0&&(C[re[m[p+Y]]++]=Y);if(N=f===0?(V=Ce=C,19):f===1?(V=a,oe-=257,Ce=s,ke-=257,256):(V=l,Ce=c,-1),D=S,I=x,J=Y=$=0,T=-1,A=(Z=1<<(U=B))-1,f===1&&852<Z||f===2&&592<Z)return 1;for(;;){for(P=D-J,q=C[Y]<N?(M=0,C[Y]):C[Y]>N?(M=Ce[ke+C[Y]],V[oe+C[Y]]):(M=96,0),y=1<<D-J,S=_=1<<U;b[I+($>>J)+(_-=y)]=P<<24|M<<16|q|0,_!==0;);for(y=1<<D-1;$&y;)y>>=1;if(y!==0?($&=y-1,$+=y):$=0,Y++,--ae[D]==0){if(D===O)break;D=m[p+C[Y]]}if(B<D&&($&A)!==T){for(J===0&&(J=B),I+=S,z=1<<(U=D-J);U+J<O&&!((z-=ae[U+J])<=0);)U++,z<<=1;if(Z+=1<<U,f===1&&852<Z||f===2&&592<Z)return 1;b[T=$&A]=B<<24|U<<16|I-x|0}}return $!==0&&(b[I+$]=D-J<<24|64<<16|0),v.bits=B,0}},{"../utils/common":41}],51:[function(n,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,r){var o=n("../utils/common"),a=0,s=1;function l(w){for(var k=w.length;0<=--k;)w[k]=0}var c=0,f=29,m=256,p=m+1+f,g=30,b=19,x=2*p+1,C=15,v=16,y=7,_=256,T=16,A=17,I=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(p+2));l(X);var D=new Array(2*g);l(D);var Y=new Array(512);l(Y);var S=new Array(256);l(S);var O=new Array(f);l(O);var B,U,J,z=new Array(g);function Z(w,k,j,W,F){this.static_tree=w,this.extra_bits=k,this.extra_base=j,this.elems=W,this.max_length=F,this.has_stree=w&&w.length}function $(w,k){this.dyn_tree=w,this.max_code=0,this.stat_desc=k}function V(w){return w<256?Y[w]:Y[256+(w>>>7)]}function oe(w,k){w.pending_buf[w.pending++]=255&k,w.pending_buf[w.pending++]=k>>>8&255}function ae(w,k,j){w.bi_valid>v-j?(w.bi_buf|=k<<w.bi_valid&65535,oe(w,w.bi_buf),w.bi_buf=k>>v-w.bi_valid,w.bi_valid+=j-v):(w.bi_buf|=k<<w.bi_valid&65535,w.bi_valid+=j)}function re(w,k,j){ae(w,j[2*k],j[2*k+1])}function Ce(w,k){for(var j=0;j|=1&w,w>>>=1,j<<=1,0<--k;);return j>>>1}function ke(w,k,j){var W,F,ne=new Array(C+1),ie=0;for(W=1;W<=C;W++)ne[W]=ie=ie+j[W-1]<<1;for(F=0;F<=k;F++){var te=w[2*F+1];te!==0&&(w[2*F]=Ce(ne[te]++,te))}}function xe(w){var k;for(k=0;k<p;k++)w.dyn_ltree[2*k]=0;for(k=0;k<g;k++)w.dyn_dtree[2*k]=0;for(k=0;k<b;k++)w.bl_tree[2*k]=0;w.dyn_ltree[2*_]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function Se(w){8<w.bi_valid?oe(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function Me(w,k,j,W){var F=2*k,ne=2*j;return w[F]<w[ne]||w[F]===w[ne]&&W[k]<=W[j]}function Te(w,k,j){for(var W=w.heap[j],F=j<<1;F<=w.heap_len&&(F<w.heap_len&&Me(k,w.heap[F+1],w.heap[F],w.depth)&&F++,!Me(k,W,w.heap[F],w.depth));)w.heap[j]=w.heap[F],j=F,F<<=1;w.heap[j]=W}function Je(w,k,j){var W,F,ne,ie,te=0;if(w.last_lit!==0)for(;W=w.pending_buf[w.d_buf+2*te]<<8|w.pending_buf[w.d_buf+2*te+1],F=w.pending_buf[w.l_buf+te],te++,W===0?re(w,F,k):(re(w,(ne=S[F])+m+1,k),(ie=N[ne])!==0&&ae(w,F-=O[ne],ie),re(w,ne=V(--W),j),(ie=P[ne])!==0&&ae(w,W-=z[ne],ie)),te<w.last_lit;);re(w,_,k)}function ce(w,k){var j,W,F,ne=k.dyn_tree,ie=k.stat_desc.static_tree,te=k.stat_desc.has_stree,ue=k.stat_desc.elems,ge=-1;for(w.heap_len=0,w.heap_max=x,j=0;j<ue;j++)ne[2*j]!==0?(w.heap[++w.heap_len]=ge=j,w.depth[j]=0):ne[2*j+1]=0;for(;w.heap_len<2;)ne[2*(F=w.heap[++w.heap_len]=ge<2?++ge:0)]=1,w.depth[F]=0,w.opt_len--,te&&(w.static_len-=ie[2*F+1]);for(k.max_code=ge,j=w.heap_len>>1;1<=j;j--)Te(w,ne,j);for(F=ue;j=w.heap[1],w.heap[1]=w.heap[w.heap_len--],Te(w,ne,1),W=w.heap[1],w.heap[--w.heap_max]=j,w.heap[--w.heap_max]=W,ne[2*F]=ne[2*j]+ne[2*W],w.depth[F]=(w.depth[j]>=w.depth[W]?w.depth[j]:w.depth[W])+1,ne[2*j+1]=ne[2*W+1]=F,w.heap[1]=F++,Te(w,ne,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(be,qe){var Xe,Ee,Ue,ve,St,Gt,Ge=qe.dyn_tree,xt=qe.max_code,ji=qe.stat_desc.static_tree,Ci=qe.stat_desc.has_stree,Si=qe.stat_desc.extra_bits,gn=qe.stat_desc.extra_base,Nn=qe.stat_desc.max_length,kn=0;for(ve=0;ve<=C;ve++)be.bl_count[ve]=0;for(Ge[2*be.heap[be.heap_max]+1]=0,Xe=be.heap_max+1;Xe<x;Xe++)Nn<(ve=Ge[2*Ge[2*(Ee=be.heap[Xe])+1]+1]+1)&&(ve=Nn,kn++),Ge[2*Ee+1]=ve,xt<Ee||(be.bl_count[ve]++,St=0,gn<=Ee&&(St=Si[Ee-gn]),Gt=Ge[2*Ee],be.opt_len+=Gt*(ve+St),Ci&&(be.static_len+=Gt*(ji[2*Ee+1]+St)));if(kn!==0){do{for(ve=Nn-1;be.bl_count[ve]===0;)ve--;be.bl_count[ve]--,be.bl_count[ve+1]+=2,be.bl_count[Nn]--,kn-=2}while(0<kn);for(ve=Nn;ve!==0;ve--)for(Ee=be.bl_count[ve];Ee!==0;)xt<(Ue=be.heap[--Xe])||(Ge[2*Ue+1]!==ve&&(be.opt_len+=(ve-Ge[2*Ue+1])*Ge[2*Ue],Ge[2*Ue+1]=ve),Ee--)}}(w,k),ke(ne,ge,w.bl_count)}function E(w,k,j){var W,F,ne=-1,ie=k[1],te=0,ue=7,ge=4;for(ie===0&&(ue=138,ge=3),k[2*(j+1)+1]=65535,W=0;W<=j;W++)F=ie,ie=k[2*(W+1)+1],++te<ue&&F===ie||(te<ge?w.bl_tree[2*F]+=te:F!==0?(F!==ne&&w.bl_tree[2*F]++,w.bl_tree[2*T]++):te<=10?w.bl_tree[2*A]++:w.bl_tree[2*I]++,ne=F,ge=(te=0)===ie?(ue=138,3):F===ie?(ue=6,3):(ue=7,4))}function L(w,k,j){var W,F,ne=-1,ie=k[1],te=0,ue=7,ge=4;for(ie===0&&(ue=138,ge=3),W=0;W<=j;W++)if(F=ie,ie=k[2*(W+1)+1],!(++te<ue&&F===ie)){if(te<ge)for(;re(w,F,w.bl_tree),--te!=0;);else F!==0?(F!==ne&&(re(w,F,w.bl_tree),te--),re(w,T,w.bl_tree),ae(w,te-3,2)):te<=10?(re(w,A,w.bl_tree),ae(w,te-3,3)):(re(w,I,w.bl_tree),ae(w,te-11,7));ne=F,ge=(te=0)===ie?(ue=138,3):F===ie?(ue=6,3):(ue=7,4)}}l(z);var H=!1;function R(w,k,j,W){ae(w,(c<<1)+(W?1:0),3),function(F,ne,ie,te){Se(F),oe(F,ie),oe(F,~ie),o.arraySet(F.pending_buf,F.window,ne,ie,F.pending),F.pending+=ie}(w,k,j)}r._tr_init=function(w){H||(function(){var k,j,W,F,ne,ie=new Array(C+1);for(F=W=0;F<f-1;F++)for(O[F]=W,k=0;k<1<<N[F];k++)S[W++]=F;for(S[W-1]=F,F=ne=0;F<16;F++)for(z[F]=ne,k=0;k<1<<P[F];k++)Y[ne++]=F;for(ne>>=7;F<g;F++)for(z[F]=ne<<7,k=0;k<1<<P[F]-7;k++)Y[256+ne++]=F;for(j=0;j<=C;j++)ie[j]=0;for(k=0;k<=143;)X[2*k+1]=8,k++,ie[8]++;for(;k<=255;)X[2*k+1]=9,k++,ie[9]++;for(;k<=279;)X[2*k+1]=7,k++,ie[7]++;for(;k<=287;)X[2*k+1]=8,k++,ie[8]++;for(ke(X,p+1,ie),k=0;k<g;k++)D[2*k+1]=5,D[2*k]=Ce(k,5);B=new Z(X,N,m+1,p,C),U=new Z(D,P,0,g,C),J=new Z(new Array(0),M,0,b,y)}(),H=!0),w.l_desc=new $(w.dyn_ltree,B),w.d_desc=new $(w.dyn_dtree,U),w.bl_desc=new $(w.bl_tree,J),w.bi_buf=0,w.bi_valid=0,xe(w)},r._tr_stored_block=R,r._tr_flush_block=function(w,k,j,W){var F,ne,ie=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(te){var ue,ge=4093624447;for(ue=0;ue<=31;ue++,ge>>>=1)if(1&ge&&te.dyn_ltree[2*ue]!==0)return a;if(te.dyn_ltree[18]!==0||te.dyn_ltree[20]!==0||te.dyn_ltree[26]!==0)return s;for(ue=32;ue<m;ue++)if(te.dyn_ltree[2*ue]!==0)return s;return a}(w)),ce(w,w.l_desc),ce(w,w.d_desc),ie=function(te){var ue;for(E(te,te.dyn_ltree,te.l_desc.max_code),E(te,te.dyn_dtree,te.d_desc.max_code),ce(te,te.bl_desc),ue=b-1;3<=ue&&te.bl_tree[2*q[ue]+1]===0;ue--);return te.opt_len+=3*(ue+1)+5+5+4,ue}(w),F=w.opt_len+3+7>>>3,(ne=w.static_len+3+7>>>3)<=F&&(F=ne)):F=ne=j+5,j+4<=F&&k!==-1?R(w,k,j,W):w.strategy===4||ne===F?(ae(w,2+(W?1:0),3),Je(w,X,D)):(ae(w,4+(W?1:0),3),function(te,ue,ge,be){var qe;for(ae(te,ue-257,5),ae(te,ge-1,5),ae(te,be-4,4),qe=0;qe<be;qe++)ae(te,te.bl_tree[2*q[qe]+1],3);L(te,te.dyn_ltree,ue-1),L(te,te.dyn_dtree,ge-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,ie+1),Je(w,w.dyn_ltree,w.dyn_dtree)),xe(w),W&&Se(w)},r._tr_tally=function(w,k,j){return w.pending_buf[w.d_buf+2*w.last_lit]=k>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&k,w.pending_buf[w.l_buf+w.last_lit]=255&j,w.last_lit++,k===0?w.dyn_ltree[2*j]++:(w.matches++,k--,w.dyn_ltree[2*(S[j]+m+1)]++,w.dyn_dtree[2*V(k)]++),w.last_lit===w.lit_bufsize-1},r._tr_align=function(w){ae(w,2,3),re(w,_,X),function(k){k.bi_valid===16?(oe(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(n,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,r){(function(o){(function(a,s){if(!a.setImmediate){var l,c,f,m,p=1,g={},b=!1,x=a.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(a);C=C&&C.setTimeout?C:a,l={}.toString.call(a.process)==="[object process]"?function(T){process.nextTick(function(){y(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,A=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=A,T}}()?(m="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",_,!1):a.attachEvent("onmessage",_),function(T){a.postMessage(m+T,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(T){y(T.data)},function(T){f.port2.postMessage(T)}):x&&"onreadystatechange"in x.createElement("script")?(c=x.documentElement,function(T){var A=x.createElement("script");A.onreadystatechange=function(){y(T),A.onreadystatechange=null,c.removeChild(A),A=null},c.appendChild(A)}):function(T){setTimeout(y,0,T)},C.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var A=new Array(arguments.length-1),I=0;I<A.length;I++)A[I]=arguments[I+1];var N={callback:T,args:A};return g[p]=N,l(p),p++},C.clearImmediate=v}function v(T){delete g[T]}function y(T){if(b)setTimeout(y,0,T);else{var A=g[T];if(A){b=!0;try{(function(I){var N=I.callback,P=I.args;switch(P.length){case 0:N();break;case 1:N(P[0]);break;case 2:N(P[0],P[1]);break;case 3:N(P[0],P[1],P[2]);break;default:N.apply(s,P)}})(A)}finally{v(T),b=!1}}}}function _(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(m)===0&&y(+T.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(RS);var PM=RS.exports;const Xc=Rl(PM),Fa=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 10.5"})}),Fn=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6"})}),Jt=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Wf=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),ba=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Sp=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),ir=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),Bt=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),sr=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})}),cg=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),ug=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),zM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),$l=e=>u.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),_a=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),cx=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 110-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 01-1.44-4.282m3.102.069a18.03 18.03 0 01-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 018.835 2.535M10.34 6.66a23.847 23.847 0 018.835-2.535m0 0A23.74 23.74 0 0018.795 3m.38 1.125a23.91 23.91 0 011.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 001.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 010 3.46"})}),_l=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),jn=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),IS=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Hu=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),dg=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})}),jM=e=>u.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4.5v5.718a2.25 2.25 0 002.25 2.25h6.282m0 0l-3.375-3.375m3.375 3.375L14.25 9m-6.282 10.5v-5.718a2.25 2.25 0 00-2.25-2.25H1.468m0 0l3.375 3.375m-3.375-3.375l3.375-3.375"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l4.5-4.5m0 0l-4.5-4.5m4.5 4.5h-9m15 0h9m-4.5 4.5l-4.5-4.5m0 0l4.5-4.5"})]}),ux=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 7.5l3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0021 18V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v12a2.25 2.25 0 002.25 2.25z"})}),HM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),$M=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),qM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),MS=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),GM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 21l5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 016-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 01-3.827-5.802"})}),VM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75c1.517 0 2.258-1.085 2.25-2.25 0-1.518-1.074-2.25-2.25-2.25S9.75 9.358 9.75 10.5c0 1.518 1.074 2.25 2.25 2.25zM12 12.75a2.25 2.25 0 01-2.248 2.249M12 12.75a2.25 2.25 0 002.248 2.249M12 13.5V21m0 0h3.75a2.625 2.625 0 002.625-2.625c0-1.518-1.074-2.25-2.25-2.25H12m0 4.5H8.25a2.625 2.625 0 01-2.625-2.625c0-1.518 1.074-2.25 2.25-2.25H12m0 0V8.25m0-6V6m-3.75 1.5h7.5A2.25 2.25 0 0118 9.75M8.25 7.5A2.25 2.25 0 006 9.75v1.5c0 1.518 1.074 2.25 2.25 2.25h2.25m7.5-3.75v1.5c0 1.518-1.074 2.25-2.25 2.25H15m-2.25-4.5h2.25m-6 0h2.25"})}),YM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 01-.982-3.172V5.25a2.25 2.25 0 014.5 0v2.375c0 1.458-.6 2.802-1.638 3.844.204.475.312.992.312 1.533v1.875a1.125 1.125 0 01-1.125 1.125zM9.497 10.25c-1.037-1.042-1.637-2.386-1.637-3.844V5.25a2.25 2.25 0 014.5 0v4.028c0 .54.108 1.058.312 1.533"})}),WM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})}),dx=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),Tp=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),LS=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.516 51.554 51.554 0 01-3.197.977m-18.81 0c.968.205 1.954.412 2.953.618m18.81 0a51.91 51.91 0 01-2.953.618M3.75 10.5v1.168c0 .258.077.509.219.723l2.25 3.375a.75.75 0 001.25-.832l-2.25-3.375a.75.75 0 01-.219-.723V10.5m0 0h-.375"})}),fx=e=>u.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-4.5 6.01 6.01 0 00-5.25 5.25m3.75 0h-3.75M12 15V12m0 3h-3m0 0a6.01 6.01 0 01-1.5-4.5 6.01 6.01 0 015.25-5.25M3 15m18 0"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21h6"})]}),JM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 00-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.959.401v0c.31 0 .555-.26.532-.57a48.039 48.039 0 01-.642-5.056c-1.518-.19-3.057-.309-4.616-.354a.64.64 0 00-.657.643v0z"})}),KM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})}),fg=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),DS=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z"})}),XM=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),ZM=e=>u.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H3.75ZM9 12h6m-6 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm6 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"}),u.jsx("circle",{cx:"6",cy:"18",r:"2"}),u.jsx("circle",{cx:"18",cy:"18",r:"2"}),u.jsx("circle",{cx:"12",cy:"6",r:"2"})]}),wp=e=>u.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"})}),BS=({isOpen:e,type:t,title:n,message:i,initialValue:r="",placeholder:o="",confirmText:a="OK",cancelText:s="Cancel",onConfirm:l,onClose:c})=>{const[f,m]=Q.useState(r),p=Q.useRef(null);if(Q.useEffect(()=>{e&&(m(r),t==="prompt"&&setTimeout(()=>{var x;return(x=p.current)==null?void 0:x.focus()},50))},[e,r,t]),!e)return null;const g=x=>{x==null||x.preventDefault(),l(f),c()},b=t==="danger";return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all scale-100",onClick:x=>x.stopPropagation(),children:[u.jsxs("div",{className:`p-4 border-b border-[var(--border-color)] flex justify-between items-center ${b?"bg-red-900/20":"bg-[var(--bg-tertiary)]"}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[b?u.jsx(ug,{className:"w-5 h-5 text-red-400"}):u.jsx(IS,{className:"w-5 h-5 text-blue-400"}),u.jsx("h3",{className:`font-bold ${b?"text-red-400":"text-[var(--text-primary)]"}`,children:n})]}),u.jsx("button",{onClick:c,className:"p-1 hover:bg-white/10 rounded text-[var(--text-secondary)]",children:u.jsx(Jt,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[i&&u.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4 leading-relaxed whitespace-pre-wrap",children:i}),t==="prompt"&&u.jsx("form",{onSubmit:g,children:u.jsx("input",{ref:p,type:"text",value:f,onChange:x=>m(x.target.value),placeholder:o,className:"w-full bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-3 py-2 text-sm text-[var(--text-primary)] focus:outline-none focus:border-blue-500 transition-colors"})})]}),u.jsxs("div",{className:"p-4 bg-[var(--bg-tertiary)]/50 border-t border-[var(--border-color)] flex justify-end gap-2",children:[t!=="info"&&u.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-medium rounded text-[var(--text-secondary)] hover:bg-[var(--bg-primary)] hover:text-[var(--text-primary)] transition-colors",children:s}),u.jsxs("button",{onClick:()=>g(),className:`
              px-4 py-2 text-xs font-medium rounded text-white flex items-center gap-2 transition-colors
              ${b?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}
            `,children:[a,u.jsx(jn,{className:"w-3 h-3"})]})]})]})})},QM=`You are an expert full-stack coding engine and visualizer.
Analyze the user's request and the desired language.
Generate the FULL implementation code, structured as a hierarchical tree.

CRITICAL RULES:
1. Separate the code into 'Imports' and 'Blocks'.
2. 'Blocks' is a recursive list of code regions. 
3. 'signature': The header line of the block.
4. 'code': The FULL body content.
5. 'type': 'function', 'class', 'statement', or 'variable'.
6. 'explanation': A short markdown explanation of what this block does (1-2 sentences).
7. 'mermaid': A valid Mermaid.js flowchart string representing the logic within this block.
8. 'visualType': One of 'process', 'database', 'ui', 'api', 'logic'. 
   CRITICAL: Choose the visual metaphor that best acts as a MNEMONIC for the code's behavior.
9. 'visualSvg': A valid, unique, and ANIMATED SVG string (starting with <svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg">) that visually represents this SPECIFIC function's logic using abstract geometry.
   - REQUIREMENT: It MUST contain SVG animations (<animate>, <animateTransform>, <set>, etc.) to bring the metaphor to life.
   - The visual must be SPECIFIC to the function (e.g., if it's a 'sort' function, show rectangles reordering; if 'fetch', show moving dots; if 'auth', show a key/lock interaction).
   - Do not use text elements. Use pure geometry.
   - Use 'currentColor' for main strokes to adapt to themes.
   - Keep it minimalist, clean, and mnemonic.
10. 'globalExplanation': An overview of the entire solution.
11. 'globalMermaid': A Mermaid diagram for the whole system.
12. Create signatures for code blocks up to 4 levels deep in hierarchy (e.g. Class > Method > Control Flow > Statement).
13. Make sure to create a signature block for imports at the start
14. CRITICAL: In the 'code' property, ALWAYS include a professional JSDoc/Docstring comment block immediately before the function/class/variable signature.
15. 'comment': A concise, one-line technical comment (max 15 words) explaining exactly what this signature does in relation to the higher-level logic/parent block.

!!! MERMAID SYNTAX ZERO-TOLERANCE POLICY !!!
The rendering engine is extremely strict. You MUST follow these rules for the 'mermaid' and 'globalMermaid' fields:

1. ALWAYS use 'graph TD' or 'flowchart TD'.
2. EVERY node label MUST be enclosed in double quotes.
   - WRONG: A[Process Data]
   - RIGHT: A["Process Data"]
3. NEVER use parentheses (), brackets [], or braces {} inside a label unless the label is fully quoted. if you use these inside another loke a function form code, add single quotes inside the func value
   - WRONG: A[func()]
   - IMPORTAANT: RIGHT: A["func('any value')"] or empty oneA["func('')"]
4. Escape double quotes inside strings: "Say \\"Hello\\"".
5. DO NOT use semicolons (;) to separate statements. Use newlines.
6. DO NOT include markdown code blocks (no \`\`\`mermaid).
7. Node IDs must be alphanumeric strings without spaces (e.g., Node1, Step_A).`.trim(),eL=`RESPONSE FORMAT ENFORCEMENT FOR THINKING MODELS:

You have chain-of-thought capabilities enabled. 
1. You may output thinking/reasoning text at the start of your response.
2. HOWEVER, the FINAL output MUST be a valid JSON object.
3. You MUST wrap the final JSON in the following delimiters:

     AVOCADO4
     { ... your json content ... }
     GUACAMOLE

- The application will look for content between AVOCADO4 and GUACAMOLE.
- NO MATTER WHAT YOU MUST RESPOND WITH JSON INSIDE THE DELIMITERS.`.trim(),tL=`You are a Modular Project Architect.
Your goal is to generate a multi-file software project based on the user's request.

OUTPUT STRUCTURE:
You must return a valid JSON object.
The root object MUST contain a 'blocks' array.
The 'blocks' array represents the FILES in the project, not code blocks of a single file.

EXAMPLE JSON STRUCTURE:
{
  "globalExplanation": "Project overview...",
  "imports": ["dependency1", "dependency2"],
  "blocks": [
    {
      "type": "file",
      "signature": "src/App.tsx",
      "code": "...",
      "explanation": "Main app component",
      "children": []
    }
  ]
}

EACH ITEM IN 'blocks' MUST FOLLOW THIS SCHEMA:
{
  "type": "file",
  "signature": "path/to/filename.ext", (Use forward slashes for folders. E.g. 'src/components/Button.tsx')
  "code": "FULL CONTENT OF THE FILE",
  "explanation": "Brief description of this file's purpose",
  "children": [ ...Recursive list of code blocks INSIDE this file... ]
}

FOR THE 'children' PROPERTY (Inside each file):
- Analyze the 'code' of the file.
- Break it down into the standard hierarchy (Imports, Classes/Functions, Methods).
- CRITICAL: You MUST generate 'mermaid', 'visualSvg', and 'visualType' for EVERY SIGNIFICANT FUNCTION/CLASS in the 'children' array.
- The visualization engine relies on these nested blocks to show how the project works. 
- Do NOT leave 'mermaid' or 'visualSvg' empty for functions inside the files.
- Follow the same visual generation rules as the standard mode (graph TD, double quoted labels, animated SVG).

GLOBAL PROPERTIES:
- "globalExplanation": Explain the architecture of the project.
- "globalMermaid": A graph showing how the FILES interact or import each other.
- "imports": Global dependencies (e.g. package.json dependencies list as strings).

CRITICAL:
1. Do NOT return a single file content in the root. The root 'blocks' array is the FILE LIST.
2. Ensure file paths are realistic (e.g., 'index.html', 'css/style.css', 'js/app.js').
3. Respond in valid JSON only.`.trim(),FS=e=>{const t={id:{type:it.STRING},type:{type:it.STRING},signature:{type:it.STRING},comment:{type:it.STRING},code:{type:it.STRING},explanation:{type:it.STRING},mermaid:{type:it.STRING},visualType:{type:it.STRING},visualSvg:{type:it.STRING}};return e===0?{type:it.OBJECT,properties:t}:{type:it.OBJECT,properties:{...t,children:{type:it.ARRAY,items:FS(e-1)}}}},nL={type:it.OBJECT,properties:{language:{type:it.STRING},imports:{type:it.ARRAY,items:{type:it.STRING}},globalExplanation:{type:it.STRING},globalMermaid:{type:it.STRING},blocks:{type:it.ARRAY,items:FS(4)}}},iL={systemInstruction:QM,responseSchema:JSON.stringify(nL,null,2),temperature:.7,maxOutputTokens:65536,thinkingBudget:16384,includeThoughts:!0,useResponseSchema:!1},rL=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t:t.code||t.statement||t.text||JSON.stringify(t)):[],OS=(e,t="")=>Array.isArray(e)?e.map((n,i)=>{if(!n||typeof n!="object")return{id:`${t}-err-${i}`,type:"comment",code:"",signature:"Invalid Block",children:[]};const r=n.id||`${t}-${i}-${Math.random().toString(36).substr(2,9)}`;return{...n,id:r,children:n.children?OS(n.children,r):[]}}):[],Cs=()=>localStorage.getItem("b_code_walker_api_key"),oL=({current:e,onChange:t})=>{const[n,i]=Q.useState(!1),[r,o]=Q.useState(""),a=Q.useRef(null);Q.useEffect(()=>{const l=c=>{a.current&&!a.current.contains(c.target)&&i(!1)};return n&&document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[n]);const s=Object.values(pt).filter(l=>l.includes(r.toLowerCase()));return u.jsxs("div",{className:"relative",ref:a,children:[u.jsxs("button",{onClick:()=>{i(!n),o("")},className:"flex items-center gap-2 bg-[var(--bg-tertiary)] hover:bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-3 py-1 text-xs font-semibold text-[var(--accent-primary)] transition-colors min-w-[120px] justify-between",title:"Select Language",children:[u.jsx("span",{className:"uppercase truncate",children:e}),u.jsx(ba,{className:"w-3 h-3 text-[var(--text-secondary)] flex-none"})]}),n&&u.jsxs("div",{className:"hidden md:flex absolute top-full left-0 mt-1 w-64 max-h-[60vh] flex-col bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg shadow-2xl z-[100] animate-fade-in overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-[var(--border-color)] bg-[var(--bg-tertiary)] sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-primary)] px-2 py-1 rounded border border-[var(--border-color)]",children:[u.jsx(Sp,{className:"w-3 h-3 text-gray-500"}),u.jsx("input",{autoFocus:!0,className:"bg-transparent border-none focus:outline-none text-xs text-[var(--text-primary)] w-full",placeholder:"Search...",value:r,onChange:l=>o(l.target.value)})]})}),u.jsxs("div",{className:"overflow-y-auto p-1 custom-scrollbar bg-[var(--bg-secondary)]",children:[s.map(l=>u.jsxs("button",{onClick:()=>{t(l),i(!1)},className:`w-full text-left px-3 py-2 text-xs rounded flex items-center justify-between hover:bg-[var(--bg-tertiary)] ${e===l?"text-[var(--accent-primary)] bg-[var(--accent-primary)]/5 font-bold":"text-[var(--text-secondary)]"}`,children:[u.jsx("span",{className:"uppercase",children:l}),e===l&&u.jsx(jn,{className:"w-3 h-3"})]},l)),s.length===0&&u.jsx("div",{className:"p-3 text-center text-[var(--text-secondary)] text-xs italic",children:"No results"})]})]}),n&&u.jsx("div",{className:"md:hidden fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)] w-full max-w-sm max-h-[80vh] rounded-xl shadow-2xl flex flex-col border border-[var(--border-color)] overflow-hidden",children:[u.jsxs("div",{className:"p-3 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-tertiary)]",children:[u.jsx("span",{className:"font-bold text-sm text-[var(--text-primary)]",children:"Select Language"}),u.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-white/10 rounded",children:u.jsx(Jt,{className:"w-5 h-5 text-[var(--text-secondary)]"})})]}),u.jsx("div",{className:"p-3 border-b border-[var(--border-color)] bg-[var(--bg-secondary)]",children:u.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-primary)] px-3 py-2 rounded border border-[var(--border-color)]",children:[u.jsx(Sp,{className:"w-4 h-4 text-gray-500"}),u.jsx("input",{autoFocus:!0,className:"bg-transparent border-none focus:outline-none text-sm text-[var(--text-primary)] w-full",placeholder:"Search language...",value:r,onChange:l=>o(l.target.value)})]})}),u.jsxs("div",{className:"overflow-y-auto p-2 flex-1 custom-scrollbar",children:[s.map(l=>u.jsxs("button",{onClick:()=>{t(l),i(!1)},className:`w-full text-left px-4 py-3 text-sm rounded-lg flex items-center justify-between mb-1 ${e===l?"bg-[var(--accent-primary)] text-white font-bold":"text-[var(--text-secondary)] bg-[var(--bg-tertiary)]"}`,children:[u.jsx("span",{className:"uppercase",children:l}),e===l&&u.jsx(jn,{className:"w-4 h-4"})]},l)),s.length===0&&u.jsx("div",{className:"p-4 text-center text-[var(--text-secondary)]",children:"No matching languages found."})]})]})})]})},aL=tm.memo(({content:e,fontSize:t,wordWrap:n,tabSize:i=2})=>{const o=e.split(`
`).map((a,s)=>{const l=a.match(/^( +)/),c=l?l[0].length:0,f=Math.floor(c/i),m=[];for(let x=0;x<f;x++)m.push(u.jsx("span",{style:{display:"inline-block",width:`${i}ch`,borderLeft:"1px solid var(--border-color)",opacity:.3,height:"100%"},children:" ".repeat(i)},x));const p=c%i,g=p>0?" ".repeat(p):"",b=a.slice(c);return u.jsxs("div",{style:{height:"auto",minHeight:"1.5em"},children:[m,u.jsx("span",{children:g}),u.jsx("span",{style:{color:"transparent"},children:b}),a.length===0&&u.jsx("span",{style:{display:"inline-block"},children:""})]},s)});return u.jsx("pre",{className:"editor-font leading-relaxed absolute top-0 left-0 m-0 pointer-events-none select-none",style:{fontFamily:'"Fira Code", "Fira Mono", monospace',fontSize:`${t}px`,whiteSpace:n?"pre-wrap":"pre",padding:"20px",minHeight:"100%",width:"100%",zIndex:5,boxSizing:"border-box",overflow:"hidden"},children:o})}),sL=({files:e,setFiles:t,activeFileId:n,setActiveFileId:i,settings:r,aiPlans:o,setAiPlans:a,activePlanId:s,setActivePlanId:l})=>{const[c,f]=Q.useState(null),[m,p]=Q.useState(null),[g,b]=Q.useState(""),[x,C]=Q.useState(!0),[v,y]=Q.useState(14),[_,T]=Q.useState(!0),[A,I]=Q.useState(!0),[N,P]=Q.useState(!1),[M,q]=Q.useState(""),[X,D]=Q.useState(0),[Y,S]=Q.useState(0),[O,B]=Q.useState([]),[U,J]=Q.useState(!1),[z,Z]=Q.useState(400),[$,V]=Q.useState(250),[oe,ae]=Q.useState(!1),[re,Ce]=Q.useState(!1),[ke,xe]=Q.useState(""),[Se,Me]=Q.useState(""),[Te,Je]=Q.useState(!1),[ce,E]=Q.useState(!1),[L,H]=Q.useState(5),[R,w]=Q.useState(iL),[k,j]=Q.useState([]),[W,F]=Q.useState({isOpen:!1,type:"info",title:"",onConfirm:()=>{}}),ne=()=>F(G=>({...G,isOpen:!1})),ie=o.find(G=>G.id===s)||null,te=ie?ie.config:R,ue=ie?ie.logs:k,[ge,be]=Q.useState(!1),[qe,Xe]=Q.useState(null),[Ee,Ue]=Q.useState(!1),[ve,St]=Q.useState(!1),Gt=Q.useRef(null),Ge=Q.useRef(null),xt=Q.useRef(null),ji=Q.useRef(null),Ci=Q.useRef(null),Si=Q.useRef(null),gn=Q.useRef(null),Nn=Q.useRef([]),[kn,ss]=Q.useState(new Set),[Kl,bt]=Q.useState(new Set),[Ti,io]=Q.useState({}),[br,wi]=Q.useState({}),[Xl,ls]=Q.useState(null),[tf,Rn]=Q.useState(null),[ci,zo]=Q.useState(null),[ro,oo]=Q.useState(""),Ke=e.find(G=>G.id===n)||e[0],on=r.activeModel==="gemini-2.5-pro"||r.activeModel.includes("gemini-3"),ui=G=>{s?a(le=>le.map(_e=>_e.id===s?{..._e,config:{..._e.config,...G}}:_e)):w(le=>({...le,...G}))};Q.useEffect(()=>{Ee&&Si.current&&Si.current.scrollIntoView({behavior:"smooth"})},[ue,Ee,ue.length]);const lt=(G,le,_e)=>{const fe={time:new Date().toLocaleTimeString(),stage:G,message:le,data:_e?JSON.parse(JSON.stringify(_e)):void 0};s?a(pe=>pe.map(Ze=>Ze.id===s?{...Ze,logs:[...Ze.logs,fe]}:Ze)):(Nn.current.push(fe),j(pe=>[...pe,fe]))},Zl=(G,le)=>{t(_e=>_e.map(fe=>{if(fe.id===G){if(fe.history[fe.historyIndex]===le)return fe;const pe=fe.history.slice(0,fe.historyIndex+1);return pe.push(le),pe.length>50&&pe.shift(),{...fe,content:le,history:pe,historyIndex:pe.length-1}}return fe}))},Ql=(G,le)=>{Ge.current&&clearTimeout(Ge.current),Ge.current=setTimeout(()=>{Zl(G,le)},800)},jo=G=>{t(e.map(le=>le.id===n?{...le,content:G}:le)),Ql(n,G)},we=()=>{const G=Ke;if(G.historyIndex>0){const le=G.historyIndex-1,_e=G.history[le];t(e.map(fe=>fe.id===n?{...fe,content:_e,historyIndex:le}:fe))}},K=()=>{const G=Ke;if(G.historyIndex<G.history.length-1){const le=G.historyIndex+1,_e=G.history[le];t(e.map(fe=>fe.id===n?{...fe,content:_e,historyIndex:le}:fe))}},de=(G,le)=>{G.stopPropagation(),p(le.id),b(le.name)},ye=()=>{m&&g.trim()&&t(e.map(G=>G.id===m?{...G,name:g.trim()}:G)),p(null),b("")},ot=G=>{G.key==="Enter"&&ye(),G.key==="Escape"&&p(null)},Mt=Q.useCallback((G,le)=>{if(!le){B([]),S(0);return}const _e=le.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),fe=new RegExp(_e,"gi"),pe=[];let Ze;for(;(Ze=fe.exec(G))!==null;)pe.push({start:Ze.index,end:Ze.index+le.length});B(pe),S(pe.length),D(0)},[]),gt=()=>{if(O.length===0)return;const G=(X+1)%O.length;D(G)},Vt=()=>{if(O.length===0)return;const G=(X-1+O.length)%O.length;D(G)};Q.useEffect(()=>{N?Mt(Ke.content,M):B([])},[Ke.content,M,N,Mt]),Q.useEffect(()=>{if(N&&O.length>0){const G=document.getElementById("current-match-highlight");G&&G.scrollIntoView({block:"center",behavior:"smooth"})}},[X,N,O.length]),Q.useEffect(()=>{const G=_e=>{if(oe){const fe=document.body.clientWidth-_e.clientX;Z(Math.max(250,Math.min(fe,800)))}if(re){const fe=window.innerHeight-_e.clientY;V(Math.max(50,Math.min(fe,window.innerHeight-150)))}},le=()=>{ae(!1),Ce(!1)};return oe||re?(document.addEventListener("mousemove",G),document.addEventListener("mouseup",le),document.body.style.userSelect="none",document.body.style.cursor=oe?"col-resize":"row-resize"):(document.body.style.userSelect="",document.body.style.cursor=""),()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",le)}},[oe,re]);const di=()=>{gn.current&&(gn.current.abort(),gn.current=null),be(!1),Xe("Request cancelled by user"),lt("error","Request cancelled by user")},_r=async()=>{var le,_e;if(!ke)return;const G=Cs();if(!G){Xe("API Key missing. Please go to Settings and enter your Google GenAI Key."),lt("error","API Key Missing. Request blocked.");return}gn.current=new AbortController,be(!0),Xe(null),ss(new Set),io({}),wi({}),bt(new Set),s||(j([]),Nn.current=[]),lt("sending","Preparing API Request...");try{const fe=new ri({apiKey:G});let pe;try{pe=JSON.parse(te.responseSchema)}catch{throw new Error("Invalid JSON Schema in Dev Settings")}let Ze=Te?tL:te.systemInstruction;Te&&lt("thinking","Project Mode Activated. Swapped System Instruction for Modular Architecture.");const In={temperature:te.temperature};te.useResponseSchema?(In.responseSchema=pe,lt("thinking","Enforcing Response Schema via API config.")):lt("thinking","Response Schema enforcement disabled (using System Prompt only)."),on?(In.maxOutputTokens=te.maxOutputTokens,In.thinkingConfig={includeThoughts:te.includeThoughts??!0},te.thinkingBudget===-1?lt("thinking","Thinking Model Detected. Using Auto Budget (Model Default)."):(In.thinkingConfig.thinkingBudget=te.thinkingBudget,lt("thinking",`Thinking Model Detected. Using Budget: ${te.thinkingBudget} tokens.`)),Ze+=`

${eL}

*** REQUIRED JSON STRUCTURE ***
Since you are in Thinking Mode, you must ensure your final output inside the AVOCADO4 block adheres to this JSON schema:
${JSON.stringify(pe,null,2)}`):(In.responseMimeType="application/json",In.maxOutputTokens=te.maxOutputTokens,lt("sending","Standard Model Detected. JSON MimeType enforced.")),In.systemInstruction=Ze;let Hi=ke;ce&&on&&(Hi+=` ${L} levels of hierchy in return json`);const yt={model:r.activeModel,contents:`Language: ${Se||"Auto-detect"}. Request: ${Hi}`,config:In};lt("sending","Payload constructed. Sending to API...",yt),lt("ack","Request Acknowledged. Waiting for response...");const yn=await fe.models.generateContent(yt);if(lt("response","Response Received",{candidates:(le=yn.candidates)==null?void 0:le.length,usage:yn.usageMetadata,rawTextPreview:((_e=yn.text)==null?void 0:_e.substring(0,100))+"..."}),!ge&&gn.current===null)return;if(yn.text)try{let Pt=yn.text||"";if(Pt.includes("AVOCADO4")&&Pt.includes("GUACAMOLE")){lt("thinking","Detected AVOCADO4/GUACAMOLE markers. Extracting JSON...");const Ei=Pt.match(/AVOCADO4\s*([\s\S]*?)\s*GUACAMOLE/);Ei&&Ei[1]&&(Pt=Ei[1].trim())}else{const Ei=Pt.match(/```(?:json)?\s*(\{[\s\S]*?\})\s*```/);if(Ei)Pt=Ei[1];else{const af=Pt.indexOf("{"),sf=Pt.lastIndexOf("}");af!==-1&&sf!==-1&&sf>=af&&(Pt=Pt.substring(af,sf+1))}}Pt.startsWith("```")&&(Pt=Pt.replace(/^```(?:json)?/,"").replace(/```$/,"").trim());const Yt=JSON.parse(Pt);lt("response","Response Parsed Successfully",Yt),(!Yt.blocks||!Array.isArray(Yt.blocks))&&(Yt.type==="file"||Yt.code?Yt.blocks=[Yt]:Yt.blocks=[]),(!Yt.imports||!Array.isArray(Yt.imports))&&(Yt.imports=[]),Yt.blocks&&(Yt.blocks=OS(Yt.blocks,"blk"));const tc=new Set,of=Date.now().toString();tc.add(`root-${of}`),tc.add(`imports-${of}`),Yt.blocks&&Yt.blocks.forEach(Ei=>tc.add(Ei.id));const Xg={...Yt,id:of,name:ke.trim().substring(0,24)+(ke.length>24?"...":""),prompt:ke,timestamp:Date.now(),config:{...te},isProject:Te,logs:s?[]:[...Nn.current,{time:new Date().toLocaleTimeString(),stage:"response",message:"Plan Created"}]};ss(tc),a(Ei=>[...Ei,Xg]),l(Xg.id),s||(j([]),Nn.current=[])}catch(Pt){throw console.error("JSON Parse Error",Pt),lt("error","Failed to parse JSON response",{text:yn.text,error:Pt}),new Error("Failed to parse AI response. The model did not return valid JSON or failed the AVOCADO4 protocol.")}}catch(fe){fe.message!=="Request cancelled by user"&&(Xe(fe.message||"An unexpected error occurred."),lt("error","API Error",fe.message))}finally{be(!1),gn.current=null}},cs=async(G,le,_e)=>{const fe=Cs();if(!fe){io(pe=>({...pe,[G]:"API Key Missing. Check Settings."}));return}if(!(Ti[G]&&!_e)){Rn(G),lt("sending",`Requesting explanation for block ${G}...`);try{const pe=new ri({apiKey:fe});let Ze="";_e?Ze=`You are a coding assistant analyzing a specific part of a larger software plan.

FULL PLAN CONTEXT (JSON):
${ie?JSON.stringify({imports:ie.imports,globalExplanation:ie.globalExplanation,blocks:ie.blocks},null,2):"No full plan context available."}

TARGET BLOCK ID: ${G}
TARGET BLOCK CODE:
${le}

USER QUESTION: ${_e}

Instructions:
1. Analyze the Target Block in the context of the Full Plan.
2. Answer the user's question specifically about this block, citing relationships with other blocks if necessary.
3. Be concise.`:Ze=`Explain this code block simply in one or two sentences:

${le}`;const In=await pe.models.generateContent({model:r.activeModel,contents:Ze});lt("response",`Explanation received for block ${G}`),io(Hi=>({...Hi,[G]:In.text||"No explanation returned."}))}catch(pe){lt("error",`Explanation failed for block ${G}`,pe.message),io(Ze=>({...Ze,[G]:"Failed to generate explanation."}))}finally{Rn(null)}}},Lt=async(G,le,_e)=>{const fe=Cs();if(!fe){wi(pe=>({...pe,[G]:"// API Key Missing. Please check settings."}));return}if(br[G]){wi(pe=>{const Ze={...pe};return delete Ze[G],Ze});return}ls(G),lt("sending",`Generating natural language translation for block ${G}...`);try{const pe=new ri({apiKey:fe}),Ze=`Task: Rewrite the following ${_e} code into "Structured Natural Language".
Objective: Explain what the code does by REPLACING code lines with plain English summaries, but strictly PRESERVING the original indentation and control flow structure.

Rules:
1. PRESERVE exact indentation and brace style ({ }).
2. KEEP control flow keywords (if, else, for, while, return, try, catch) to maintain the logic flow.
3. REPLACE variable assignments, function calls, and logic expressions with concise English sentences describing the action.
4. Do NOT output valid code. Output readable logic.
5. Do NOT add extra comments. The English text IS the code.

Example Input:
  const data = await fetchData();
  if (data.isValid) {
    process(data);
  }

Example Output:
  Fetch the data from the source
  if (the data is valid) {
    Process the data
  }

Code to Rewrite:
${le}`,yt=((await pe.models.generateContent({model:r.activeModel,contents:Ze})).text||"// No response generated.").replace(/^```[a-z]*\n/i,"").replace(/\n```$/,"");wi(yn=>({...yn,[G]:yt})),lt("response",`Translation generated for block ${G}`)}catch(pe){lt("error",`Translation failed for block ${G}`,pe.message),wi(Ze=>({...Ze,[G]:`// Error generating translation: ${pe.message}`}))}finally{ls(null)}},us=G=>{const le=new Set(kn);le.has(G)?le.delete(G):le.add(G),ss(le)},ec=G=>{const le=new Set(Kl);le.has(G)?le.delete(G):le.add(G),bt(le)},sE=G=>{t(e.map(le=>le.id===n?{...le,language:G}:le))},Yg=()=>{const G=Date.now().toString(),le={id:G,name:`untitled-${e.length+1}.js`,language:pt.JAVASCRIPT,content:"",history:[""],historyIndex:0};t([...e,le]),i(G),f(null)},Wg=(G,le)=>{if(G.stopPropagation(),e.length===1){F({isOpen:!0,type:"confirm",title:"Close File",message:"This is the last file. Closing it will clear its content. Continue?",onConfirm:()=>{t([{...e[0],content:"",name:"new file",history:[""],historyIndex:0}])}});return}const _e=e.filter(fe=>fe.id!==le);t(_e),le===n&&i(_e[_e.length-1].id)},lE=()=>{const G=new Blob([Ke.content],{type:"text/plain"}),le=URL.createObjectURL(G),_e=document.createElement("a");_e.href=le,_e.download=Ke.name,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(le),f(null)},cE=G=>{const le=Ke.content+`
`+G;jo(le)},uE=G=>{xe(G.prompt||G.name),w(G.config),Je(!!G.isProject),l(null)},dE=async()=>{if(!ie||!ie.isProject||!ie.blocks)return;const G=new Xc;ie.blocks.forEach(pe=>{pe.code&&pe.signature&&G.file(pe.signature,pe.code)});const le=await G.generateAsync({type:"blob"}),_e=URL.createObjectURL(le),fe=document.createElement("a");fe.href=_e,fe.download=`${ie.name.replace(/\s+/g,"_")}_project.zip`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(_e)},fE=()=>{if(!ie||!ie.isProject||!ie.blocks)return;const G=ie.blocks.filter(le=>le.code&&le.signature);if(G.length===0){F({isOpen:!0,type:"info",title:"No Files Found",message:"No valid files found in this project plan. The AI might have generated an empty structure.",onConfirm:()=>{}});return}F({isOpen:!0,type:"confirm",title:"Apply to Workspace",message:`This will add ${G.length} generated files to your workspace. Continue?`,onConfirm:()=>{const le=G.map(_e=>{var Ze;let fe=pt.JAVASCRIPT;const pe=(Ze=_e.signature.split(".").pop())==null?void 0:Ze.toLowerCase();return(pe==="ts"||pe==="tsx")&&(fe=pt.TYPESCRIPT),pe==="css"&&(fe=pt.CSS),pe==="html"&&(fe=pt.HTML),pe==="json"&&(fe=pt.JSON),pe==="sql"&&(fe=pt.SQL),pe==="py"&&(fe=pt.PYTHON),pe==="md"&&(fe=pt.MARKDOWN),pe==="java"&&(fe=pt.JAVA),pe==="cs"&&(fe=pt.CSHARP),(pe==="cpp"||pe==="c")&&(fe=pt.CPP),pe==="go"&&(fe=pt.GO),pe==="rs"&&(fe=pt.RUST),pe==="php"&&(fe=pt.PHP),pe==="rb"&&(fe=pt.RUBY),pe==="swift"&&(fe=pt.SWIFT),(pe==="kt"||pe==="kts")&&(fe=pt.KOTLIN),(pe==="sh"||pe==="bash")&&(fe=pt.BASH),(pe==="yaml"||pe==="yml")&&(fe=pt.YAML),pe==="xml"&&(fe=pt.XML),{id:Date.now()+Math.random().toString(),name:_e.signature,content:_e.code,language:fe,history:[_e.code],historyIndex:0}});t(_e=>[..._e,...le]),le.length>0&&i(le[0].id),F({isOpen:!0,type:"info",title:"Success",message:`Added ${le.length} files to workspace.`,onConfirm:()=>{}})}})},Jg=G=>Dt.highlight(G,Dt.languages[Ke.language]||Dt.languages.javascript,Ke.language),hE=G=>{xt.current&&(xt.current.scrollTop=G.currentTarget.scrollTop)},Kg=Ke.content.split(`
`).length,pE=Array.from({length:Kg},(G,le)=>le+1),mE=Q.useMemo(()=>{if(!N||O.length===0)return null;const G=[];let le=0;return O.forEach((_e,fe)=>{_e.start>le&&G.push(u.jsx("span",{className:"text-transparent",children:Ke.content.slice(le,_e.start)},`text-${fe}`));const pe=fe===X;G.push(u.jsx("span",{id:pe?"current-match-highlight":`match-${fe}`,className:`${pe?"bg-orange-500/80":"bg-yellow-500/30"} text-transparent rounded-[1px]`,children:Ke.content.slice(_e.start,_e.end)},`match-${fe}`)),le=_e.end}),le<Ke.content.length&&G.push(u.jsx("span",{className:"text-transparent",children:Ke.content.slice(le)},"text-end")),u.jsx("pre",{className:"editor-font leading-relaxed absolute top-0 left-0 m-0 pointer-events-none select-none",style:{fontFamily:'"Fira Code", "Fira Mono", monospace',fontSize:`${v}px`,whiteSpace:x?"pre-wrap":"pre",padding:"20px",minHeight:"100%",minWidth:"100%",zIndex:0,boxSizing:"border-box",color:"transparent"},children:G})},[Ke.content,O,X,N,v,x]),nf=({label:G,id:le,items:_e})=>u.jsxs("div",{className:"relative",children:[u.jsx("button",{className:`px-3 py-1 text-sm rounded hover:bg-[var(--bg-tertiary)] ${c===le?"bg-[var(--bg-tertiary)] text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,onClick:()=>f(c===le?null:le),children:G}),c===le&&u.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded shadow-xl z-50",children:_e.map((fe,pe)=>fe.divider?u.jsx("div",{className:"border-t border-[var(--border-color)] my-1"},pe):u.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-[var(--text-secondary)] hover:bg-[var(--accent-primary)] hover:text-white flex justify-between items-center",onClick:()=>{fe.action&&fe.action(),fe.label&&!fe.label.includes("Wrap")&&!fe.label.includes("Size")&&!fe.label.includes("Line")&&!fe.label.includes("Indent")&&f(null)},children:[u.jsx("span",{children:fe.label}),fe.check&&u.jsx("span",{children:""})]},pe))})]}),rf=({block:G,level:le=0})=>{const _e=kn.has(G.id),fe=Kl.has(G.id),pe=G.children&&G.children.length>0,Ze=G.type==="statement",In=()=>G.type==="function"?u.jsx(Fa,{className:"w-3.5 h-3.5 text-[var(--accent-secondary)]"}):G.type==="class"?u.jsx(Fn,{className:"w-3.5 h-3.5 text-yellow-500"}):G.type==="variable"?u.jsx(_a,{className:"w-3.5 h-3.5 text-cyan-400"}):G.type==="file"?u.jsx(_a,{className:"w-3.5 h-3.5 text-pink-400"}):G.type==="imports"?u.jsx(Fn,{className:"w-3.5 h-3.5 text-orange-400"}):G.type==="method"?u.jsx(Fa,{className:"w-3.5 h-3.5 text-purple-400"}):u.jsx(_a,{className:"w-3.5 h-3.5 text-gray-500"}),Hi=async()=>{ro.trim()&&(await cs(G.id,G.code,ro),zo(null),oo(""))};return u.jsxs("div",{className:"relative",children:[le>0&&u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-px bg-[var(--border-color)]",style:{left:"-1px"}}),u.jsxs("div",{className:`group flex items-center py-1 pr-2 hover:bg-[var(--bg-tertiary)] cursor-pointer transition-colors relative ${le===0?"border-t border-[var(--border-color)]":""} ${G.type==="file"?"bg-[var(--bg-tertiary)]/50 font-bold mb-1 rounded":""}`,style:{paddingLeft:`${Math.max(4,le*16)}px`},children:[u.jsx("div",{onClick:()=>us(G.id),className:"flex items-center justify-center w-5 h-5 mr-1 hover:bg-white/10 rounded flex-none",children:pe?u.jsx(ba,{className:`w-3 h-3 text-[var(--text-secondary)] transition-transform ${_e?"":"-rotate-90"}`}):u.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-600"})}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0 justify-center",onClick:()=>us(G.id),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(In,{})," ",u.jsxs("span",{className:`font-mono text-xs select-none break-all whitespace-pre-wrap ${Ze?"text-purple-300":"text-[var(--text-secondary)]"} ${G.type==="file"?"text-[var(--text-primary)]":""}`,children:[" ",G.signature," "]})," "]}),G.comment&&u.jsxs("span",{className:"text-[10px] text-gray-500 ml-6 truncate font-mono italic opacity-70",children:[" // ",G.comment," "]})]}),u.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity gap-1 ml-2 self-start mt-0.5",children:[u.jsxs("button",{onClick:yt=>{yt.stopPropagation(),ec(G.id)},className:`p-1 rounded hover:bg-[var(--bg-primary)] ${fe?"text-[var(--accent-primary)] bg-[var(--bg-primary)]":"text-[var(--text-secondary)]"}`,title:"Toggle Code",children:[" ",u.jsx($l,{className:"w-3 h-3"})," "]}),u.jsxs("button",{onClick:yt=>{yt.stopPropagation(),cE(G.code)},className:"p-1 rounded hover:bg-[var(--bg-primary)] text-[var(--text-secondary)] hover:text-white",title:"Insert Code",children:[" ",u.jsx(Wf,{className:"w-3 h-3"})," "]}),u.jsxs("button",{onClick:yt=>{yt.stopPropagation(),Lt(G.id,G.code,Ke.language)},className:`p-1 rounded hover:bg-[var(--bg-primary)] ${br[G.id]?"text-teal-400 bg-[var(--bg-primary)]":"text-[var(--text-secondary)] hover:text-white"}`,title:"Translate to Natural Language",children:[" ",u.jsx(GM,{className:"w-3 h-3"})," "]}),u.jsxs("button",{onClick:yt=>{yt.stopPropagation(),ci===G.id?zo(null):(zo(G.id),oo(""))},className:`p-1 rounded hover:bg-[var(--bg-primary)] ${ci===G.id?"text-green-400 bg-[var(--bg-primary)]":"text-[var(--text-secondary)] hover:text-white"}`,title:"Ask Question / Explain",children:[" ",u.jsx(cg,{className:"w-3 h-3"})," "]})]})]}),u.jsxs("div",{className:"relative",children:[le>=0&&u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-px bg-[var(--border-color)]",style:{left:`${le*16+10}px`}}),u.jsxs("div",{style:{paddingLeft:`${le*16+24}px`},children:[ci===G.id&&u.jsxs("div",{className:"my-1 p-2 bg-[var(--bg-tertiary)] border border-[var(--border-color)] rounded flex gap-2 animate-fade-in",children:[u.jsx("input",{type:"text",autoFocus:!0,value:ro,onChange:yt=>oo(yt.target.value),onKeyDown:yt=>yt.key==="Enter"&&Hi(),placeholder:"Ask a question about this block...",className:"flex-1 bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-2 py-1 text-xs text-[var(--text-primary)] focus:outline-none focus:border-[var(--accent-primary)]"}),u.jsxs("button",{onClick:Hi,disabled:!ro.trim(),className:"bg-[var(--accent-primary)] hover:opacity-90 text-white p-1 rounded disabled:opacity-50",children:[" ",u.jsx(Hu,{className:"w-3 h-3"})," "]})]}),Ti[G.id]&&u.jsxs("div",{className:"my-1 p-2 bg-blue-900/20 border-l-2 border-[var(--accent-primary)] text-xs text-[var(--text-secondary)] relative",children:[tf===G.id?u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(Bt,{className:"w-3 h-3 animate-spin"})," ",u.jsx("span",{className:"italic",children:"Thinking..."})," "]}):u.jsxs("div",{children:[" ",Ti[G.id]," "]}),u.jsx("button",{onClick:()=>io(yt=>{const yn={...yt};return delete yn[G.id],yn}),className:"absolute top-1 right-1 opacity-50 hover:opacity-100",children:u.jsx(Jt,{className:"w-3 h-3"})})]}),br[G.id]&&u.jsx("div",{className:"my-1 bg-[var(--bg-tertiary)]/50 border-l-2 border-teal-500 rounded p-2 relative group/annotation",children:Xl===G.id?u.jsxs("div",{className:"flex items-center gap-2 text-xs text-teal-400",children:[" ",u.jsx(Bt,{className:"w-3 h-3 animate-spin"})," ",u.jsx("span",{children:"Translating..."})," "]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] font-bold text-teal-500 uppercase",children:"Natural Language View"}),u.jsx("button",{onClick:()=>navigator.clipboard.writeText(br[G.id]),className:"text-[9px] text-[var(--text-secondary)] hover:text-teal-400",children:"Copy"})]}),u.jsx("pre",{className:"font-mono text-[10px] leading-relaxed text-[var(--text-secondary)] whitespace-pre overflow-x-auto",children:u.jsx("div",{dangerouslySetInnerHTML:{__html:Jg(br[G.id])}})}),u.jsx("button",{onClick:()=>wi(yt=>{const yn={...yt};return delete yn[G.id],yn}),className:"absolute top-1 right-1 opacity-50 hover:opacity-100 p-1",children:u.jsx(Jt,{className:"w-3 h-3"})})]})}),fe&&u.jsxs("div",{className:"my-1 bg-[var(--bg-primary)] border border-[var(--border-color)] rounded p-2 overflow-x-auto group/code relative",children:[u.jsx("pre",{className:"font-mono text-[10px] leading-relaxed text-[var(--text-secondary)] whitespace-pre",children:G.code}),u.jsx("button",{onClick:()=>navigator.clipboard.writeText(G.code),className:"absolute top-1 right-1 opacity-0 group-hover/code:opacity-100 bg-[var(--bg-tertiary)] text-white text-[9px] px-1.5 py-0.5 rounded",children:" Copy "})]}),_e&&pe&&u.jsxs("div",{className:"flex flex-col",children:[" ",G.children.map(yt=>u.jsx(rf,{block:yt,level:le+1},yt.id))," "]})]})]})]})};return u.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-primary)] relative",children:[u.jsx(BS,{isOpen:W.isOpen,type:W.type,title:W.title,message:W.message,onConfirm:W.onConfirm,onClose:ne}),N&&u.jsxs("div",{className:"absolute top-14 right-2 sm:top-10 sm:right-10 z-50 bg-[var(--bg-secondary)] border border-[var(--border-color)] shadow-2xl p-2 rounded-md flex items-center space-x-2 w-[calc(100%-1rem)] sm:w-80",children:[u.jsx(Sp,{className:"w-4 h-4 text-[var(--text-secondary)]"}),u.jsx("input",{id:"find-input",type:"text",placeholder:"Find",className:"bg-[var(--bg-tertiary)] text-[var(--text-primary)] text-sm px-2 py-1 rounded border border-transparent focus:border-[var(--accent-primary)] focus:outline-none flex-1",value:M,onChange:G=>q(G.target.value),onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),G.shiftKey?Vt():gt())}}),u.jsx("div",{className:"text-xs text-[var(--text-secondary)] whitespace-nowrap min-w-[40px] text-center",children:Y>0?`${X+1} of ${Y}`:"No results"}),u.jsx("button",{onClick:Vt,className:"p-1 hover:bg-[var(--bg-tertiary)] rounded",children:u.jsx(ir,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),u.jsx("button",{onClick:gt,className:"p-1 hover:bg-[var(--bg-tertiary)] rounded",children:u.jsx(ba,{className:"w-4 h-4 text-[var(--text-secondary)]"})}),u.jsx("button",{onClick:()=>P(!1),className:"p-1 hover:bg-[var(--bg-tertiary)] rounded ml-1",children:u.jsx(Jt,{className:"w-4 h-4 text-[var(--text-secondary)]"})})]}),u.jsxs("div",{ref:Gt,className:"flex-none bg-[var(--bg-secondary)] border-b border-[var(--border-color)] px-2 py-1 flex items-center select-none relative z-50",children:[u.jsx(nf,{label:"File",id:"file",items:[{label:"New File",action:Yg},{label:"Download File",action:lE},{divider:!0},{label:"Close Tab",action:()=>Wg({stopPropagation:()=>{}},n)}]}),u.jsx(nf,{label:"Edit",id:"edit",items:[{label:"Undo",action:we},{label:"Redo",action:K},{divider:!0},{label:"Find",action:()=>{P(!0),setTimeout(()=>{var G;return(G=document.getElementById("find-input"))==null?void 0:G.focus()},50)}},{divider:!0},{label:"Copy All",action:()=>navigator.clipboard.writeText(Ke.content)},{label:"Paste",action:async()=>{try{const G=await navigator.clipboard.readText();jo(Ke.content+G)}catch{}}},{divider:!0},{label:"Clear Editor",action:()=>{F({isOpen:!0,type:"confirm",title:"Clear Editor",message:"Are you sure you want to clear all content from this file?",onConfirm:()=>jo("")})}}]}),u.jsx(nf,{label:"View",id:"view",items:[{label:"Toggle Line Numbers",check:_,action:()=>T(!_)},{label:"Toggle Word Wrap",check:x,action:()=>C(!x)},{label:"Toggle Indent Guides",check:A,action:()=>I(!A)},{divider:!0},{label:"Zoom In",action:()=>y(G=>Math.min(G+2,30))},{label:"Zoom Out",action:()=>y(G=>Math.max(G-2,10))},{label:"Reset Zoom",action:()=>y(14)}]})]}),u.jsxs("div",{className:"flex-none bg-[var(--bg-secondary)] flex items-center border-b border-[var(--border-color)]",children:[u.jsxs("div",{className:"flex-1 flex items-center overflow-x-auto no-scrollbar pr-2",children:[e.map(G=>u.jsx("div",{onClick:()=>i(G.id),className:`group flex items-center space-x-2 px-3 py-2 min-w-[120px] max-w-[200px] text-sm cursor-pointer border-r border-[var(--border-color)] select-none ${Ke.id===G.id?"bg-[var(--tab-active)] text-[var(--text-primary)] border-t-2 border-t-[var(--accent-primary)]":"bg-[var(--tab-inactive)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]"}`,onDoubleClick:le=>de(le,G),children:m===G.id?u.jsxs("div",{className:"flex items-center gap-1 flex-1 tab-rename-input min-w-0",children:[" ",u.jsx("input",{autoFocus:!0,type:"text",value:g,onChange:le=>b(le.target.value),onKeyDown:ot,onBlur:ye,className:"w-full bg-[var(--bg-primary)] text-[var(--text-primary)] px-1 rounded text-xs focus:outline-none border border-[var(--accent-primary)]"})," ",u.jsx("button",{onMouseDown:ye,className:"text-green-500 hover:text-green-400 flex-none",children:u.jsx(jn,{className:"w-3 h-3"})})," "]}):u.jsxs(u.Fragment,{children:[" ",u.jsx("span",{className:"truncate flex-1",children:G.name})," ",Ke.id===G.id&&u.jsx("button",{onClick:le=>de(le,G),className:"p-0.5 rounded opacity-0 group-hover:opacity-100 text-[var(--text-secondary)] hover:text-[var(--accent-primary)] flex-none",title:"Rename",children:u.jsx(_l,{className:"w-3 h-3"})})," ",u.jsx("button",{onClick:le=>Wg(le,G.id),className:`p-0.5 rounded-md opacity-0 group-hover:opacity-100 hover:bg-[var(--bg-tertiary)] flex-none ${e.length===1?"hidden":""}`,children:u.jsx(Jt,{className:"w-3 h-3"})})," "]})},G.id)),u.jsx("button",{onClick:Yg,className:"p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] transition-colors flex-none",title:"New File",children:u.jsx(Wf,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex-none px-2 border-l border-[var(--border-color)] bg-[var(--bg-secondary)] z-10",children:u.jsxs("button",{onClick:()=>J(!U),className:`flex items-center space-x-1 px-3 py-1 text-xs font-medium rounded transition-colors ${U?"bg-[var(--accent-primary)] text-white":"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)]"}`,children:[u.jsx(sr,{className:"w-3 h-3"}),u.jsx("span",{children:"Generate Code"})]})})]}),u.jsxs("div",{className:"flex-none bg-[var(--bg-secondary)] px-4 py-2 flex flex-wrap justify-between items-center gap-2 border-b border-[var(--border-color)]",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(oL,{current:Ke.language,onChange:sE}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:we,disabled:Ke.historyIndex<=0,className:"p-1 hover:bg-[var(--bg-tertiary)] rounded disabled:opacity-30 text-[var(--text-secondary)]",children:u.jsx(Bt,{className:"w-3 h-3 -scale-x-100"})}),u.jsx("button",{onClick:K,disabled:Ke.historyIndex>=Ke.history.length-1,className:"p-1 hover:bg-[var(--bg-tertiary)] rounded disabled:opacity-30 text-[var(--text-secondary)]",children:u.jsx(Bt,{className:"w-3 h-3"})})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-xs text-[var(--text-secondary)]",children:[" ",u.jsxs("span",{children:["Ln ",Kg]}),u.jsxs("span",{children:[v,"px"]}),u.jsx("span",{children:Ke.language}),u.jsx("span",{children:"UTF-8"})," "]})]}),u.jsxs("div",{className:"flex-1 relative bg-[var(--editor-bg)] flex overflow-hidden",children:[u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[_&&u.jsxs("div",{ref:xt,className:"flex-none w-12 bg-[var(--editor-bg)] border-r border-[var(--border-color)] text-right pr-3 pt-[20px] select-none text-gray-500 overflow-hidden editor-font leading-relaxed",style:{fontSize:`${v}px`},children:[" ",pE.map(G=>u.jsx("div",{className:"h-[1.625em]",children:G},G))," "]}),u.jsx("div",{className:"flex-1 overflow-auto relative",ref:ji,onScroll:hE,children:u.jsxs("div",{className:"min-h-full min-w-full relative",children:[mE,A&&u.jsx(aL,{content:Ke.content,fontSize:v,wordWrap:x,tabSize:2}),u.jsx("div",{className:"relative z-10",children:u.jsx(FC,{textareaId:`editor-textarea-${n}`,value:Ke.content,onValueChange:jo,highlight:Jg,padding:20,className:"editor-font leading-relaxed min-h-full",style:{fontFamily:'"Fira Code", "Fira Mono", monospace',fontSize:`${v}px`,backgroundColor:"transparent",color:"var(--text-secondary)",minHeight:"100%",whiteSpace:x?"pre-wrap":"pre"},textareaClassName:"focus:outline-none text-[var(--text-primary)]"})})]})})]}),U&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden md:block w-1 bg-[var(--border-color)] hover:bg-[var(--accent-primary)] cursor-col-resize z-20 flex-none transition-colors",onMouseDown:()=>ae(!0)}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] border-l border-[var(--border-color)] flex flex-col fixed inset-0 z-50 md:relative md:inset-auto md:z-auto",style:{width:window.innerWidth<768?"100%":z},children:[u.jsxs("div",{className:"p-4 border-b border-[var(--border-color)] bg-[var(--bg-tertiary)] flex justify-between items-center flex-none",children:[u.jsxs("h2",{className:"text-sm font-bold text-[var(--text-primary)] flex items-center gap-2",children:[u.jsx(sr,{className:"w-4 h-4 text-[var(--accent-secondary)]"}),"Code Generator"]}),u.jsxs("div",{className:"flex items-center gap-1",children:[" ",u.jsxs("button",{onClick:()=>Ue(!Ee),className:`p-1 rounded transition-colors ${Ee?"text-green-400 bg-green-400/10":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,title:"Developer Mode (API Logs)",children:[" ",u.jsx(ux,{className:"w-4 h-4"})," "]})," ",u.jsx("button",{onClick:()=>J(!1),className:"p-1 rounded text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:u.jsx(Jt,{className:"w-4 h-4"})})," "]})]}),!Ee&&u.jsxs("div",{className:"flex-none flex items-center gap-2 p-2 bg-[var(--bg-primary)] border-b border-[var(--border-color)] overflow-x-auto no-scrollbar",children:[u.jsxs("button",{onClick:()=>l(null),className:`flex-none px-3 py-1.5 text-xs rounded border transition-colors flex items-center gap-1 ${s===null?"bg-[var(--accent-primary)] text-white border-[var(--accent-primary)]":"bg-[var(--bg-primary)] border-[var(--border-color)] text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[" ",u.jsx(Wf,{className:"w-3 h-3"})," ",u.jsx("span",{children:"New"})," "]}),o.map(G=>u.jsxs("div",{className:"relative group/tab flex items-center",children:[" ",u.jsxs("button",{onClick:()=>l(G.id),className:`flex-none px-3 py-1.5 text-xs rounded-l border-y border-l border-r-0 transition-colors max-w-[120px] truncate ${s===G.id?"bg-[var(--accent-primary)]/20 text-[var(--accent-secondary)] border-[var(--accent-primary)]/50":"bg-[var(--bg-primary)] border-[var(--border-color)] text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,title:G.name,children:[" ",G.name," "]})," ",u.jsxs("button",{onClick:le=>{le.stopPropagation();const _e=o.filter(fe=>fe.id!==G.id);a(_e),s===G.id&&l(null)},className:`flex-none px-1 py-1.5 text-xs rounded-r border transition-colors ${s===G.id?"bg-[var(--accent-primary)]/20 text-[var(--accent-secondary)] border-[var(--accent-primary)]/50 hover:bg-red-500/20 hover:text-red-400":"bg-[var(--bg-primary)] border-[var(--border-color)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-red-400"}`,children:[" ",u.jsx(Jt,{className:"w-3 h-3"})," "]})," "]},G.id))]}),Ee?u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-[var(--bg-primary)] font-mono text-xs relative",children:[u.jsxs("div",{className:"flex-none p-3 border-b border-[var(--border-color)] flex items-center justify-between bg-[var(--bg-tertiary)]",children:[" ",u.jsxs("div",{className:"flex items-center gap-2 text-green-400 font-bold uppercase tracking-wider",children:[" ",u.jsx(ux,{className:"w-4 h-4"})," ",u.jsx("span",{children:"Dev Console"})," ",ie&&u.jsxs("span",{className:"text-[9px] text-[var(--text-secondary)] bg-[var(--bg-primary)] px-1 rounded",children:["PLAN: ",ie==null?void 0:ie.name]})," "]})," ",u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx("span",{className:"text-[10px] text-[var(--text-secondary)]",children:"Advanced Config"})," ",u.jsxs("button",{onClick:()=>St(!ve),className:`w-8 h-4 rounded-full relative transition-colors ${ve?"bg-green-500":"bg-gray-600"}`,children:[" ",u.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 rounded-full bg-white transition-transform ${ve?"translate-x-4":""}`})," "]})," "]})," "]}),u.jsx("div",{className:"flex-1 overflow-y-auto bg-[var(--bg-primary)]",children:ve&&u.jsxs("div",{className:"p-4 space-y-4 border-b border-[var(--border-color)]",children:[u.jsxs("div",{children:[" ",u.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1 font-bold",children:"System Instruction"})," ",u.jsx("textarea",{value:te.systemInstruction,onChange:G=>ui({systemInstruction:G.target.value}),className:"w-full bg-[var(--bg-tertiary)] border border-[var(--border-color)] rounded p-2 text-[10px] text-[var(--text-primary)] focus:border-[var(--accent-primary)] focus:outline-none h-32",spellCheck:!1})," "]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-[var(--text-secondary)] mb-1 font-bold flex justify-between",children:["JSON Response Schema",u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"checkbox",id:"useResponseSchema",checked:te.useResponseSchema??!1,onChange:G=>ui({useResponseSchema:G.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-[var(--accent-primary)] focus:ring-[var(--accent-primary)] cursor-pointer"}),u.jsx("label",{htmlFor:"useResponseSchema",className:"text-[9px] font-normal cursor-pointer select-none text-[var(--accent-secondary)]",children:"Enforce via API Config"})]})]}),u.jsx("textarea",{value:te.responseSchema,onChange:G=>ui({responseSchema:G.target.value}),className:`w-full bg-[var(--bg-tertiary)] border border-[var(--border-color)] rounded p-2 text-[10px] text-[var(--text-primary)] focus:border-[var(--accent-primary)] focus:outline-none h-32 ${te.useResponseSchema?"":"opacity-50"}`,spellCheck:!1})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[" ",u.jsxs("div",{children:[" ",u.jsxs("label",{className:"block text-xs text-[var(--text-secondary)] mb-1 font-bold",children:["Temperature: ",te.temperature]})," ",u.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:te.temperature,onChange:G=>ui({temperature:parseFloat(G.target.value)}),className:"w-full accent-[var(--accent-primary)]"})," "]})," ",u.jsxs("div",{children:[" ",u.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1 font-bold",children:"Max Output Tokens"})," ",u.jsxs("select",{value:te.maxOutputTokens,onChange:G=>ui({maxOutputTokens:parseInt(G.target.value)}),className:"w-full bg-[var(--bg-tertiary)] border border-[var(--border-color)] rounded p-1 text-[10px] text-[var(--text-primary)] focus:border-[var(--accent-primary)] focus:outline-none",children:[" ",u.jsx("option",{value:2048,children:"2,048 (2k)"})," ",u.jsx("option",{value:4096,children:"4,096 (4k)"})," ",u.jsx("option",{value:8192,children:"8,192 (8k)"})," ",u.jsx("option",{value:16384,children:"16,384 (16k)"})," ",u.jsx("option",{value:32768,children:"32,768 (32k)"})," ",u.jsx("option",{value:65536,children:"65,536 (64k)"})," ",u.jsx("option",{value:131072,children:"131,072 (128k)"})," ",u.jsx("option",{value:1048576,children:"1,048,576 (1M)"})," "]})," "]})," "]}),on&&u.jsxs("div",{className:"bg-blue-900/10 p-2 rounded border border-blue-800/30",children:[u.jsxs("label",{className:"block text-xs text-[var(--accent-secondary)] mb-1 font-bold flex items-center gap-1",children:[u.jsx(sr,{className:"w-3 h-3"})," Thinking Budget (",r.activeModel,")"]}),u.jsxs("select",{value:te.thinkingBudget,onChange:G=>ui({thinkingBudget:Number(G.target.value)}),className:"w-full bg-[var(--bg-tertiary)] border border-[var(--border-color)] rounded p-1 text-[10px] text-[var(--text-primary)] focus:border-[var(--accent-primary)] focus:outline-none",children:[u.jsx("option",{value:-1,children:"Auto (-1)"}),u.jsx("option",{value:0,children:"Disabled (0)"}),u.jsx("option",{value:2048,children:"Light (2k)"}),u.jsx("option",{value:8192,children:"Standard (8k)"}),u.jsx("option",{value:16384,children:"High (16k)"}),u.jsx("option",{value:32768,children:"Extended (32k)"}),u.jsx("option",{value:48e3,children:"Deep (48k)"}),u.jsx("option",{value:65536,children:"Maximum (64k)"})]}),u.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"includeThoughts",checked:te.includeThoughts??!0,onChange:G=>ui({includeThoughts:G.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-[var(--accent-primary)] focus:ring-[var(--accent-primary)] cursor-pointer"}),u.jsx("label",{htmlFor:"includeThoughts",className:"text-[10px] text-[var(--text-secondary)] cursor-pointer select-none",children:"Include Thoughts"})]})]})]})}),u.jsx("div",{className:"h-1 bg-[var(--border-color)] hover:bg-[var(--accent-primary)] cursor-row-resize flex-none transition-colors z-10",onMouseDown:()=>Ce(!0)}),u.jsxs("div",{className:"flex-none flex flex-col bg-black border-t border-gray-800 transition-all",style:{height:$},children:[" ",u.jsxs("div",{className:"flex-none p-1 bg-gray-900 flex justify-between items-center px-2 cursor-row-resize",onMouseDown:()=>Ce(!0),children:[" ",u.jsxs("span",{className:"text-gray-500 font-bold text-[10px] flex items-center gap-2",children:[" ",u.jsx(dg,{className:"w-3 h-3 rotate-45"})," Real-time API Logs ",s?"(History)":"(Live)"," "]})," ",u.jsx("button",{onClick:()=>{s?a(G=>G.map(le=>le.id===s?{...le,logs:[]}:le)):(j([]),Nn.current=[])},className:"text-[10px] text-gray-500 hover:text-white",children:" Clear "})," "]})," ",u.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[" ",ue.map((G,le)=>u.jsxs("div",{className:"flex flex-col gap-0.5 border-l-2 pl-2",style:{borderColor:G.stage==="error"?"#ef4444":G.stage==="sending"?"#3b82f6":G.stage==="response"?"#10b981":"#6b7280"},children:[" ",u.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-gray-500",children:[" ",u.jsx("span",{className:"uppercase",children:G.stage})," ",u.jsx("span",{children:G.time})," "]})," ",u.jsx("div",{className:"text-[10px] text-gray-300 truncate",children:G.message})," ",G.data&&u.jsxs("details",{className:"mt-1 group/details",children:[" ",u.jsxs("summary",{className:"cursor-pointer text-[9px] text-[var(--accent-secondary)] hover:text-white select-none flex items-center gap-1 w-fit",children:[" ",u.jsx(ba,{className:"w-2.5 h-2.5 transition-transform group-open/details:rotate-180"})," ",u.jsx("span",{children:"View Content"})," "]})," ",u.jsxs("div",{className:"mt-1 p-1 bg-gray-900 rounded border border-gray-800",children:[" ",u.jsxs("pre",{className:"text-[9px] text-green-300 overflow-x-auto whitespace-pre-wrap font-mono",children:[" ",typeof G.data=="string"?G.data:JSON.stringify(G.data,null,2)," "]})," "]})," "]})," "]},le))," ",u.jsx("div",{ref:Si})," "]})," "]})]}):u.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-auto p-4 space-y-4",ref:Ci,children:[s===null&&u.jsxs("div",{className:"space-y-3 animate-fade-in",children:[u.jsxs("div",{className:"text-xs font-mono text-gray-500 mb-2 flex items-center justify-between",children:[" ",u.jsxs("span",{children:["Model: ",u.jsx("span",{className:"text-[var(--accent-secondary)]",children:r.activeModel})]})," ",u.jsx("span",{className:`text-[10px] ${Cs()?"text-green-500":"text-red-500"} font-bold`,children:Cs()?"API Key Active":"API Key Missing"})," "]}),u.jsxs("div",{className:"flex items-center justify-between p-2 bg-[var(--bg-tertiary)] rounded border border-[var(--border-color)]",children:[" ",u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx(Fn,{className:`w-4 h-4 ${Te?"text-[var(--accent-primary)]":"text-gray-500"}`})," ",u.jsx("span",{className:"text-xs font-medium",children:"Modular Project"})," "]})," ",u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[" ",u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Te,onChange:G=>Je(G.target.checked)})," ",u.jsx("div",{className:"w-9 h-5 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-[var(--accent-primary)]"})," "]})," "]}),u.jsxs("div",{children:[" ",u.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1",children:"Instruction"})," ",u.jsx("textarea",{className:"w-full bg-[var(--bg-primary)] border border-[var(--border-color)] rounded p-2 text-sm text-[var(--text-primary)] focus:border-[var(--accent-primary)] focus:outline-none resize-y min-h-[80px]",placeholder:Te?"e.g. Create a Todo App with components/TodoItem.tsx, utils/api.ts...":"e.g. Create a React hook for fetching user data...",value:ke,onChange:G=>xe(G.target.value)})," "]}),u.jsxs("div",{children:[" ",u.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1",children:"Language"})," ",u.jsx("input",{type:"text",className:"w-full bg-[var(--bg-primary)] border border-[var(--border-color)] rounded p-2 text-sm text-[var(--text-primary)] focus:border-[var(--accent-primary)] focus:outline-none",placeholder:"e.g. React, Typescript, Python",maxLength:30,value:Se,onChange:G=>Me(G.target.value)})," "]}),on&&u.jsxs("div",{className:"flex items-center justify-between p-2 bg-[var(--bg-tertiary)]/50 rounded border border-[var(--border-color)]",children:[" ",u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx("input",{type:"checkbox",id:"chkHierarchy",checked:ce,onChange:G=>E(G.target.checked),className:"rounded border-gray-600 bg-gray-700 text-[var(--accent-primary)] focus:ring-[var(--accent-primary)] cursor-pointer"})," ",u.jsx("label",{htmlFor:"chkHierarchy",className:"text-xs text-[var(--text-secondary)] cursor-pointer select-none",children:" Max Hierarchy Depth "})," "]})," ",u.jsxs("select",{value:L,onChange:G=>H(Number(G.target.value)),disabled:!ce,className:`bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-2 py-1 text-xs text-[var(--text-primary)] focus:outline-none w-16 text-center transition-opacity ${ce?"":"opacity-40"}`,children:[" ",[1,2,3,4,5,6,7].map(G=>u.jsx("option",{value:G,children:G},G))," "]})," "]}),on&&u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs text-[var(--text-secondary)] mb-1 flex justify-between",children:["Thinking Intensity ",ve&&u.jsx("span",{className:"text-orange-400 text-[10px]",children:"(Managed in Dev Console)"})]}),u.jsxs("select",{value:te.thinkingBudget,onChange:G=>ui({thinkingBudget:Number(G.target.value)}),disabled:ve,className:`w-full bg-[var(--bg-primary)] border border-[var(--border-color)] rounded p-2 text-sm text-[var(--text-primary)] focus:border-[var(--accent-primary)] focus:outline-none ${ve?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("option",{value:-1,children:"Auto (-1)"}),u.jsx("option",{value:0,children:"Disabled (0)"}),u.jsx("option",{value:2048,children:"Light (2k Tokens)"}),u.jsx("option",{value:4096,children:"Medium (4k Tokens)"}),u.jsx("option",{value:8192,children:"High (8k Tokens)"}),u.jsx("option",{value:16384,children:"Balanced (16k Tokens)"}),u.jsx("option",{value:32768,children:"Extended (32k Tokens)"}),u.jsx("option",{value:48e3,children:"Deep (48k Tokens)"}),u.jsx("option",{value:65536,children:"Maximum (64k Tokens)"})]})]}),qe&&u.jsxs("div",{className:"p-2 bg-red-900/30 border border-red-800 rounded text-xs text-red-300 flex items-start gap-2",children:[u.jsx(ug,{className:"w-4 h-4 flex-none mt-0.5"}),u.jsx("span",{children:qe})]}),ge?u.jsxs("button",{onClick:di,className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded text-sm font-medium transition-colors flex justify-center items-center gap-2",children:[u.jsx(zM,{className:"w-4 h-4"}),"Cancel"]}):u.jsxs("button",{onClick:_r,disabled:!ke,className:"w-full bg-[var(--accent-primary)] hover:opacity-90 text-white py-2 rounded text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2",children:["Generate ",Te?"Project":"Code"]}),ge&&u.jsxs("div",{className:"mt-3 p-2 bg-[var(--accent-primary)]/10 border border-[var(--accent-primary)]/30 rounded text-center",children:[" ",u.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-[var(--accent-secondary)] font-medium mb-0.5",children:[" ",u.jsx(Bt,{className:"w-3 h-3 animate-spin"})," ",u.jsx("span",{children:"Processing Request..."})," "]})," ",u.jsx("p",{className:"text-[10px] text-[var(--text-secondary)]",children:" Request received. Waiting for model response. "})," "]})]}),s!==null&&ie&&u.jsxs("div",{className:"animate-fade-in pb-10",children:[u.jsxs("div",{className:"mb-4 p-3 bg-[var(--bg-tertiary)] rounded border border-[var(--border-color)] relative group/prompt",children:[" ",u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[" ",u.jsx("div",{className:"text-[10px] text-[var(--text-secondary)] uppercase font-bold",children:"Original Request"})," ",u.jsxs("button",{onClick:()=>uE(ie),className:"text-[10px] text-[var(--accent-secondary)] hover:underline flex items-center gap-1 opacity-0 group-hover/prompt:opacity-100 transition-opacity",children:[" ",u.jsx(_l,{className:"w-3 h-3"})," Edit / Reuse "]})," "]})," ",u.jsx("p",{className:"text-xs text-[var(--text-primary)] italic whitespace-pre-wrap",children:ie.prompt||ie.name})," "]}),u.jsxs("h3",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-2 pb-1 border-b border-[var(--border-color)] flex items-center justify-between",children:[" ",u.jsx("span",{children:"Code Structure"})," ",ie.isProject&&u.jsx("span",{className:"text-[10px] bg-blue-900/50 text-[var(--accent-secondary)] px-1.5 py-0.5 rounded border border-blue-800",children:"PROJECT"})," "]}),(()=>{if(ie.isProject)return u.jsxs("div",{className:"space-y-1",children:[" ",u.jsxs("div",{className:"flex gap-2 mb-3",children:[" ",u.jsxs("button",{onClick:fE,className:"flex-1 bg-green-700/20 border border-green-700/50 text-green-400 hover:bg-green-700/30 py-1.5 rounded text-xs font-medium flex items-center justify-center gap-1",children:[" ",u.jsx(Fn,{className:"w-3.5 h-3.5"})," Apply to Workspace "]})," ",u.jsxs("button",{onClick:dE,className:"flex-1 bg-[var(--accent-primary)]/20 border border-[var(--accent-primary)]/50 text-[var(--accent-secondary)] hover:bg-[var(--accent-primary)]/30 py-1.5 rounded text-xs font-medium flex items-center justify-center gap-1",children:[" ",u.jsx(Bt,{className:"w-3.5 h-3.5 rotate-180"})," Download ZIP "]})," "]})," ",ie.blocks.map(pe=>u.jsx(rf,{block:pe},pe.id))," "]});const G=rL(ie.imports),le=G.join(`
`),_e={id:`imports-${ie.id}`,type:"imports",signature:" Imports",code:le,comment:"External libraries and dependencies",children:[]},fe={id:`root-${ie.id}`,type:"file",signature:` ${ie.name||"Full Source Code"}`,code:`${le}

${(ie.blocks||[]).map(pe=>pe.code).join(`

`)}`,comment:"Complete file structure",children:[...G.length>0?[_e]:[],...ie.blocks||[]]};return u.jsxs("div",{className:"space-y-1",children:[" ",u.jsx(rf,{block:fe})," ",(!ie.blocks||ie.blocks.length===0)&&G.length===0&&u.jsx("div",{className:"p-4 text-xs text-[var(--text-secondary)] text-center italic",children:"No complex blocks identified."})," "]})})()]})]})]})]})]})]})},wc=[{id:"header",name:"Header Bar",description:"Top navigation area style",defaultPrompt:"A seamless horizontal header texture...",cropZone:{x:0,y:0,w:1,h:.15},targetVars:["bgSecondary","borderColor"],textureVar:"bgSecondary"},{id:"sidebar",name:"Sidebar / Tabs",description:"File explorer and tab styling",defaultPrompt:"A vertical sidebar texture...",cropZone:{x:0,y:.15,w:.25,h:.85},targetVars:["bgTertiary","textSecondary"],textureVar:"bgTertiary"},{id:"editor",name:"Editor Workspace",description:"Main coding background and text",defaultPrompt:"A deep dark coding background...",cropZone:{x:.25,y:.15,w:.75,h:.85},targetVars:["bgPrimary","textPrimary"],textureVar:"bgPrimary"},{id:"accents",name:"Buttons & Highlights",description:"Primary actions and focus states",defaultPrompt:"A glossy button texture...",cropZone:{x:.3,y:.3,w:.4,h:.4},targetVars:["accentPrimary","accentSecondary"],textureVar:"accentPrimary"}],Ep=e=>{const t=e.substring(1),n=parseInt(t,16);return .2126*(n>>16&255)+.7152*(n>>8&255)+.0722*(n>>0&255)},lL=e=>!e||!e.startsWith("#")?"#ffffff":Ep(e)>128?"#111827":"#f9fafb",Ss=(e,t)=>{const n=parseInt(e.slice(1),16),i=t<0?0:255,r=t<0?t*-1:t;return"#"+(16777216+(Math.round((i-(n>>16))*r)+(n>>16))*65536+(Math.round((i-(n>>8&255))*r)+(n>>8&255))*256+(Math.round((i-(n&255))*r)+(n&255))).toString(16).slice(1)},cL={bgPrimary:"#111827",bgSecondary:"#1f2937",bgTertiary:"#374151",textPrimary:"#f3f4f6",textSecondary:"#9ca3af",borderColor:"#374151",accentPrimary:"#2563eb",accentSecondary:"#60a5fa",textures:{}},uL=({settings:e,setSettings:t,files:n,themeStudioState:i,setThemeStudioState:r})=>{const[o,a]=Q.useState(""),[s,l]=Q.useState(!1),[c,f]=Q.useState(!1);Q.useEffect(()=>{const L=localStorage.getItem("b_code_walker_api_key");L&&a(L)},[]);const m=()=>{localStorage.setItem("b_code_walker_api_key",o),f(!0),setTimeout(()=>f(!1),2e3)},{uploadedImage:p,imageAspectRatio:g,widgetImages:b,cropOverrides:x,promptInputs:C,generatedColors:v,generatedTextures:y,generatedExplanations:_,extractionMode:T,showCropControls:A}=i,[I,N]=Q.useState(null),[P,M]=Q.useState(null),[q,X]=Q.useState({isDragging:!1,isResizing:!1,startX:0,startY:0,startRect:{x:0,y:0,w:0,h:0}}),D=Q.useRef(null),Y=Q.useRef(null),S=Q.useRef(null),O=Q.useRef(null),B=Q.useRef(null),U=L=>{r(H=>({...H,...L}))},J=L=>{var R;const H=(R=L.target.files)==null?void 0:R[0];if(H){const w=new FileReader;w.onload=k=>{var F;const j=(F=k.target)==null?void 0:F.result,W=new Image;W.onload=()=>{U({uploadedImage:j,generatedTextures:{},imageAspectRatio:W.width/W.height})},W.src=j},w.readAsDataURL(H)}},z=L=>{var w;const H=(w=L.target.files)==null?void 0:w[0],R=S.current;if(H&&R){const k=new FileReader;k.onload=j=>{var ne;const W={...b,[R]:(ne=j.target)==null?void 0:ne.result},F={...y};delete F[R],U({widgetImages:W,generatedTextures:F})},k.readAsDataURL(H)}Y.current&&(Y.current.value="")},Z=L=>{var H;S.current=L,(H=Y.current)==null||H.click()},$=L=>"touches"in L?{clientX:L.touches[0].clientX,clientY:L.touches[0].clientY}:{clientX:L.clientX,clientY:L.clientY},V=(L,H,R)=>{var W;L.preventDefault(),L.stopPropagation();const w=x[R]||((W=wc.find(F=>F.id===R))==null?void 0:W.cropZone)||{x:0,y:0,w:.5,h:.5},{clientX:k,clientY:j}=$(L);X({isDragging:H==="move",isResizing:H==="resize",startX:k,startY:j,startRect:{...w}})};Q.useEffect(()=>{const L=R=>{if(!q.isDragging&&!q.isResizing||!A||!B.current)return;const w=A,k=B.current.getBoundingClientRect();let j,W;"touches"in R?(j=R.touches[0].clientX,W=R.touches[0].clientY):(j=R.clientX,W=R.clientY);const F=(j-q.startX)/k.width,ne=(W-q.startY)/k.height,ie={...q.startRect};if(q.isDragging)ie.x=Math.max(0,Math.min(1-ie.w,q.startRect.x+F)),ie.y=Math.max(0,Math.min(1-ie.h,q.startRect.y+ne));else if(q.isResizing){const te=wc.find(Xe=>Xe.id===w),ue=te?te.cropZone.w/te.cropZone.h:1,ge=k.width/k.height;let be=Math.max(.05,Math.min(1-ie.x,q.startRect.w+F)),qe=be*ge/ue;ie.y+qe>1&&(qe=1-ie.y,be=qe*ue/ge),ie.w=be,ie.h=qe}U({cropOverrides:{...x,[w]:ie}})},H=()=>{X(R=>({...R,isDragging:!1,isResizing:!1}))};return(q.isDragging||q.isResizing)&&(window.addEventListener("mousemove",L),window.addEventListener("mouseup",H),window.addEventListener("touchmove",L),window.addEventListener("touchend",H)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",H),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",H)}},[q,A,x]);const oe=async(L,H=512)=>new Promise((R,w)=>{if(b[L.id]){const j=new Image;j.onload=()=>{const W=O.current,F=W.getContext("2d"),ne=Math.min(H/j.width,H/j.height,1);W.width=j.width*ne,W.height=j.height*ne,F.drawImage(j,0,0,W.width,W.height),R(W.toDataURL("image/jpeg",.8))},j.src=b[L.id];return}if(!p||!O.current)return w("No image source");const k=new Image;k.onload=()=>{const j=O.current,W=j.getContext("2d"),F=x[L.id]||L.cropZone,ne=Math.floor(F.x*k.width),ie=Math.floor(F.y*k.height),te=Math.floor(F.w*k.width),ue=Math.floor(F.h*k.height),ge=Math.min(H/te,H/ue,1);j.width=te*ge,j.height=ue*ge,W.drawImage(k,ne,ie,te,ue,0,0,j.width,j.height),R(j.toDataURL("image/jpeg",.8))},k.src=p}),ae=(L,H)=>{const R=L.getContext("2d");if(!R)return[];const w=R.getImageData(0,0,L.width,L.height).data,k={},j=24;for(let W=0;W<w.length;W+=4*10){const F=Math.round(w[W]/j)*j,ne=Math.round(w[W+1]/j)*j,ie=Math.round(w[W+2]/j)*j,te="#"+((1<<24)+(F<<16)+(ne<<8)+ie).toString(16).slice(1);k[te]=(k[te]||0)+1}return Object.entries(k).sort((W,F)=>F[1]-W[1]).slice(0,Math.max(H,5)).map(W=>W[0])},re=async(L,H=!1)=>{var R;if(T!=="texture"){N(L.id),M(null);try{const w=await oe(L);let k={};if(!H)try{const j=w.split(",")[1],W=new ri({apiKey:o}),F=JSON.stringify(v),ne=`Analyze this UI image slice (Context: ${L.name}). Extract aesthetic colors for CSS variables. CONTEXT: ${F}. Required Keys: ${L.targetVars.map(be=>`- ${be}`).join(`
`)}. Return STRICTLY a JSON object.`;let te=(R=(await W.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:j}},{text:ne}]}})).text)==null?void 0:R.replace(/```json|```/g,"").trim();const ue=(te==null?void 0:te.indexOf("{"))??-1,ge=(te==null?void 0:te.lastIndexOf("}"))??-1;if(ue!==-1&&ge!==-1)te=te==null?void 0:te.substring(ue,ge+1),k=JSON.parse(te||"{}");else throw new Error("Invalid AI JSON")}catch{M("AI unavailable. Using smart local analysis.")}if(Object.keys(k).length===0&&O.current){const j=ae(O.current,5);if(j.length>0){const W=j[0],F=v.bgPrimary||e.customColors.bgPrimary;L.targetVars.forEach(ne=>{if(ne.startsWith("bg"))ne!=="bgPrimary"&&W===F?k[ne]=Ep(W)>128?Ss(W,-.1):Ss(W,.1):k[ne]=W;else if(ne.startsWith("text")){const ie=k.bgPrimary||k.bgSecondary||k.bgTertiary||F||"#000000";k[ne]=lL(ie)}else if(ne.startsWith("border")){const ie=k.bgPrimary||k.bgSecondary||F||"#000000";k[ne]=Ep(ie)>128?Ss(ie,-.2):Ss(ie,.2)}else ne.startsWith("accent")&&(j.length>1?k[ne]=j[1]:k[ne]=Ss(W,.3))}),!H&&!P&&M("Using local analysis (Offline Mode)")}}U({generatedColors:{...v,...k}})}catch{M("Extraction failed completely.")}finally{N(null)}}},Ce=async L=>{var R,w,k;N(L.id);const H={..._};delete H[L.id],U({generatedExplanations:H});try{const j=new ri({apiKey:o}),W=C[L.id]||L.defaultPrompt;let F=[],ne=null;try{ne=await oe(L)}catch{}if(ne){const ge=ne.split(",")[1];F.push({inlineData:{mimeType:"image/jpeg",data:ge}}),F.push({text:`Create a new seamless texture image based on this input image. Request: ${W}. The output should be a texture pattern suitable for a website background.`})}else F.push({text:`Create a seamless texture image for a UI background. Description: ${W}. Return only the image.`});const ie=await j.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:F}});let te=!1,ue="";if((k=(w=(R=ie.candidates)==null?void 0:R[0])==null?void 0:w.content)!=null&&k.parts)for(const ge of ie.candidates[0].content.parts)if(ge.inlineData){const be=`data:${ge.inlineData.mimeType};base64,${ge.inlineData.data}`;U({generatedTextures:{...y,[L.id]:be}}),te=!0}else ge.text&&(ue+=ge.text);ue&&U({generatedExplanations:{...H,[L.id]:ue.trim()}}),!te&&ue?alert("The model returned text only. See explanation."):!te&&!ue&&alert("The model returned no content.")}catch{alert("Generation failed. Check API key.")}finally{N(null)}},ke=async L=>{try{const H=await oe(L);U({generatedTextures:{...y,[L.id]:H}})}catch{alert("No image source found.")}},xe=async L=>{N(L.id);const H={},R={};let w=!1;if(L.targetVars.forEach(k=>{const j=v[k];j&&(H[k]=j,w=!0)}),T==="texture"&&L.textureVar){let k=y[L.id];if(!k)try{k=await oe(L)}catch{}k&&(R[L.textureVar]=k,w=!0)}w?t(k=>({...k,theme:"custom",customColors:{...k.customColors,...H,textures:{...k.customColors.textures,...R}}})):alert("No generated colors or textures found."),N(null)},Se=({label:L,propKey:H})=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-[var(--bg-primary)] rounded border border-[var(--border-color)]",children:[" ",u.jsx("span",{className:"text-xs font-medium text-[var(--text-secondary)]",children:L})," ",u.jsxs("div",{className:"flex items-center gap-2",children:[" ",u.jsx("span",{className:"text-[10px] font-mono text-[var(--text-secondary)] uppercase",children:e.customColors[H]})," ",u.jsx("input",{type:"color",value:e.customColors[H],onChange:R=>Te(H,R.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 p-0 bg-transparent"})," "]})," "]}),Me=[{id:"dark",name:"Dark Nebula",colors:"bg-gray-900",description:"Standard dark mode"},{id:"light",name:"Cloud White",colors:"bg-gray-100 border border-gray-300 text-gray-900",description:"Clean light mode"},{id:"midnight",name:"Midnight Blue",colors:"bg-slate-900",description:"Deep blue tones"},{id:"forest",name:"Emerald Forest",colors:"bg-green-950",description:"Dark green aesthetic"},{id:"synthwave",name:"Synthwave",colors:"bg-purple-950",description:"Retro futuristic neon"},{id:"custom",name:"Custom Palette",colors:"bg-[var(--bg-primary)] border-2 border-dashed border-[var(--accent-secondary)]",description:"User defined colors"}],Te=(L,H)=>{t(R=>({...R,theme:"custom",customColors:{...R.customColors,[L]:H}}))},Je=()=>{window.confirm("Reset Custom Palette to default Dark Theme? This will remove all custom colors and textures.")&&t(L=>({...L,customColors:{...cL}}))},ce=()=>{window.confirm("Clear all active background textures from the current theme? Colors will remain.")&&t(L=>({...L,customColors:{...L.customColors,textures:{}}}))},E=()=>{window.confirm("Clear all Theme Studio data? This includes uploaded images, generated textures, and prompt history.")&&U({uploadedImage:null,widgetImages:{},generatedColors:{},generatedTextures:{},generatedExplanations:{},promptInputs:{},showCropControls:null})};return u.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-primary)] text-[var(--text-primary)] p-8 overflow-y-auto transition-colors duration-300",children:[u.jsx("canvas",{ref:O,className:"hidden"}),u.jsx("input",{type:"file",ref:Y,className:"hidden",accept:"image/*",onChange:z}),u.jsxs("div",{className:"max-w-5xl mx-auto w-full space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Settings"}),u.jsx("p",{className:"text-[var(--text-secondary)]",children:"Customize your development environment."})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)] shadow-sm",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:"API Configuration (BYOK)"}),u.jsxs("div",{className:"p-4 bg-[var(--bg-tertiary)] rounded border border-[var(--border-color)] space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm text-[var(--text-secondary)] uppercase tracking-wider mb-2",children:"Google GenAI API Key"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx("input",{type:s?"text":"password",value:o,onChange:L=>a(L.target.value),placeholder:"Enter your Gemini API Key",className:"w-full bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-3 py-2 text-sm text-[var(--text-primary)] focus:outline-none focus:border-[var(--accent-primary)] font-mono"}),u.jsx("button",{onClick:()=>l(!s),className:"absolute right-2 top-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:u.jsx($l,{className:"w-4 h-4"})})]}),u.jsxs("button",{onClick:m,className:`px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2 ${c?"bg-green-600 text-white":"bg-[var(--accent-primary)] hover:opacity-90 text-white"}`,children:[c?u.jsx(jn,{className:"w-4 h-4"}):"Save",c?"Saved":"Update"]})]})]}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] italic",children:"This key is stored locally in your browser's LocalStorage. It is never sent to a middleman server."})]})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] rounded-lg border border-[var(--border-color)] overflow-hidden shadow-sm",children:[u.jsxs("div",{className:"p-6 border-b border-[var(--border-color)] bg-gradient-to-r from-[var(--bg-tertiary)] to-[var(--bg-secondary)] flex justify-between items-center flex-wrap gap-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2 text-[var(--text-primary)]",children:[u.jsx(sr,{className:"w-5 h-5 text-purple-400"}),"AI Theme Studio"]}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:"Upload an interface image to extract styles or generate textures."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex bg-[var(--bg-primary)] rounded-lg p-1 border border-[var(--border-color)] mr-2",children:[u.jsx("button",{onClick:()=>U({extractionMode:"color"}),className:`px-3 py-1.5 rounded text-xs font-medium transition-all ${T==="color"?"bg-[var(--accent-primary)] text-white shadow-sm":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:" Extract Colors"}),u.jsx("button",{onClick:()=>U({extractionMode:"texture"}),className:`px-3 py-1.5 rounded text-xs font-medium transition-all ${T==="texture"?"bg-[var(--accent-primary)] text-white shadow-sm":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:" Apply Texture"})]}),(p||Object.keys(b).length>0||Object.keys(y).length>0)&&u.jsxs("button",{onClick:E,className:"text-xs text-red-400 hover:text-red-300 hover:bg-red-900/20 px-3 py-1.5 rounded border border-red-900/30 transition-colors flex items-center gap-1",children:[u.jsx(Jt,{className:"w-3 h-3"})," Clear Data"]})]})]}),u.jsx("div",{className:"p-6 space-y-6",children:!p&&Object.keys(b).length===0?u.jsxs("div",{onClick:()=>{var L;return(L=D.current)==null?void 0:L.click()},className:"border-2 border-dashed border-[var(--border-color)] rounded-xl p-10 flex flex-col items-center justify-center cursor-pointer hover:bg-[var(--bg-tertiary)] hover:border-[var(--accent-primary)] transition-all group",children:[u.jsx(MS,{className:"w-12 h-12 text-[var(--text-secondary)] group-hover:text-[var(--accent-primary)] mb-3"}),u.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Click to upload reference UI image (Optional)"}),u.jsx("input",{type:"file",ref:D,className:"hidden",accept:"image/*",onChange:J})]}):u.jsxs("div",{className:"flex flex-col gap-6",children:[p&&u.jsxs("div",{className:"relative w-full bg-[var(--bg-black)] rounded-lg overflow-hidden border border-[var(--border-color)] select-none group/preview",children:[u.jsx("div",{ref:B,className:"relative w-full mx-auto",style:{maxWidth:"100%",aspectRatio:`${g}`,backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:A&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-300"}),(()=>{const L=wc.find(R=>R.id===A),H=x[A]||(L==null?void 0:L.cropZone)||{x:0,y:0,w:.5,h:.5};return u.jsxs("div",{className:"absolute border-2 border-[var(--accent-primary)] bg-transparent shadow-[0_0_0_9999px_rgba(0,0,0,0.5)] cursor-move group/crop",style:{left:`${H.x*100}%`,top:`${H.y*100}%`,width:`${H.w*100}%`,height:`${H.h*100}%`},onMouseDown:R=>V(R,"move",A),onTouchStart:R=>V(R,"move",A),children:[u.jsx("div",{className:"absolute -top-6 left-0 bg-[var(--accent-primary)] text-white text-[9px] font-bold px-1.5 py-0.5 rounded-t",children:L==null?void 0:L.name}),u.jsx("div",{className:"absolute -bottom-1.5 -right-1.5 w-4 h-4 bg-[var(--accent-primary)] border border-white cursor-nwse-resize z-50 rounded-sm shadow-sm hover:scale-125 transition-transform",onMouseDown:R=>V(R,"resize",A),onTouchStart:R=>V(R,"resize",A)})]})})()]})}),u.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:u.jsx("button",{onClick:()=>U({uploadedImage:null,generatedColors:{},generatedTextures:{},widgetImages:{},generatedExplanations:{},showCropControls:null}),className:"bg-black/70 hover:bg-red-900/80 text-white p-2 rounded-full transition-colors",children:u.jsx(Bt,{className:"w-4 h-4"})})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:wc.map(L=>{const H=!!b[L.id],R=b[L.id]||p,w=A===L.id;return u.jsxs("div",{className:`bg-[var(--bg-tertiary)] rounded-lg p-3 border transition-colors relative flex flex-col gap-3 ${w?"border-[var(--accent-primary)] ring-1 ring-[var(--accent-primary)] bg-[var(--bg-secondary)]":"border-[var(--border-color)] hover:border-[var(--accent-primary)]/50"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-sm text-[var(--text-primary)]",children:L.name}),u.jsx("p",{className:"text-[10px] text-[var(--text-secondary)]",children:L.description})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>Z(L.id),className:`p-1.5 rounded hover:bg-[var(--bg-primary)] ${H?"text-[var(--accent-primary)]":"text-[var(--text-secondary)]"}`,children:u.jsx(HM,{className:"w-3.5 h-3.5"})}),!H&&p&&u.jsx("button",{onClick:()=>U({showCropControls:w?null:L.id}),className:`p-1.5 rounded hover:bg-[var(--bg-primary)] transition-all ${w?"bg-[var(--accent-primary)] text-white shadow-sm":"text-[var(--text-secondary)]"}`,children:u.jsx(dg,{className:"w-3.5 h-3.5"})})]})]}),T==="color"?u.jsx("div",{className:"flex gap-2 h-10 items-center justify-center bg-[var(--bg-primary)]/30 rounded border border-[var(--border-color)]",children:L.targetVars.map(k=>u.jsx("div",{className:"w-6 h-6 rounded-full border border-white/20 shadow-sm",style:{backgroundColor:v[k]},title:k},k))}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-24 rounded w-full bg-cover bg-center border border-white/10 shadow-inner relative overflow-hidden group",style:{backgroundImage:`url(${y[L.id]||R||""})`},children:!y[L.id]&&!R&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[9px]",children:"Text-to-Image Ready"})}),u.jsxs("div",{className:"bg-[var(--bg-primary)] p-2 rounded border border-[var(--border-color)]",children:[u.jsx("textarea",{className:"w-full bg-transparent text-[10px] text-[var(--text-primary)] focus:outline-none resize-none h-10 mb-1",placeholder:"Describe texture...",value:C[L.id]!==void 0?C[L.id]:L.defaultPrompt,onChange:k=>U({promptInputs:{...C,[L.id]:k.target.value}})}),u.jsxs("div",{className:"flex justify-between items-center",children:[R&&u.jsx("button",{onClick:()=>ke(L),className:"text-[9px] text-[var(--text-secondary)] hover:text-[var(--text-primary)] border border-[var(--border-color)] px-1.5 py-0.5 rounded",children:"Use Crop"}),u.jsxs("button",{onClick:()=>Ce(L),disabled:I===L.id,className:"bg-purple-600 hover:bg-purple-700 text-white text-[9px] px-2 py-1 rounded flex items-center gap-1 transition-colors ml-auto",children:[I===L.id?u.jsx(Bt,{className:"w-3 h-3 animate-spin"}):u.jsx(sr,{className:"w-3 h-3"})," Generate"]})]})]})]}),u.jsxs("div",{className:"flex gap-2 mt-auto pt-2 border-t border-[var(--border-color)]",children:[T==="color"&&u.jsxs(u.Fragment,{children:[" ",u.jsxs("button",{onClick:()=>re(L),disabled:I===L.id||!R,className:"flex-1 bg-[var(--bg-secondary)] hover:bg-[var(--bg-primary)] border border-[var(--border-color)] text-[var(--text-primary)] py-1.5 rounded text-xs transition-colors flex items-center justify-center gap-1 disabled:opacity-50",children:[u.jsx(Bt,{className:`w-3 h-3 ${I===L.id?"animate-spin":""}`})," Capture (AI)"]})," ",u.jsx("button",{onClick:()=>re(L,!0),disabled:I===L.id||!R,className:"px-2 bg-[var(--bg-tertiary)] hover:bg-[var(--bg-primary)] border border-[var(--border-color)] text-[var(--text-secondary)] py-1.5 rounded text-xs transition-colors",children:u.jsx("div",{className:"w-3 h-3 border-2 border-current rounded-sm"})})," "]}),u.jsxs("button",{onClick:()=>xe(L),disabled:I===L.id,className:"flex-1 bg-[var(--accent-primary)] hover:bg-[var(--accent-primary)]/90 text-white py-1.5 rounded text-xs transition-colors flex items-center justify-center gap-1 disabled:opacity-50",children:[u.jsx(jn,{className:"w-3 h-3"})," Apply"]})]})]},L.id)})})]})})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Theme Presets"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:Me.map(L=>u.jsxs("button",{onClick:()=>t({...e,theme:L.id}),className:`relative p-4 rounded-xl flex flex-col items-start justify-center transition-all min-h-[80px] text-left ${L.colors} ${e.theme===L.id?"ring-2 ring-[var(--accent-primary)] shadow-lg scale-102":"hover:scale-102 opacity-80 hover:opacity-100 hover:shadow-md"}`,children:[u.jsx("span",{className:`font-bold ${L.id==="light"?"text-gray-900":"text-white"}`,children:L.name}),e.theme===L.id&&u.jsx("div",{className:"absolute top-2 right-2 bg-[var(--accent-primary)] text-white p-1 rounded-full",children:u.jsx(jn,{className:"w-3 h-3"})})]},L.id))})]}),u.jsxs("div",{className:`bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)] transition-all duration-500 ${e.theme==="custom"?"opacity-100":"opacity-60 grayscale"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Custom Palette"}),u.jsxs("div",{className:"flex gap-2",children:[Object.keys(e.customColors.textures||{}).length>0&&u.jsxs("button",{onClick:ce,className:"text-xs px-3 py-1 rounded bg-[var(--bg-tertiary)] hover:bg-red-900/30 hover:text-red-400 border border-[var(--border-color)] hover:border-red-900/50 transition-colors flex items-center gap-1",children:[u.jsx(Jt,{className:"w-3 h-3"})," Clear Textures"]}),u.jsxs("button",{onClick:Je,className:"text-xs px-3 py-1 rounded bg-[var(--bg-tertiary)] hover:bg-[var(--bg-primary)] hover:text-orange-400 border border-[var(--border-color)] transition-colors flex items-center gap-1",children:[u.jsx(Bt,{className:"w-3 h-3"})," Reset Defaults"]}),e.theme!=="custom"&&u.jsxs("button",{onClick:()=>t({...e,theme:"custom"}),className:"text-xs bg-[var(--bg-tertiary)] px-3 py-1 rounded hover:bg-[var(--accent-primary)] hover:text-white transition-colors flex items-center gap-1",children:[u.jsx(_l,{className:"w-3 h-3"})," Enable"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pointer-events-auto",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-xs font-bold uppercase text-[var(--text-secondary)] mb-2 border-b border-[var(--border-color)] pb-1",children:"Structural"}),u.jsx(Se,{label:"Primary Background",propKey:"bgPrimary"}),u.jsx(Se,{label:"Secondary Background",propKey:"bgSecondary"}),u.jsx(Se,{label:"Tertiary Background",propKey:"bgTertiary"}),u.jsx(Se,{label:"Border Color",propKey:"borderColor"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-xs font-bold uppercase text-[var(--text-secondary)] mb-2 border-b border-[var(--border-color)] pb-1",children:"Content & Accent"}),u.jsx(Se,{label:"Primary Text",propKey:"textPrimary"}),u.jsx(Se,{label:"Secondary Text",propKey:"textSecondary"}),u.jsx(Se,{label:"Accent Color",propKey:"accentPrimary"}),u.jsx(Se,{label:"Accent Highlight",propKey:"accentSecondary"})]})]})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Automation & Backup"}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"checkbox",className:"sr-only",checked:e.autoSaveToBrowser,onChange:L=>t({...e,autoSaveToBrowser:L.target.checked})}),u.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${e.autoSaveToBrowser?"bg-[var(--accent-primary)]":"bg-gray-600"}`}),u.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${e.autoSaveToBrowser?"transform translate-x-6":""}`})]}),u.jsxs("div",{className:"ml-3",children:[u.jsx("div",{className:"text-[var(--text-primary)] font-medium",children:"Keep Session in Browser Memory"}),u.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Auto-saves to LocalStorage. Images are omitted to save space."})]})]})}),u.jsxs("div",{className:"flex items-center justify-between border-t border-[var(--border-color)] pt-4",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"checkbox",className:"sr-only",checked:e.autoExportSessionEnabled,onChange:L=>t({...e,autoExportSessionEnabled:L.target.checked})}),u.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${e.autoExportSessionEnabled?"bg-[var(--accent-primary)]":"bg-gray-600"}`}),u.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${e.autoExportSessionEnabled?"transform translate-x-6":""}`})]}),u.jsxs("div",{className:"ml-3",children:[u.jsx("div",{className:"text-[var(--text-primary)] font-medium",children:"Auto-Export Session (ZIP)"}),u.jsxs("div",{className:"text-xs text-[var(--text-secondary)]",children:["Downloads a full backup including images every ",e.autoExportSessionInterval/60," minutes."]})]})]}),e.autoExportSessionEnabled&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Interval:"}),u.jsxs("select",{value:e.autoExportSessionInterval,onChange:L=>t({...e,autoExportSessionInterval:Number(L.target.value)}),className:"bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-2 py-1 text-sm focus:outline-none focus:border-[var(--accent-primary)]",children:[u.jsx("option",{value:180,children:"3 Minutes"}),u.jsx("option",{value:300,children:"5 Minutes"}),u.jsx("option",{value:600,children:"10 Minutes"}),u.jsx("option",{value:1800,children:"30 Minutes"}),u.jsx("option",{value:3600,children:"1 Hour"})]})]})]}),u.jsxs("div",{className:"border-t border-[var(--border-color)] pt-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"checkbox",className:"sr-only",checked:e.autoDownloadEnabled,onChange:L=>t({...e,autoDownloadEnabled:L.target.checked})}),u.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${e.autoDownloadEnabled?"bg-[var(--accent-primary)]":"bg-gray-600"}`}),u.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${e.autoDownloadEnabled?"transform translate-x-6":""}`})]}),u.jsx("div",{className:"ml-3 text-[var(--text-primary)] font-medium",children:"Enable Auto-Download Snapshots"})]})}),e.autoDownloadEnabled&&u.jsxs("div",{className:"mt-3 p-4 bg-[var(--bg-tertiary)] rounded border border-[var(--border-color)] space-y-3 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Bt,{className:"w-5 h-5 text-[var(--accent-secondary)]"}),u.jsx("span",{className:"text-sm",children:"Interval (seconds):"})]}),u.jsx("input",{type:"number",min:"5",max:"3600",value:e.autoDownloadInterval,onChange:L=>t({...e,autoDownloadInterval:Math.max(5,parseInt(L.target.value)||30)}),className:"w-24 bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-2 py-1 text-center focus:outline-none focus:border-[var(--accent-primary)]"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm ml-7",children:"Target File:"}),u.jsxs("select",{value:e.autoDownloadFileId||"",onChange:L=>t({...e,autoDownloadFileId:L.target.value}),className:"w-48 bg-[var(--bg-primary)] border border-[var(--border-color)] rounded px-2 py-1 text-sm focus:outline-none focus:border-[var(--accent-primary)]",children:[u.jsx("option",{value:"",disabled:!0,children:"Select a file..."}),n.map(L=>u.jsx("option",{value:L.id,children:L.name},L.id))]})]}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] italic mt-1 ml-7",children:"* This specific file will be downloaded repeatedly."})]})]})]})]}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Open Files"}),u.jsxs("span",{className:"text-xs bg-[var(--accent-primary)]/20 text-[var(--accent-secondary)] px-2 py-1 rounded border border-[var(--accent-primary)]/30",children:[n.length," Active"]})]}),u.jsx("div",{className:"grid gap-2",children:n.map(L=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--bg-tertiary)] rounded border border-[var(--border-color)] hover:border-[var(--accent-primary)]/50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(_a,{className:"w-5 h-5 text-[var(--accent-secondary)]"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:L.name}),u.jsx("p",{className:"text-xs text-[var(--text-secondary)] uppercase",children:L.language})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-xs text-[var(--text-secondary)] font-mono",children:[L.content.length," chars"]}),u.jsx("button",{onClick:()=>{const H=new Blob([L.content],{type:"text/plain"}),R=URL.createObjectURL(H),w=document.createElement("a");w.href=R,w.download=L.name,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(R)},className:"text-xs text-[var(--accent-secondary)] hover:text-white hover:underline mt-1 cursor-pointer",children:"Download Now"})]})]},L.id))})]})]})]})};function dL(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var r=i.reduce(function(s,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?s.concat(c.map(function(f){var m,p;return(p=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&p!==void 0?p:0})):s},[]);if(r.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");i=i.map(function(s){return s.replace(o,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var a=i[0];return t.forEach(function(s,l){var c=a.match(/(?:^|\n)( *)$/),f=c?c[1]:"",m=s;typeof s=="string"&&s.includes(`
`)&&(m=String(s).split(`
`).map(function(p,g){return g===0?p:""+f+p}).join(`
`)),a+=m+i[l+1]}),a}const fL="modulepreload",hL=function(e){return"/b-code-walker/"+e},hx={},vt=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=hL(l),l in hx)return;hx[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":fL,c||(m.as="script"),m.crossOrigin="",m.href=l,s&&m.setAttribute("nonce",s),document.head.appendChild(m),c)return new Promise((p,g)=>{m.addEventListener("load",p),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return r.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};var US={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Ot,function(){var n=1e3,i=6e4,r=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",f="week",m="month",p="quarter",g="year",b="date",x="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var O=["th","st","nd","rd"],B=S%100;return"["+S+(O[(B-20)%10]||O[B]||O[0])+"]"}},_=function(S,O,B){var U=String(S);return!U||U.length>=O?S:""+Array(O+1-U.length).join(B)+S},T={s:_,z:function(S){var O=-S.utcOffset(),B=Math.abs(O),U=Math.floor(B/60),J=B%60;return(O<=0?"+":"-")+_(U,2,"0")+":"+_(J,2,"0")},m:function S(O,B){if(O.date()<B.date())return-S(B,O);var U=12*(B.year()-O.year())+(B.month()-O.month()),J=O.clone().add(U,m),z=B-J<0,Z=O.clone().add(U+(z?-1:1),m);return+(-(U+(B-J)/(z?J-Z:Z-J))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:m,y:g,w:f,d:c,D:b,h:l,m:s,s:a,ms:o,Q:p}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},A="en",I={};I[A]=y;var N="$isDayjsObject",P=function(S){return S instanceof D||!(!S||!S[N])},M=function S(O,B,U){var J;if(!O)return A;if(typeof O=="string"){var z=O.toLowerCase();I[z]&&(J=z),B&&(I[z]=B,J=z);var Z=O.split("-");if(!J&&Z.length>1)return S(Z[0])}else{var $=O.name;I[$]=O,J=$}return!U&&J&&(A=J),J||!U&&A},q=function(S,O){if(P(S))return S.clone();var B=typeof O=="object"?O:{};return B.date=S,B.args=arguments,new D(B)},X=T;X.l=M,X.i=P,X.w=function(S,O){return q(S,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var D=function(){function S(B){this.$L=M(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[N]=!0}var O=S.prototype;return O.parse=function(B){this.$d=function(U){var J=U.date,z=U.utc;if(J===null)return new Date(NaN);if(X.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var Z=J.match(C);if(Z){var $=Z[2]-1||0,V=(Z[7]||"0").substring(0,3);return z?new Date(Date.UTC(Z[1],$,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,V)):new Date(Z[1],$,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,V)}}return new Date(J)}(B),this.init()},O.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},O.$utils=function(){return X},O.isValid=function(){return this.$d.toString()!==x},O.isSame=function(B,U){var J=q(B);return this.startOf(U)<=J&&J<=this.endOf(U)},O.isAfter=function(B,U){return q(B)<this.startOf(U)},O.isBefore=function(B,U){return this.endOf(U)<q(B)},O.$g=function(B,U,J){return X.u(B)?this[U]:this.set(J,B)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(B,U){var J=this,z=!!X.u(U)||U,Z=X.p(B),$=function(Se,Me){var Te=X.w(J.$u?Date.UTC(J.$y,Me,Se):new Date(J.$y,Me,Se),J);return z?Te:Te.endOf(c)},V=function(Se,Me){return X.w(J.toDate()[Se].apply(J.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(Me)),J)},oe=this.$W,ae=this.$M,re=this.$D,Ce="set"+(this.$u?"UTC":"");switch(Z){case g:return z?$(1,0):$(31,11);case m:return z?$(1,ae):$(0,ae+1);case f:var ke=this.$locale().weekStart||0,xe=(oe<ke?oe+7:oe)-ke;return $(z?re-xe:re+(6-xe),ae);case c:case b:return V(Ce+"Hours",0);case l:return V(Ce+"Minutes",1);case s:return V(Ce+"Seconds",2);case a:return V(Ce+"Milliseconds",3);default:return this.clone()}},O.endOf=function(B){return this.startOf(B,!1)},O.$set=function(B,U){var J,z=X.p(B),Z="set"+(this.$u?"UTC":""),$=(J={},J[c]=Z+"Date",J[b]=Z+"Date",J[m]=Z+"Month",J[g]=Z+"FullYear",J[l]=Z+"Hours",J[s]=Z+"Minutes",J[a]=Z+"Seconds",J[o]=Z+"Milliseconds",J)[z],V=z===c?this.$D+(U-this.$W):U;if(z===m||z===g){var oe=this.clone().set(b,1);oe.$d[$](V),oe.init(),this.$d=oe.set(b,Math.min(this.$D,oe.daysInMonth())).$d}else $&&this.$d[$](V);return this.init(),this},O.set=function(B,U){return this.clone().$set(B,U)},O.get=function(B){return this[X.p(B)]()},O.add=function(B,U){var J,z=this;B=Number(B);var Z=X.p(U),$=function(ae){var re=q(z);return X.w(re.date(re.date()+Math.round(ae*B)),z)};if(Z===m)return this.set(m,this.$M+B);if(Z===g)return this.set(g,this.$y+B);if(Z===c)return $(1);if(Z===f)return $(7);var V=(J={},J[s]=i,J[l]=r,J[a]=n,J)[Z]||1,oe=this.$d.getTime()+B*V;return X.w(oe,this)},O.subtract=function(B,U){return this.add(-1*B,U)},O.format=function(B){var U=this,J=this.$locale();if(!this.isValid())return J.invalidDate||x;var z=B||"YYYY-MM-DDTHH:mm:ssZ",Z=X.z(this),$=this.$H,V=this.$m,oe=this.$M,ae=J.weekdays,re=J.months,Ce=J.meridiem,ke=function(Me,Te,Je,ce){return Me&&(Me[Te]||Me(U,z))||Je[Te].slice(0,ce)},xe=function(Me){return X.s($%12||12,Me,"0")},Se=Ce||function(Me,Te,Je){var ce=Me<12?"AM":"PM";return Je?ce.toLowerCase():ce};return z.replace(v,function(Me,Te){return Te||function(Je){switch(Je){case"YY":return String(U.$y).slice(-2);case"YYYY":return X.s(U.$y,4,"0");case"M":return oe+1;case"MM":return X.s(oe+1,2,"0");case"MMM":return ke(J.monthsShort,oe,re,3);case"MMMM":return ke(re,oe);case"D":return U.$D;case"DD":return X.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return ke(J.weekdaysMin,U.$W,ae,2);case"ddd":return ke(J.weekdaysShort,U.$W,ae,3);case"dddd":return ae[U.$W];case"H":return String($);case"HH":return X.s($,2,"0");case"h":return xe(1);case"hh":return xe(2);case"a":return Se($,V,!0);case"A":return Se($,V,!1);case"m":return String(V);case"mm":return X.s(V,2,"0");case"s":return String(U.$s);case"ss":return X.s(U.$s,2,"0");case"SSS":return X.s(U.$ms,3,"0");case"Z":return Z}return null}(Me)||Z.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(B,U,J){var z,Z=this,$=X.p(U),V=q(B),oe=(V.utcOffset()-this.utcOffset())*i,ae=this-V,re=function(){return X.m(Z,V)};switch($){case g:z=re()/12;break;case m:z=re();break;case p:z=re()/3;break;case f:z=(ae-oe)/6048e5;break;case c:z=(ae-oe)/864e5;break;case l:z=ae/r;break;case s:z=ae/i;break;case a:z=ae/n;break;default:z=ae}return J?z:X.a(z)},O.daysInMonth=function(){return this.endOf(m).$D},O.$locale=function(){return I[this.$L]},O.locale=function(B,U){if(!B)return this.$L;var J=this.clone(),z=M(B,U,!0);return z&&(J.$L=z),J},O.clone=function(){return X.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},S}(),Y=D.prototype;return q.prototype=Y,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",m],["$y",g],["$D",b]].forEach(function(S){Y[S[1]]=function(O){return this.$g(O,S[0],S[1])}}),q.extend=function(S,O){return S.$i||(S(O,D,q),S.$i=!0),q},q.locale=M,q.isDayjs=P,q.unix=function(S){return q(1e3*S)},q.en=I[A],q.Ls=I,q.p={},q})})(US);var pL=US.exports;const mL=Rl(pL);var PS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,i=/&(newline|tab);/gi,r=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,a=[".","/"];e.BLANK_URL="about:blank";function s(f){return a.indexOf(f[0])>-1}function l(f){var m=f.replace(r,"");return m.replace(n,function(p,g){return String.fromCharCode(g)})}function c(f){if(!f)return e.BLANK_URL;var m=l(f).replace(i,"").replace(r,"").trim();if(!m)return e.BLANK_URL;if(s(m))return m;var p=m.match(o);if(!p)return m;var g=p[0];return t.test(g)?e.BLANK_URL:m}e.sanitizeUrl=c})(PS);var gL={value:()=>{}};function zS(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Zc(n)}function Zc(e){this._=e}function yL(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Zc.prototype=zS.prototype={constructor:Zc,on:function(e,t){var n=this._,i=yL(e+"",n),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(e=i[o]).type)&&(r=vL(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(r=(e=i[o]).type)n[r]=px(n[r],e.name,t);else if(t==null)for(r in n)n[r]=px(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zc(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};function vL(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function px(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=gL,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ap="http://www.w3.org/1999/xhtml";const mx={svg:"http://www.w3.org/2000/svg",xhtml:Ap,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Od(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),mx.hasOwnProperty(t)?{space:mx[t],local:e}:e}function xL(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ap&&t.documentElement.namespaceURI===Ap?t.createElement(e):t.createElementNS(n,e)}}function bL(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jS(e){var t=Od(e);return(t.local?bL:xL)(t)}function _L(){}function hg(e){return e==null?_L:function(){return this.querySelector(e)}}function CL(e){typeof e!="function"&&(e=hg(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,s=i[r]=new Array(a),l,c,f=0;f<a;++f)(l=o[f])&&(c=e.call(l,l.__data__,f,o))&&("__data__"in l&&(c.__data__=l.__data__),s[f]=c);return new Gn(i,this._parents)}function SL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function TL(){return[]}function HS(e){return e==null?TL:function(){return this.querySelectorAll(e)}}function wL(e){return function(){return SL(e.apply(this,arguments))}}function EL(e){typeof e=="function"?e=wL(e):e=HS(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(i.push(e.call(l,l.__data__,c,a)),r.push(l));return new Gn(i,r)}function $S(e){return function(){return this.matches(e)}}function qS(e){return function(t){return t.matches(e)}}var AL=Array.prototype.find;function NL(e){return function(){return AL.call(this.children,e)}}function kL(){return this.firstElementChild}function RL(e){return this.select(e==null?kL:NL(typeof e=="function"?e:qS(e)))}var IL=Array.prototype.filter;function ML(){return Array.from(this.children)}function LL(e){return function(){return IL.call(this.children,e)}}function DL(e){return this.selectAll(e==null?ML:LL(typeof e=="function"?e:qS(e)))}function BL(e){typeof e!="function"&&(e=$S(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,s=i[r]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Gn(i,this._parents)}function GS(e){return new Array(e.length)}function FL(){return new Gn(this._enter||this._groups.map(GS),this._parents)}function $u(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$u.prototype={constructor:$u,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function OL(e){return function(){return e}}function UL(e,t,n,i,r,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new $u(e,o[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function PL(e,t,n,i,r,o,a){var s,l,c=new Map,f=t.length,m=o.length,p=new Array(f),g;for(s=0;s<f;++s)(l=t[s])&&(p[s]=g=a.call(l,l.__data__,s,t)+"",c.has(g)?r[s]=l:c.set(g,l));for(s=0;s<m;++s)g=a.call(e,o[s],s,o)+"",(l=c.get(g))?(i[s]=l,l.__data__=o[s],c.delete(g)):n[s]=new $u(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&c.get(p[s])===l&&(r[s]=l)}function zL(e){return e.__data__}function jL(e,t){if(!arguments.length)return Array.from(this,zL);var n=t?PL:UL,i=this._parents,r=this._groups;typeof e!="function"&&(e=OL(e));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var f=i[c],m=r[c],p=m.length,g=HL(e.call(f,f&&f.__data__,c,i)),b=g.length,x=s[c]=new Array(b),C=a[c]=new Array(b),v=l[c]=new Array(p);n(f,m,x,C,v,g,t);for(var y=0,_=0,T,A;y<b;++y)if(T=x[y]){for(y>=_&&(_=y+1);!(A=C[_])&&++_<b;);T._next=A||null}}return a=new Gn(a,i),a._enter=s,a._exit=l,a}function HL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $L(){return new Gn(this._exit||this._groups.map(GS),this._parents)}function qL(e,t,n){var i=this.enter(),r=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function GL(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var c=n[l],f=i[l],m=c.length,p=s[l]=new Array(m),g,b=0;b<m;++b)(g=c[b]||f[b])&&(p[b]=g);for(;l<r;++l)s[l]=n[l];return new Gn(s,this._parents)}function VL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function YL(e){e||(e=WL);function t(m,p){return m&&p?e(m.__data__,p.__data__):!m-!p}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a=n[o],s=a.length,l=r[o]=new Array(s),c,f=0;f<s;++f)(c=a[f])&&(l[f]=c);l.sort(t)}return new Gn(r,this._parents).order()}function WL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function JL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function KL(){return Array.from(this)}function XL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function ZL(){let e=0;for(const t of this)++e;return e}function QL(){return!this.node()}function eD(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],o=0,a=r.length,s;o<a;++o)(s=r[o])&&e.call(s,s.__data__,o,r);return this}function tD(e){return function(){this.removeAttribute(e)}}function nD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iD(e,t){return function(){this.setAttribute(e,t)}}function rD(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function oD(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function aD(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sD(e,t){var n=Od(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?nD:tD:typeof t=="function"?n.local?aD:oD:n.local?rD:iD)(n,t))}function VS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lD(e){return function(){this.style.removeProperty(e)}}function cD(e,t,n){return function(){this.style.setProperty(e,t,n)}}function uD(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function dD(e,t,n){return arguments.length>1?this.each((t==null?lD:typeof t=="function"?uD:cD)(e,t,n??"")):Oa(this.node(),e)}function Oa(e,t){return e.style.getPropertyValue(t)||VS(e).getComputedStyle(e,null).getPropertyValue(t)}function fD(e){return function(){delete this[e]}}function hD(e,t){return function(){this[e]=t}}function pD(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function mD(e,t){return arguments.length>1?this.each((t==null?fD:typeof t=="function"?pD:hD)(e,t)):this.node()[e]}function YS(e){return e.trim().split(/^|\s+/)}function pg(e){return e.classList||new WS(e)}function WS(e){this._node=e,this._names=YS(e.getAttribute("class")||"")}WS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function JS(e,t){for(var n=pg(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function KS(e,t){for(var n=pg(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function gD(e){return function(){JS(this,e)}}function yD(e){return function(){KS(this,e)}}function vD(e,t){return function(){(t.apply(this,arguments)?JS:KS)(this,e)}}function xD(e,t){var n=YS(e+"");if(arguments.length<2){for(var i=pg(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?vD:t?gD:yD)(n,t))}function bD(){this.textContent=""}function _D(e){return function(){this.textContent=e}}function CD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function SD(e){return arguments.length?this.each(e==null?bD:(typeof e=="function"?CD:_D)(e)):this.node().textContent}function TD(){this.innerHTML=""}function wD(e){return function(){this.innerHTML=e}}function ED(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function AD(e){return arguments.length?this.each(e==null?TD:(typeof e=="function"?ED:wD)(e)):this.node().innerHTML}function ND(){this.nextSibling&&this.parentNode.appendChild(this)}function kD(){return this.each(ND)}function RD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ID(){return this.each(RD)}function MD(e){var t=typeof e=="function"?e:jS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function LD(){return null}function DD(e,t){var n=typeof e=="function"?e:jS(e),i=t==null?LD:typeof t=="function"?t:hg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function BD(){var e=this.parentNode;e&&e.removeChild(this)}function FD(){return this.each(BD)}function OD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function UD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function PD(e){return this.select(e?UD:OD)}function zD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jD(e){return function(t){e.call(this,t,this.__data__)}}function HD(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function $D(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function qD(e,t,n){return function(){var i=this.__on,r,o=jD(t);if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function GD(e,t,n){var i=HD(e+""),r,o=i.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,f;l<c;++l)for(r=0,f=s[l];r<o;++r)if((a=i[r]).type===f.type&&a.name===f.name)return f.value}return}for(s=t?qD:$D,r=0;r<o;++r)this.each(s(i[r],t,n));return this}function XS(e,t,n){var i=VS(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function VD(e,t){return function(){return XS(this,e,t)}}function YD(e,t){return function(){return XS(this,e,t.apply(this,arguments))}}function WD(e,t){return this.each((typeof t=="function"?YD:VD)(e,t))}function*JD(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var ZS=[null];function Gn(e,t){this._groups=e,this._parents=t}function ql(){return new Gn([[document.documentElement]],ZS)}function KD(){return this}Gn.prototype=ql.prototype={constructor:Gn,select:CL,selectAll:EL,selectChild:RL,selectChildren:DL,filter:BL,data:jL,enter:FL,exit:$L,join:qL,merge:GL,selection:KD,order:VL,sort:YL,call:JL,nodes:KL,node:XL,size:ZL,empty:QL,each:eD,attr:sD,style:dD,property:mD,classed:xD,text:SD,html:AD,raise:kD,lower:ID,append:MD,insert:DD,remove:FD,clone:PD,datum:zD,on:GD,dispatch:WD,[Symbol.iterator]:JD};function Wn(e){return typeof e=="string"?new Gn([[document.querySelector(e)]],[document.documentElement]):new Gn([[e]],ZS)}function mg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function QS(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Gl(){}var Cl=.7,qu=1/Cl,Ca="\\s*([+-]?\\d+)\\s*",Sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XD=/^#([0-9a-f]{3,8})$/,ZD=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),QD=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),e6=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${Sl}\\)$`),t6=new RegExp(`^rgba\\(${Li},${Li},${Li},${Sl}\\)$`),n6=new RegExp(`^hsl\\(${Sl},${Li},${Li}\\)$`),i6=new RegExp(`^hsla\\(${Sl},${Li},${Li},${Sl}\\)$`),gx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mg(Gl,Tl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yx,formatHex:yx,formatHex8:r6,formatHsl:o6,formatRgb:vx,toString:vx});function yx(){return this.rgb().formatHex()}function r6(){return this.rgb().formatHex8()}function o6(){return eT(this).formatHsl()}function vx(){return this.rgb().formatRgb()}function Tl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xx(t):n===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ec(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ec(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZD.exec(e))?new Sn(t[1],t[2],t[3],1):(t=QD.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e6.exec(e))?Ec(t[1],t[2],t[3],t[4]):(t=t6.exec(e))?Ec(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n6.exec(e))?Cx(t[1],t[2]/100,t[3]/100,1):(t=i6.exec(e))?Cx(t[1],t[2]/100,t[3]/100,t[4]):gx.hasOwnProperty(e)?xx(gx[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function xx(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function Ec(e,t,n,i){return i<=0&&(e=t=n=NaN),new Sn(e,t,n,i)}function a6(e){return e instanceof Gl||(e=Tl(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function Np(e,t,n,i){return arguments.length===1?a6(e):new Sn(e,t,n,i??1)}function Sn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}mg(Sn,Np,QS(Gl,{brighter(e){return e=e==null?qu:Math.pow(qu,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cl:Math.pow(Cl,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(_o(this.r),_o(this.g),_o(this.b),Gu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bx,formatHex:bx,formatHex8:s6,formatRgb:_x,toString:_x}));function bx(){return`#${po(this.r)}${po(this.g)}${po(this.b)}`}function s6(){return`#${po(this.r)}${po(this.g)}${po(this.b)}${po((isNaN(this.opacity)?1:this.opacity)*255)}`}function _x(){const e=Gu(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function Gu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function po(e){return e=_o(e),(e<16?"0":"")+e.toString(16)}function Cx(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mi(e,t,n,i)}function eT(e){if(e instanceof mi)return new mi(e.h,e.s,e.l,e.opacity);if(e instanceof Gl||(e=Tl(e)),!e)return new mi;if(e instanceof mi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(t===o?a=(n-i)/s+(n<i)*6:n===o?a=(i-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new mi(a,s,l,e.opacity)}function l6(e,t,n,i){return arguments.length===1?eT(e):new mi(e,t,n,i??1)}function mi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}mg(mi,l6,QS(Gl,{brighter(e){return e=e==null?qu:Math.pow(qu,e),new mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cl:Math.pow(Cl,e),new mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Sn(Jf(e>=240?e-240:e+120,r,i),Jf(e,r,i),Jf(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new mi(Sx(this.h),Ac(this.s),Ac(this.l),Gu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gu(this.opacity);return`${e===1?"hsl(":"hsla("}${Sx(this.h)}, ${Ac(this.s)*100}%, ${Ac(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Sx(e){return e=(e||0)%360,e<0?e+360:e}function Ac(e){return Math.max(0,Math.min(1,e||0))}function Jf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gg=e=>()=>e;function tT(e,t){return function(n){return e+n*t}}function c6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function IH(e,t){var n=t-e;return n?tT(e,n>180||n<-180?n-360*Math.round(n/360):n):gg(isNaN(e)?t:e)}function u6(e){return(e=+e)==1?nT:function(t,n){return n-t?c6(t,n,e):gg(isNaN(t)?n:t)}}function nT(e,t){var n=t-e;return n?tT(e,n):gg(isNaN(e)?t:e)}const Tx=function e(t){var n=u6(t);function i(r,o){var a=n((r=Np(r)).r,(o=Np(o)).r),s=n(r.g,o.g),l=n(r.b,o.b),c=nT(r.opacity,o.opacity);return function(f){return r.r=a(f),r.g=s(f),r.b=l(f),r.opacity=c(f),r+""}}return i.gamma=e,i}(1);function Er(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var kp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kf=new RegExp(kp.source,"g");function d6(e){return function(){return e}}function f6(e){return function(t){return e(t)+""}}function h6(e,t){var n=kp.lastIndex=Kf.lastIndex=0,i,r,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(i=kp.exec(e))&&(r=Kf.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(i=i[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Er(i,r)})),n=Kf.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?f6(l[0].x):d6(t):(t=l.length,function(c){for(var f=0,m;f<t;++f)s[(m=l[f]).i]=m.x(c);return s.join("")})}var wx=180/Math.PI,Rp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iT(e,t,n,i,r,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*wx,skewX:Math.atan(l)*wx,scaleX:a,scaleY:s}}var Nc;function p6(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rp:iT(t.a,t.b,t.c,t.d,t.e,t.f)}function m6(e){return e==null||(Nc||(Nc=document.createElementNS("http://www.w3.org/2000/svg","g")),Nc.setAttribute("transform",e),!(e=Nc.transform.baseVal.consolidate()))?Rp:(e=e.matrix,iT(e.a,e.b,e.c,e.d,e.e,e.f))}function rT(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function o(c,f,m,p,g,b){if(c!==m||f!==p){var x=g.push("translate(",null,t,null,n);b.push({i:x-4,x:Er(c,m)},{i:x-2,x:Er(f,p)})}else(m||p)&&g.push("translate("+m+t+p+n)}function a(c,f,m,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:m.push(r(m)+"rotate(",null,i)-2,x:Er(c,f)})):f&&m.push(r(m)+"rotate("+f+i)}function s(c,f,m,p){c!==f?p.push({i:m.push(r(m)+"skewX(",null,i)-2,x:Er(c,f)}):f&&m.push(r(m)+"skewX("+f+i)}function l(c,f,m,p,g,b){if(c!==m||f!==p){var x=g.push(r(g)+"scale(",null,",",null,")");b.push({i:x-4,x:Er(c,m)},{i:x-2,x:Er(f,p)})}else(m!==1||p!==1)&&g.push(r(g)+"scale("+m+","+p+")")}return function(c,f){var m=[],p=[];return c=e(c),f=e(f),o(c.translateX,c.translateY,f.translateX,f.translateY,m,p),a(c.rotate,f.rotate,m,p),s(c.skewX,f.skewX,m,p),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,m,p),c=f=null,function(g){for(var b=-1,x=p.length,C;++b<x;)m[(C=p[b]).i]=C.x(g);return m.join("")}}}var g6=rT(p6,"px, ","px)","deg)"),y6=rT(m6,", ",")",")"),Ua=0,Os=0,Ts=0,oT=1e3,Vu,Us,Yu=0,No=0,Ud=0,wl=typeof performance=="object"&&performance.now?performance:Date,aT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yg(){return No||(aT(v6),No=wl.now()+Ud)}function v6(){No=0}function Wu(){this._call=this._time=this._next=null}Wu.prototype=sT.prototype={constructor:Wu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yg():+n)+(t==null?0:+t),!this._next&&Us!==this&&(Us?Us._next=this:Vu=this,Us=this),this._call=e,this._time=n,Ip()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ip())}};function sT(e,t,n){var i=new Wu;return i.restart(e,t,n),i}function x6(){yg(),++Ua;for(var e=Vu,t;e;)(t=No-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ua}function Ex(){No=(Yu=wl.now())+Ud,Ua=Os=0;try{x6()}finally{Ua=0,_6(),No=0}}function b6(){var e=wl.now(),t=e-Yu;t>oT&&(Ud-=t,Yu=e)}function _6(){for(var e,t=Vu,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vu=n);Us=e,Ip(i)}function Ip(e){if(!Ua){Os&&(Os=clearTimeout(Os));var t=e-No;t>24?(e<1/0&&(Os=setTimeout(Ex,e-wl.now()-Ud)),Ts&&(Ts=clearInterval(Ts))):(Ts||(Yu=wl.now(),Ts=setInterval(b6,oT)),Ua=1,aT(Ex))}}function Ax(e,t,n){var i=new Wu;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var C6=zS("start","end","cancel","interrupt"),S6=[],lT=0,Nx=1,Mp=2,Qc=3,kx=4,Lp=5,eu=6;function Pd(e,t,n,i,r,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;T6(e,n,{name:t,index:i,group:r,on:C6,tween:S6,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lT})}function vg(e,t){var n=_i(e,t);if(n.state>lT)throw new Error("too late; already scheduled");return n}function Pi(e,t){var n=_i(e,t);if(n.state>Qc)throw new Error("too late; already running");return n}function _i(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function T6(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=sT(o,0,n.time);function o(c){n.state=Nx,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var f,m,p,g;if(n.state!==Nx)return l();for(f in i)if(g=i[f],g.name===n.name){if(g.state===Qc)return Ax(a);g.state===kx?(g.state=eu,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[f]):+f<t&&(g.state=eu,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[f])}if(Ax(function(){n.state===Qc&&(n.state=kx,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Mp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Mp){for(n.state=Qc,r=new Array(p=n.tween.length),f=0,m=-1;f<p;++f)(g=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++m]=g);r.length=m+1}}function s(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Lp,1),m=-1,p=r.length;++m<p;)r[m].call(e,f);n.state===Lp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=eu,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function w6(e,t){var n=e.__transition,i,r,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((i=n[a]).name!==t){o=!1;continue}r=i.state>Mp&&i.state<Lp,i.state=eu,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[a]}o&&delete e.__transition}}function E6(e){return this.each(function(){w6(this,e)})}function A6(e,t){var n,i;return function(){var r=Pi(this,e),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===t){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function N6(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=Pi(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function k6(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=_i(this.node(),n).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===e)return a.value;return null}return this.each((t==null?A6:N6)(n,e,t))}function xg(e,t,n){var i=e._id;return e.each(function(){var r=Pi(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return _i(r,i).value[t]}}function cT(e,t){var n;return(typeof t=="number"?Er:t instanceof Tl?Tx:(n=Tl(t))?(t=n,Tx):h6)(e,t)}function R6(e){return function(){this.removeAttribute(e)}}function I6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function M6(e,t,n){var i,r=n+"",o;return function(){var a=this.getAttribute(e);return a===r?null:a===i?o:o=t(i=a,n)}}function L6(e,t,n){var i,r=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===i?o:o=t(i=a,n)}}function D6(e,t,n){var i,r,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===i&&l===r?o:(r=l,o=t(i=a,s)))}}function B6(e,t,n){var i,r,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===i&&l===r?o:(r=l,o=t(i=a,s)))}}function F6(e,t){var n=Od(e),i=n==="transform"?y6:cT;return this.attrTween(e,typeof t=="function"?(n.local?B6:D6)(n,i,xg(this,"attr."+e,t)):t==null?(n.local?I6:R6)(n):(n.local?L6:M6)(n,i,t))}function O6(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function U6(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function P6(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&U6(e,o)),n}return r._value=t,r}function z6(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&O6(e,o)),n}return r._value=t,r}function j6(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Od(e);return this.tween(n,(i.local?P6:z6)(i,t))}function H6(e,t){return function(){vg(this,e).delay=+t.apply(this,arguments)}}function $6(e,t){return t=+t,function(){vg(this,e).delay=t}}function q6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?H6:$6)(t,e)):_i(this.node(),t).delay}function G6(e,t){return function(){Pi(this,e).duration=+t.apply(this,arguments)}}function V6(e,t){return t=+t,function(){Pi(this,e).duration=t}}function Y6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?G6:V6)(t,e)):_i(this.node(),t).duration}function W6(e,t){if(typeof t!="function")throw new Error;return function(){Pi(this,e).ease=t}}function J6(e){var t=this._id;return arguments.length?this.each(W6(t,e)):_i(this.node(),t).ease}function K6(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Pi(this,e).ease=n}}function X6(e){if(typeof e!="function")throw new Error;return this.each(K6(this._id,e))}function Z6(e){typeof e!="function"&&(e=$S(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,s=i[r]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new mr(i,this._parents,this._name,this._id)}function Q6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l=t[s],c=n[s],f=l.length,m=a[s]=new Array(f),p,g=0;g<f;++g)(p=l[g]||c[g])&&(m[g]=p);for(;s<i;++s)a[s]=t[s];return new mr(a,this._parents,this._name,this._id)}function eB(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function tB(e,t,n){var i,r,o=eB(t)?vg:Pi;return function(){var a=o(this,e),s=a.on;s!==i&&(r=(i=s).copy()).on(t,n),a.on=r}}function nB(e,t){var n=this._id;return arguments.length<2?_i(this.node(),n).on.on(e):this.each(tB(n,e,t))}function iB(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function rB(){return this.on("end.remove",iB(this._id))}function oB(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hg(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s=i[a],l=s.length,c=o[a]=new Array(l),f,m,p=0;p<l;++p)(f=s[p])&&(m=e.call(f,f.__data__,p,s))&&("__data__"in f&&(m.__data__=f.__data__),c[p]=m,Pd(c[p],t,n,p,c,_i(f,n)));return new mr(o,this._parents,t,n)}function aB(e){var t=this._name,n=this._id;typeof e!="function"&&(e=HS(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l=i[s],c=l.length,f,m=0;m<c;++m)if(f=l[m]){for(var p=e.call(f,f.__data__,m,l),g,b=_i(f,n),x=0,C=p.length;x<C;++x)(g=p[x])&&Pd(g,t,n,x,p,b);o.push(p),a.push(f)}return new mr(o,a,t,n)}var sB=ql.prototype.constructor;function lB(){return new sB(this._groups,this._parents)}function cB(e,t){var n,i,r;return function(){var o=Oa(this,e),a=(this.style.removeProperty(e),Oa(this,e));return o===a?null:o===n&&a===i?r:r=t(n=o,i=a)}}function uT(e){return function(){this.style.removeProperty(e)}}function uB(e,t,n){var i,r=n+"",o;return function(){var a=Oa(this,e);return a===r?null:a===i?o:o=t(i=a,n)}}function dB(e,t,n){var i,r,o;return function(){var a=Oa(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Oa(this,e))),a===l?null:a===i&&l===r?o:(r=l,o=t(i=a,s))}}function fB(e,t){var n,i,r,o="style."+t,a="end."+o,s;return function(){var l=Pi(this,e),c=l.on,f=l.value[o]==null?s||(s=uT(t)):void 0;(c!==n||r!==f)&&(i=(n=c).copy()).on(a,r=f),l.on=i}}function hB(e,t,n){var i=(e+="")=="transform"?g6:cT;return t==null?this.styleTween(e,cB(e,i)).on("end.style."+e,uT(e)):typeof t=="function"?this.styleTween(e,dB(e,i,xg(this,"style."+e,t))).each(fB(this._id,e)):this.styleTween(e,uB(e,i,t),n).on("end.style."+e,null)}function pB(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function mB(e,t,n){var i,r;function o(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&pB(e,a,n)),i}return o._value=t,o}function gB(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,mB(e,t,n??""))}function yB(e){return function(){this.textContent=e}}function vB(e){return function(){var t=e(this);this.textContent=t??""}}function xB(e){return this.tween("text",typeof e=="function"?vB(xg(this,"text",e)):yB(e==null?"":e+""))}function bB(e){return function(t){this.textContent=e.call(this,t)}}function _B(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&bB(r)),t}return i._value=e,i}function CB(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_B(e))}function SB(){for(var e=this._name,t=this._id,n=dT(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var f=_i(l,t);Pd(l,e,n,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new mr(i,this._parents,e,n)}function TB(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--r===0&&o()}};n.each(function(){var c=Pi(this,i),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),r===0&&o()})}var wB=0;function mr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function dT(){return++wB}var Yi=ql.prototype;mr.prototype={constructor:mr,select:oB,selectAll:aB,selectChild:Yi.selectChild,selectChildren:Yi.selectChildren,filter:Z6,merge:Q6,selection:lB,transition:SB,call:Yi.call,nodes:Yi.nodes,node:Yi.node,size:Yi.size,empty:Yi.empty,each:Yi.each,on:nB,attr:F6,attrTween:j6,style:hB,styleTween:gB,text:xB,textTween:CB,remove:rB,tween:k6,delay:q6,duration:Y6,ease:J6,easeVarying:X6,end:TB,[Symbol.iterator]:Yi[Symbol.iterator]};function EB(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var AB={time:null,delay:0,duration:250,ease:EB};function NB(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function kB(e){var t,n;e instanceof mr?(t=e._id,e=e._name):(t=dT(),(n=AB).time=yg(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&Pd(l,e,t,c,a,n||NB(l,t));return new mr(i,this._parents,e,t)}ql.prototype.interrupt=E6;ql.prototype.transition=kB;const MH=Math.abs,LH=Math.atan2,DH=Math.cos,BH=Math.max,FH=Math.min,OH=Math.sin,UH=Math.sqrt,Rx=1e-12,bg=Math.PI,Ix=bg/2,PH=2*bg;function zH(e){return e>1?0:e<-1?bg:Math.acos(e)}function jH(e){return e>=1?Ix:e<=-1?-Ix:Math.asin(e)}function fT(e){this._context=e}fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function RB(e){return new fT(e)}class hT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function IB(e){return new hT(e,!0)}function MB(e){return new hT(e,!1)}function Xr(){}function Ju(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function zd(e){this._context=e}zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ju(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ju(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LB(e){return new zd(e)}function pT(e){this._context=e}pT.prototype={areaStart:Xr,areaEnd:Xr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ju(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DB(e){return new pT(e)}function mT(e){this._context=e}mT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ju(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BB(e){return new mT(e)}function gT(e,t){this._basis=new zd(e),this._beta=t}gT.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i=e[0],r=t[0],o=e[n]-i,a=t[n]-r,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+l*o),this._beta*t[s]+(1-this._beta)*(r+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const FB=function e(t){function n(i){return t===1?new zd(i):new gT(i,t)}return n.beta=function(i){return e(+i)},n}(.85);function Ku(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function _g(e,t){this._context=e,this._k=(1-t)/6}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ku(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ku(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const OB=function e(t){function n(i){return new _g(i,t)}return n.tension=function(i){return e(+i)},n}(0);function Cg(e,t){this._context=e,this._k=(1-t)/6}Cg.prototype={areaStart:Xr,areaEnd:Xr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ku(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const UB=function e(t){function n(i){return new Cg(i,t)}return n.tension=function(i){return e(+i)},n}(0);function Sg(e,t){this._context=e,this._k=(1-t)/6}Sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ku(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const PB=function e(t){function n(i){return new Sg(i,t)}return n.tension=function(i){return e(+i)},n}(0);function Tg(e,t,n){var i=e._x1,r=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Rx){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Rx){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/f,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(i,r,o,a,e._x2,e._y2)}function yT(e,t){this._context=e,this._alpha=t}yT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Tg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zB=function e(t){function n(i){return t?new yT(i,t):new _g(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function vT(e,t){this._context=e,this._alpha=t}vT.prototype={areaStart:Xr,areaEnd:Xr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Tg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jB=function e(t){function n(i){return t?new vT(i,t):new Cg(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function xT(e,t){this._context=e,this._alpha=t}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HB=function e(t){function n(i){return t?new xT(i,t):new Sg(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function bT(e){this._context=e}bT.prototype={areaStart:Xr,areaEnd:Xr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $B(e){return new bT(e)}function Mx(e){return e<0?-1:1}function Lx(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),a=(n-e._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Mx(o)+Mx(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Dx(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Xf(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function Xu(e){this._context=e}Xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xf(this,this._t0,Dx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xf(this,Dx(this,n=Lx(this,e,t)),n);break;default:Xf(this,this._t0,n=Lx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _T(e){this._context=new CT(e)}(_T.prototype=Object.create(Xu.prototype)).point=function(e,t){Xu.prototype.point.call(this,t,e)};function CT(e){this._context=e}CT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}};function qB(e){return new Xu(e)}function GB(e){return new _T(e)}function ST(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Bx(e),r=Bx(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bx(e){var t,n=e.length-1,i,r=new Array(n),o=new Array(n),a=new Array(n);for(r[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=r[t]/o[t-1],o[t]-=i,a[t]-=i*a[t-1];for(r[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)r[t]=(a[t]-r[t+1])/o[t];for(o[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function VB(e){return new ST(e)}function jd(e,t){this._context=e,this._t=t}jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function YB(e){return new jd(e,.5)}function WB(e){return new jd(e,0)}function JB(e){return new jd(e,1)}function Ps(e,t,n){this.k=e,this.x=t,this.y=n}Ps.prototype={constructor:Ps,scale:function(e){return e===1?this:new Ps(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ps(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ps.prototype;/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:TT,setPrototypeOf:Fx,isFrozen:KB,getPrototypeOf:XB,getOwnPropertyDescriptor:ZB}=Object;let{freeze:hn,seal:si,create:Dp}=Object,{apply:Bp,construct:Fp}=typeof Reflect<"u"&&Reflect;hn||(hn=function(t){return t});si||(si=function(t){return t});Bp||(Bp=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return t.apply(n,r)});Fp||(Fp=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new t(...i)});const kc=pn(Array.prototype.forEach),QB=pn(Array.prototype.lastIndexOf),Ox=pn(Array.prototype.pop),ws=pn(Array.prototype.push),e8=pn(Array.prototype.splice),tu=pn(String.prototype.toLowerCase),Zf=pn(String.prototype.toString),Qf=pn(String.prototype.match),Es=pn(String.prototype.replace),t8=pn(String.prototype.indexOf),n8=pn(String.prototype.trim),hi=pn(Object.prototype.hasOwnProperty),an=pn(RegExp.prototype.test),As=i8(TypeError);function pn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Bp(e,t,i)}}function i8(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Fp(e,n)}}function Pe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tu;Fx&&Fx(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const o=n(r);o!==r&&(KB(t)||(t[i]=o),r=o)}e[r]=!0}return e}function r8(e){for(let t=0;t<e.length;t++)hi(e,t)||(e[t]=null);return e}function Ai(e){const t=Dp(null);for(const[n,i]of TT(e))hi(e,n)&&(Array.isArray(i)?t[n]=r8(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Ai(i):t[n]=i);return t}function Ns(e,t){for(;e!==null;){const i=ZB(e,t);if(i){if(i.get)return pn(i.get);if(typeof i.value=="function")return pn(i.value)}e=XB(e)}function n(){return null}return n}const Ux=hn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),eh=hn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),th=hn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),o8=hn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nh=hn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),a8=hn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Px=hn(["#text"]),zx=hn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ih=hn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jx=hn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rc=hn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),s8=si(/\{\{[\w\W]*|[\w\W]*\}\}/gm),l8=si(/<%[\w\W]*|[\w\W]*%>/gm),c8=si(/\$\{[\w\W]*/gm),u8=si(/^data-[\-\w.\u00B7-\uFFFF]+$/),d8=si(/^aria-[\-\w]+$/),wT=si(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),f8=si(/^(?:\w+script|data):/i),h8=si(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ET=si(/^html$/i),p8=si(/^[a-z][.\w]*(-[.\w]+)+$/i);var Hx=Object.freeze({__proto__:null,ARIA_ATTR:d8,ATTR_WHITESPACE:h8,CUSTOM_ELEMENT:p8,DATA_ATTR:u8,DOCTYPE_NAME:ET,ERB_EXPR:l8,IS_ALLOWED_URI:wT,IS_SCRIPT_OR_DATA:f8,MUSTACHE_EXPR:s8,TMPLIT_EXPR:c8});const ks={element:1,text:3,progressingInstruction:7,comment:8,document:9},m8=function(){return typeof window>"u"?null:window},g8=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const o="dompurify"+(i?"#"+i:"");try{return t.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},$x=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function AT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m8();const t=we=>AT(we);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==ks.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:s,Element:l,NodeFilter:c,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:g}=e,b=l.prototype,x=Ns(b,"cloneNode"),C=Ns(b,"remove"),v=Ns(b,"nextSibling"),y=Ns(b,"childNodes"),_=Ns(b,"parentNode");if(typeof a=="function"){const we=n.createElement("template");we.content&&we.content.ownerDocument&&(n=we.content.ownerDocument)}let T,A="";const{implementation:I,createNodeIterator:N,createDocumentFragment:P,getElementsByTagName:M}=n,{importNode:q}=i;let X=$x();t.isSupported=typeof TT=="function"&&typeof _=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:D,ERB_EXPR:Y,TMPLIT_EXPR:S,DATA_ATTR:O,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:U,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:z}=Hx;let{IS_ALLOWED_URI:Z}=Hx,$=null;const V=Pe({},[...Ux,...eh,...th,...nh,...Px]);let oe=null;const ae=Pe({},[...zx,...ih,...jx,...Rc]);let re=Object.seal(Dp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,ke=null;const xe=Object.seal(Dp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Se=!0,Me=!0,Te=!1,Je=!0,ce=!1,E=!0,L=!1,H=!1,R=!1,w=!1,k=!1,j=!1,W=!0,F=!1;const ne="user-content-";let ie=!0,te=!1,ue={},ge=null;const be=Pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qe=null;const Xe=Pe({},["audio","video","img","source","image","track"]);let Ee=null;const Ue=Pe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml";let Ge=Gt,xt=!1,ji=null;const Ci=Pe({},[ve,St,Gt],Zf);let Si=Pe({},["mi","mo","mn","ms","mtext"]),gn=Pe({},["annotation-xml"]);const Nn=Pe({},["title","style","font","a","script"]);let kn=null;const ss=["application/xhtml+xml","text/html"],Kl="text/html";let bt=null,Ti=null;const io=n.createElement("form"),br=function(K){return K instanceof RegExp||K instanceof Function},wi=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ti&&Ti===K)){if((!K||typeof K!="object")&&(K={}),K=Ai(K),kn=ss.indexOf(K.PARSER_MEDIA_TYPE)===-1?Kl:K.PARSER_MEDIA_TYPE,bt=kn==="application/xhtml+xml"?Zf:tu,$=hi(K,"ALLOWED_TAGS")?Pe({},K.ALLOWED_TAGS,bt):V,oe=hi(K,"ALLOWED_ATTR")?Pe({},K.ALLOWED_ATTR,bt):ae,ji=hi(K,"ALLOWED_NAMESPACES")?Pe({},K.ALLOWED_NAMESPACES,Zf):Ci,Ee=hi(K,"ADD_URI_SAFE_ATTR")?Pe(Ai(Ue),K.ADD_URI_SAFE_ATTR,bt):Ue,qe=hi(K,"ADD_DATA_URI_TAGS")?Pe(Ai(Xe),K.ADD_DATA_URI_TAGS,bt):Xe,ge=hi(K,"FORBID_CONTENTS")?Pe({},K.FORBID_CONTENTS,bt):be,Ce=hi(K,"FORBID_TAGS")?Pe({},K.FORBID_TAGS,bt):Ai({}),ke=hi(K,"FORBID_ATTR")?Pe({},K.FORBID_ATTR,bt):Ai({}),ue=hi(K,"USE_PROFILES")?K.USE_PROFILES:!1,Se=K.ALLOW_ARIA_ATTR!==!1,Me=K.ALLOW_DATA_ATTR!==!1,Te=K.ALLOW_UNKNOWN_PROTOCOLS||!1,Je=K.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ce=K.SAFE_FOR_TEMPLATES||!1,E=K.SAFE_FOR_XML!==!1,L=K.WHOLE_DOCUMENT||!1,w=K.RETURN_DOM||!1,k=K.RETURN_DOM_FRAGMENT||!1,j=K.RETURN_TRUSTED_TYPE||!1,R=K.FORCE_BODY||!1,W=K.SANITIZE_DOM!==!1,F=K.SANITIZE_NAMED_PROPS||!1,ie=K.KEEP_CONTENT!==!1,te=K.IN_PLACE||!1,Z=K.ALLOWED_URI_REGEXP||wT,Ge=K.NAMESPACE||Gt,Si=K.MATHML_TEXT_INTEGRATION_POINTS||Si,gn=K.HTML_INTEGRATION_POINTS||gn,re=K.CUSTOM_ELEMENT_HANDLING||{},K.CUSTOM_ELEMENT_HANDLING&&br(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(re.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&br(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(re.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(re.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ce&&(Me=!1),k&&(w=!0),ue&&($=Pe({},Px),oe=[],ue.html===!0&&(Pe($,Ux),Pe(oe,zx)),ue.svg===!0&&(Pe($,eh),Pe(oe,ih),Pe(oe,Rc)),ue.svgFilters===!0&&(Pe($,th),Pe(oe,ih),Pe(oe,Rc)),ue.mathMl===!0&&(Pe($,nh),Pe(oe,jx),Pe(oe,Rc))),K.ADD_TAGS&&(typeof K.ADD_TAGS=="function"?xe.tagCheck=K.ADD_TAGS:($===V&&($=Ai($)),Pe($,K.ADD_TAGS,bt))),K.ADD_ATTR&&(typeof K.ADD_ATTR=="function"?xe.attributeCheck=K.ADD_ATTR:(oe===ae&&(oe=Ai(oe)),Pe(oe,K.ADD_ATTR,bt))),K.ADD_URI_SAFE_ATTR&&Pe(Ee,K.ADD_URI_SAFE_ATTR,bt),K.FORBID_CONTENTS&&(ge===be&&(ge=Ai(ge)),Pe(ge,K.FORBID_CONTENTS,bt)),K.ADD_FORBID_CONTENTS&&(ge===be&&(ge=Ai(ge)),Pe(ge,K.ADD_FORBID_CONTENTS,bt)),ie&&($["#text"]=!0),L&&Pe($,["html","head","body"]),$.table&&(Pe($,["tbody"]),delete Ce.tbody),K.TRUSTED_TYPES_POLICY){if(typeof K.TRUSTED_TYPES_POLICY.createHTML!="function")throw As('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof K.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw As('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=K.TRUSTED_TYPES_POLICY,A=T.createHTML("")}else T===void 0&&(T=g8(g,r)),T!==null&&typeof A=="string"&&(A=T.createHTML(""));hn&&hn(K),Ti=K}},Xl=Pe({},[...eh,...th,...o8]),ls=Pe({},[...nh,...a8]),tf=function(K){let de=_(K);(!de||!de.tagName)&&(de={namespaceURI:Ge,tagName:"template"});const ye=tu(K.tagName),ot=tu(de.tagName);return ji[K.namespaceURI]?K.namespaceURI===St?de.namespaceURI===Gt?ye==="svg":de.namespaceURI===ve?ye==="svg"&&(ot==="annotation-xml"||Si[ot]):!!Xl[ye]:K.namespaceURI===ve?de.namespaceURI===Gt?ye==="math":de.namespaceURI===St?ye==="math"&&gn[ot]:!!ls[ye]:K.namespaceURI===Gt?de.namespaceURI===St&&!gn[ot]||de.namespaceURI===ve&&!Si[ot]?!1:!ls[ye]&&(Nn[ye]||!Xl[ye]):!!(kn==="application/xhtml+xml"&&ji[K.namespaceURI]):!1},Rn=function(K){ws(t.removed,{element:K});try{_(K).removeChild(K)}catch{C(K)}},ci=function(K,de){try{ws(t.removed,{attribute:de.getAttributeNode(K),from:de})}catch{ws(t.removed,{attribute:null,from:de})}if(de.removeAttribute(K),K==="is")if(w||k)try{Rn(de)}catch{}else try{de.setAttribute(K,"")}catch{}},zo=function(K){let de=null,ye=null;if(R)K="<remove></remove>"+K;else{const gt=Qf(K,/^[\r\n\t ]+/);ye=gt&&gt[0]}kn==="application/xhtml+xml"&&Ge===Gt&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");const ot=T?T.createHTML(K):K;if(Ge===Gt)try{de=new p().parseFromString(ot,kn)}catch{}if(!de||!de.documentElement){de=I.createDocument(Ge,"template",null);try{de.documentElement.innerHTML=xt?A:ot}catch{}}const Mt=de.body||de.documentElement;return K&&ye&&Mt.insertBefore(n.createTextNode(ye),Mt.childNodes[0]||null),Ge===Gt?M.call(de,L?"html":"body")[0]:L?de.documentElement:Mt},ro=function(K){return N.call(K.ownerDocument||K,K,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},oo=function(K){return K instanceof m&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof f)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function"||typeof K.hasChildNodes!="function")},Ke=function(K){return typeof s=="function"&&K instanceof s};function on(we,K,de){kc(we,ye=>{ye.call(t,K,de,Ti)})}const ui=function(K){let de=null;if(on(X.beforeSanitizeElements,K,null),oo(K))return Rn(K),!0;const ye=bt(K.nodeName);if(on(X.uponSanitizeElement,K,{tagName:ye,allowedTags:$}),E&&K.hasChildNodes()&&!Ke(K.firstElementChild)&&an(/<[/\w!]/g,K.innerHTML)&&an(/<[/\w!]/g,K.textContent)||K.nodeType===ks.progressingInstruction||E&&K.nodeType===ks.comment&&an(/<[/\w]/g,K.data))return Rn(K),!0;if(!(xe.tagCheck instanceof Function&&xe.tagCheck(ye))&&(!$[ye]||Ce[ye])){if(!Ce[ye]&&Zl(ye)&&(re.tagNameCheck instanceof RegExp&&an(re.tagNameCheck,ye)||re.tagNameCheck instanceof Function&&re.tagNameCheck(ye)))return!1;if(ie&&!ge[ye]){const ot=_(K)||K.parentNode,Mt=y(K)||K.childNodes;if(Mt&&ot){const gt=Mt.length;for(let Vt=gt-1;Vt>=0;--Vt){const di=x(Mt[Vt],!0);di.__removalCount=(K.__removalCount||0)+1,ot.insertBefore(di,v(K))}}}return Rn(K),!0}return K instanceof l&&!tf(K)||(ye==="noscript"||ye==="noembed"||ye==="noframes")&&an(/<\/no(script|embed|frames)/i,K.innerHTML)?(Rn(K),!0):(ce&&K.nodeType===ks.text&&(de=K.textContent,kc([D,Y,S],ot=>{de=Es(de,ot," ")}),K.textContent!==de&&(ws(t.removed,{element:K.cloneNode()}),K.textContent=de)),on(X.afterSanitizeElements,K,null),!1)},lt=function(K,de,ye){if(W&&(de==="id"||de==="name")&&(ye in n||ye in io))return!1;if(!(Me&&!ke[de]&&an(O,de))){if(!(Se&&an(B,de))){if(!(xe.attributeCheck instanceof Function&&xe.attributeCheck(de,K))){if(!oe[de]||ke[de]){if(!(Zl(K)&&(re.tagNameCheck instanceof RegExp&&an(re.tagNameCheck,K)||re.tagNameCheck instanceof Function&&re.tagNameCheck(K))&&(re.attributeNameCheck instanceof RegExp&&an(re.attributeNameCheck,de)||re.attributeNameCheck instanceof Function&&re.attributeNameCheck(de,K))||de==="is"&&re.allowCustomizedBuiltInElements&&(re.tagNameCheck instanceof RegExp&&an(re.tagNameCheck,ye)||re.tagNameCheck instanceof Function&&re.tagNameCheck(ye))))return!1}else if(!Ee[de]){if(!an(Z,Es(ye,J,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&K!=="script"&&t8(ye,"data:")===0&&qe[K])){if(!(Te&&!an(U,Es(ye,J,"")))){if(ye)return!1}}}}}}}return!0},Zl=function(K){return K!=="annotation-xml"&&Qf(K,z)},Ql=function(K){on(X.beforeSanitizeAttributes,K,null);const{attributes:de}=K;if(!de||oo(K))return;const ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe,forceKeepAttr:void 0};let ot=de.length;for(;ot--;){const Mt=de[ot],{name:gt,namespaceURI:Vt,value:di}=Mt,_r=bt(gt),cs=di;let Lt=gt==="value"?cs:n8(cs);if(ye.attrName=_r,ye.attrValue=Lt,ye.keepAttr=!0,ye.forceKeepAttr=void 0,on(X.uponSanitizeAttribute,K,ye),Lt=ye.attrValue,F&&(_r==="id"||_r==="name")&&(ci(gt,K),Lt=ne+Lt),E&&an(/((--!?|])>)|<\/(style|title|textarea)/i,Lt)){ci(gt,K);continue}if(_r==="attributename"&&Qf(Lt,"href")){ci(gt,K);continue}if(ye.forceKeepAttr)continue;if(!ye.keepAttr){ci(gt,K);continue}if(!Je&&an(/\/>/i,Lt)){ci(gt,K);continue}ce&&kc([D,Y,S],ec=>{Lt=Es(Lt,ec," ")});const us=bt(K.nodeName);if(!lt(us,_r,Lt)){ci(gt,K);continue}if(T&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Vt)switch(g.getAttributeType(us,_r)){case"TrustedHTML":{Lt=T.createHTML(Lt);break}case"TrustedScriptURL":{Lt=T.createScriptURL(Lt);break}}if(Lt!==cs)try{Vt?K.setAttributeNS(Vt,gt,Lt):K.setAttribute(gt,Lt),oo(K)?Rn(K):Ox(t.removed)}catch{ci(gt,K)}}on(X.afterSanitizeAttributes,K,null)},jo=function we(K){let de=null;const ye=ro(K);for(on(X.beforeSanitizeShadowDOM,K,null);de=ye.nextNode();)on(X.uponSanitizeShadowNode,de,null),ui(de),Ql(de),de.content instanceof o&&we(de.content);on(X.afterSanitizeShadowDOM,K,null)};return t.sanitize=function(we){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,ye=null,ot=null,Mt=null;if(xt=!we,xt&&(we="<!-->"),typeof we!="string"&&!Ke(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw As("dirty is not a string, aborting")}else throw As("toString is not a function");if(!t.isSupported)return we;if(H||wi(K),t.removed=[],typeof we=="string"&&(te=!1),te){if(we.nodeName){const di=bt(we.nodeName);if(!$[di]||Ce[di])throw As("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof s)de=zo("<!---->"),ye=de.ownerDocument.importNode(we,!0),ye.nodeType===ks.element&&ye.nodeName==="BODY"||ye.nodeName==="HTML"?de=ye:de.appendChild(ye);else{if(!w&&!ce&&!L&&we.indexOf("<")===-1)return T&&j?T.createHTML(we):we;if(de=zo(we),!de)return w?null:j?A:""}de&&R&&Rn(de.firstChild);const gt=ro(te?we:de);for(;ot=gt.nextNode();)ui(ot),Ql(ot),ot.content instanceof o&&jo(ot.content);if(te)return we;if(w){if(k)for(Mt=P.call(de.ownerDocument);de.firstChild;)Mt.appendChild(de.firstChild);else Mt=de;return(oe.shadowroot||oe.shadowrootmode)&&(Mt=q.call(i,Mt,!0)),Mt}let Vt=L?de.outerHTML:de.innerHTML;return L&&$["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&an(ET,de.ownerDocument.doctype.name)&&(Vt="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+Vt),ce&&kc([D,Y,S],di=>{Vt=Es(Vt,di," ")}),T&&j?T.createHTML(Vt):Vt},t.setConfig=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wi(we),H=!0},t.clearConfig=function(){Ti=null,H=!1},t.isValidAttribute=function(we,K,de){Ti||wi({});const ye=bt(we),ot=bt(K);return lt(ye,ot,de)},t.addHook=function(we,K){typeof K=="function"&&ws(X[we],K)},t.removeHook=function(we,K){if(K!==void 0){const de=QB(X[we],K);return de===-1?void 0:e8(X[we],de,1)[0]}return Ox(X[we])},t.removeHooks=function(we){X[we]=[]},t.removeAllHooks=function(){X=$x()},t}var Pa=AT();const nu={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},i)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;switch(i){case"r":return nu.hue2rgb(o,r,e+1/3)*255;case"g":return nu.hue2rgb(o,r,e)*255;case"b":return nu.hue2rgb(o,r,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},i)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),o=Math.min(e,t,n),a=(r+o)/2;if(i==="l")return a*100;if(r===o)return 0;const s=r-o,l=a>.5?s/(2-r-o):s/(r+o);if(i==="s")return l*100;switch(r){case e:return((t-n)/s+(t<n?6:0))*60;case t:return((n-e)/s+2)*60;case n:return((e-t)/s+4)*60;default:return-1}}},y8={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},v8={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},De={channel:nu,lang:y8,unit:v8},Sr={};for(let e=0;e<=255;e++)Sr[e]=De.unit.dec2hex(e);const en={ALL:0,RGB:1,HSL:2};class x8{constructor(){this.type=en.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=en.ALL}is(t){return this.type===t}}class b8{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new x8}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=en.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:i,l:r}=t;n===void 0&&(t.h=De.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=De.channel.rgb2hsl(t,"s")),r===void 0&&(t.l=De.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:i,b:r}=t;n===void 0&&(t.r=De.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=De.channel.hsl2rgb(t,"g")),r===void 0&&(t.b=De.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(en.HSL)&&n!==void 0?n:(this._ensureHSL(),De.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(en.HSL)&&n!==void 0?n:(this._ensureHSL(),De.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(en.HSL)&&n!==void 0?n:(this._ensureHSL(),De.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(en.RGB)&&n!==void 0?n:(this._ensureRGB(),De.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(en.RGB)&&n!==void 0?n:(this._ensureRGB(),De.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(en.RGB)&&n!==void 0?n:(this._ensureRGB(),De.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(en.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(en.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(en.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(en.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(en.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(en.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Hd=new b8({r:0,g:0,b:0,a:0},"transparent"),Sa={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Sa.re);if(!t)return;const n=t[1],i=parseInt(n,16),r=n.length,o=r%4===0,a=r>4,s=a?1:17,l=a?8:4,c=o?0:-1,f=a?255:15;return Hd.set({r:(i>>l*(c+3)&f)*s,g:(i>>l*(c+2)&f)*s,b:(i>>l*(c+1)&f)*s,a:o?(i&f)*s/255:1},e)},stringify:e=>{const{r:t,g:n,b:i,a:r}=e;return r<1?`#${Sr[Math.round(t)]}${Sr[Math.round(n)]}${Sr[Math.round(i)]}${Sr[Math.round(r*255)]}`:`#${Sr[Math.round(t)]}${Sr[Math.round(n)]}${Sr[Math.round(i)]}`}},mo={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(mo.hueRe);if(t){const[,n,i]=t;switch(i){case"grad":return De.channel.clamp.h(parseFloat(n)*.9);case"rad":return De.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return De.channel.clamp.h(parseFloat(n)*360)}}return De.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(mo.re);if(!n)return;const[,i,r,o,a,s]=n;return Hd.set({h:mo._hue2deg(i),s:De.channel.clamp.s(parseFloat(r)),l:De.channel.clamp.l(parseFloat(o)),a:a?De.channel.clamp.a(s?parseFloat(a)/100:parseFloat(a)):1},e)},stringify:e=>{const{h:t,s:n,l:i,a:r}=e;return r<1?`hsla(${De.lang.round(t)}, ${De.lang.round(n)}%, ${De.lang.round(i)}%, ${r})`:`hsl(${De.lang.round(t)}, ${De.lang.round(n)}%, ${De.lang.round(i)}%)`}},tl={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=tl.colors[e];if(t)return Sa.parse(t)},stringify:e=>{const t=Sa.stringify(e);for(const n in tl.colors)if(tl.colors[n]===t)return n}},zs={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(zs.re);if(!n)return;const[,i,r,o,a,s,l,c,f]=n;return Hd.set({r:De.channel.clamp.r(r?parseFloat(i)*2.55:parseFloat(i)),g:De.channel.clamp.g(a?parseFloat(o)*2.55:parseFloat(o)),b:De.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:c?De.channel.clamp.a(f?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:n,b:i,a:r}=e;return r<1?`rgba(${De.lang.round(t)}, ${De.lang.round(n)}, ${De.lang.round(i)}, ${De.lang.round(r)})`:`rgb(${De.lang.round(t)}, ${De.lang.round(n)}, ${De.lang.round(i)})`}},Bi={format:{keyword:tl,hex:Sa,rgb:zs,rgba:zs,hsl:mo,hsla:mo},parse:e=>{if(typeof e!="string")return e;const t=Sa.parse(e)||zs.parse(e)||mo.parse(e)||tl.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(en.HSL)||e.data.r===void 0?mo.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?zs.stringify(e):Sa.stringify(e)},NT=(e,t)=>{const n=Bi.parse(e);for(const i in t)n[i]=De.channel.clamp[i](t[i]);return Bi.stringify(n)},nl=(e,t,n=0,i=1)=>{if(typeof e!="number")return NT(e,{a:t});const r=Hd.set({r:De.channel.clamp.r(e),g:De.channel.clamp.g(t),b:De.channel.clamp.b(n),a:De.channel.clamp.a(i)});return Bi.stringify(r)},_8=e=>{const{r:t,g:n,b:i}=Bi.parse(e),r=.2126*De.channel.toLinear(t)+.7152*De.channel.toLinear(n)+.0722*De.channel.toLinear(i);return De.lang.round(r)},C8=e=>_8(e)>=.5,Vl=e=>!C8(e),kT=(e,t,n)=>{const i=Bi.parse(e),r=i[t],o=De.channel.clamp[t](r+n);return r!==o&&(i[t]=o),Bi.stringify(i)},Ae=(e,t)=>kT(e,"l",t),Ie=(e,t)=>kT(e,"l",-t),ee=(e,t)=>{const n=Bi.parse(e),i={};for(const r in t)t[r]&&(i[r]=n[r]+t[r]);return NT(e,i)},S8=(e,t,n=50)=>{const{r:i,g:r,b:o,a}=Bi.parse(e),{r:s,g:l,b:c,a:f}=Bi.parse(t),m=n/100,p=m*2-1,g=a-f,x=((p*g===-1?p:(p+g)/(1+p*g))+1)/2,C=1-x,v=i*x+s*C,y=r*x+l*C,_=o*x+c*C,T=a*m+f*(1-m);return nl(v,y,_,T)},he=(e,t=100)=>{const n=Bi.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,S8(n,e,t)};var RT=typeof global=="object"&&global&&global.Object===Object&&global,T8=typeof self=="object"&&self&&self.Object===Object&&self,zi=RT||T8||Function("return this")(),Zu=zi.Symbol,IT=Object.prototype,w8=IT.hasOwnProperty,E8=IT.toString,Rs=Zu?Zu.toStringTag:void 0;function A8(e){var t=w8.call(e,Rs),n=e[Rs];try{e[Rs]=void 0;var i=!0}catch{}var r=E8.call(e);return i&&(t?e[Rs]=n:delete e[Rs]),r}var N8=Object.prototype,k8=N8.toString;function R8(e){return k8.call(e)}var I8="[object Null]",M8="[object Undefined]",qx=Zu?Zu.toStringTag:void 0;function rs(e){return e==null?e===void 0?M8:I8:qx&&qx in Object(e)?A8(e):R8(e)}function Oo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var L8="[object AsyncFunction]",D8="[object Function]",B8="[object GeneratorFunction]",F8="[object Proxy]";function wg(e){if(!Oo(e))return!1;var t=rs(e);return t==D8||t==B8||t==L8||t==F8}var rh=zi["__core-js_shared__"],Gx=function(){var e=/[^.]+$/.exec(rh&&rh.keys&&rh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function O8(e){return!!Gx&&Gx in e}var U8=Function.prototype,P8=U8.toString;function Uo(e){if(e!=null){try{return P8.call(e)}catch{}try{return e+""}catch{}}return""}var z8=/[\\^$.*+?()[\]{}|]/g,j8=/^\[object .+?Constructor\]$/,H8=Function.prototype,$8=Object.prototype,q8=H8.toString,G8=$8.hasOwnProperty,V8=RegExp("^"+q8.call(G8).replace(z8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y8(e){if(!Oo(e)||O8(e))return!1;var t=wg(e)?V8:j8;return t.test(Uo(e))}function W8(e,t){return e==null?void 0:e[t]}function Po(e,t){var n=W8(e,t);return Y8(n)?n:void 0}var El=Po(Object,"create");function J8(){this.__data__=El?El(null):{},this.size=0}function K8(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var X8="__lodash_hash_undefined__",Z8=Object.prototype,Q8=Z8.hasOwnProperty;function eF(e){var t=this.__data__;if(El){var n=t[e];return n===X8?void 0:n}return Q8.call(t,e)?t[e]:void 0}var tF=Object.prototype,nF=tF.hasOwnProperty;function iF(e){var t=this.__data__;return El?t[e]!==void 0:nF.call(t,e)}var rF="__lodash_hash_undefined__";function oF(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=El&&t===void 0?rF:t,this}function ko(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ko.prototype.clear=J8;ko.prototype.delete=K8;ko.prototype.get=eF;ko.prototype.has=iF;ko.prototype.set=oF;function aF(){this.__data__=[],this.size=0}function $d(e,t){return e===t||e!==e&&t!==t}function qd(e,t){for(var n=e.length;n--;)if($d(e[n][0],t))return n;return-1}var sF=Array.prototype,lF=sF.splice;function cF(e){var t=this.__data__,n=qd(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():lF.call(t,n,1),--this.size,!0}function uF(e){var t=this.__data__,n=qd(t,e);return n<0?void 0:t[n][1]}function dF(e){return qd(this.__data__,e)>-1}function fF(e,t){var n=this.__data__,i=qd(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function xr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}xr.prototype.clear=aF;xr.prototype.delete=cF;xr.prototype.get=uF;xr.prototype.has=dF;xr.prototype.set=fF;var Al=Po(zi,"Map");function hF(){this.size=0,this.__data__={hash:new ko,map:new(Al||xr),string:new ko}}function pF(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Gd(e,t){var n=e.__data__;return pF(t)?n[typeof t=="string"?"string":"hash"]:n.map}function mF(e){var t=Gd(this,e).delete(e);return this.size-=t?1:0,t}function gF(e){return Gd(this,e).get(e)}function yF(e){return Gd(this,e).has(e)}function vF(e,t){var n=Gd(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function no(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}no.prototype.clear=hF;no.prototype.delete=mF;no.prototype.get=gF;no.prototype.has=yF;no.prototype.set=vF;var xF="Expected a function";function Yl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xF);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Yl.Cache||no),n}Yl.Cache=no;function bF(){this.__data__=new xr,this.size=0}function _F(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function CF(e){return this.__data__.get(e)}function SF(e){return this.__data__.has(e)}var TF=200;function wF(e,t){var n=this.__data__;if(n instanceof xr){var i=n.__data__;if(!Al||i.length<TF-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new no(i)}return n.set(e,t),this.size=n.size,this}function os(e){var t=this.__data__=new xr(e);this.size=t.size}os.prototype.clear=bF;os.prototype.delete=_F;os.prototype.get=CF;os.prototype.has=SF;os.prototype.set=wF;var Qu=function(){try{var e=Po(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Eg(e,t,n){t=="__proto__"&&Qu?Qu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Op(e,t,n){(n!==void 0&&!$d(e[t],n)||n===void 0&&!(t in e))&&Eg(e,t,n)}function EF(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[++r];if(n(o[l],l,o)===!1)break}return t}}var AF=EF(),MT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vx=MT&&typeof module=="object"&&module&&!module.nodeType&&module,NF=Vx&&Vx.exports===MT,Yx=NF?zi.Buffer:void 0,Wx=Yx?Yx.allocUnsafe:void 0;function kF(e,t){if(t)return e.slice();var n=e.length,i=Wx?Wx(n):new e.constructor(n);return e.copy(i),i}var Jx=zi.Uint8Array;function RF(e){var t=new e.constructor(e.byteLength);return new Jx(t).set(new Jx(e)),t}function IF(e,t){var n=t?RF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function MF(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var Kx=Object.create,LF=function(){function e(){}return function(t){if(!Oo(t))return{};if(Kx)return Kx(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function LT(e,t){return function(n){return e(t(n))}}var DT=LT(Object.getPrototypeOf,Object),DF=Object.prototype;function Vd(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||DF;return e===n}function BF(e){return typeof e.constructor=="function"&&!Vd(e)?LF(DT(e)):{}}function Wl(e){return e!=null&&typeof e=="object"}var FF="[object Arguments]";function Xx(e){return Wl(e)&&rs(e)==FF}var BT=Object.prototype,OF=BT.hasOwnProperty,UF=BT.propertyIsEnumerable,ed=Xx(function(){return arguments}())?Xx:function(e){return Wl(e)&&OF.call(e,"callee")&&!UF.call(e,"callee")},td=Array.isArray,PF=9007199254740991;function FT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=PF}function Yd(e){return e!=null&&FT(e.length)&&!wg(e)}function zF(e){return Wl(e)&&Yd(e)}function jF(){return!1}var OT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zx=OT&&typeof module=="object"&&module&&!module.nodeType&&module,HF=Zx&&Zx.exports===OT,Qx=HF?zi.Buffer:void 0,$F=Qx?Qx.isBuffer:void 0,Ag=$F||jF,qF="[object Object]",GF=Function.prototype,VF=Object.prototype,UT=GF.toString,YF=VF.hasOwnProperty,WF=UT.call(Object);function JF(e){if(!Wl(e)||rs(e)!=qF)return!1;var t=DT(e);if(t===null)return!0;var n=YF.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&UT.call(n)==WF}var KF="[object Arguments]",XF="[object Array]",ZF="[object Boolean]",QF="[object Date]",eO="[object Error]",tO="[object Function]",nO="[object Map]",iO="[object Number]",rO="[object Object]",oO="[object RegExp]",aO="[object Set]",sO="[object String]",lO="[object WeakMap]",cO="[object ArrayBuffer]",uO="[object DataView]",dO="[object Float32Array]",fO="[object Float64Array]",hO="[object Int8Array]",pO="[object Int16Array]",mO="[object Int32Array]",gO="[object Uint8Array]",yO="[object Uint8ClampedArray]",vO="[object Uint16Array]",xO="[object Uint32Array]",ut={};ut[dO]=ut[fO]=ut[hO]=ut[pO]=ut[mO]=ut[gO]=ut[yO]=ut[vO]=ut[xO]=!0;ut[KF]=ut[XF]=ut[cO]=ut[ZF]=ut[uO]=ut[QF]=ut[eO]=ut[tO]=ut[nO]=ut[iO]=ut[rO]=ut[oO]=ut[aO]=ut[sO]=ut[lO]=!1;function bO(e){return Wl(e)&&FT(e.length)&&!!ut[rs(e)]}function _O(e){return function(t){return e(t)}}var PT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,il=PT&&typeof module=="object"&&module&&!module.nodeType&&module,CO=il&&il.exports===PT,oh=CO&&RT.process,eb=function(){try{var e=il&&il.require&&il.require("util").types;return e||oh&&oh.binding&&oh.binding("util")}catch{}}(),tb=eb&&eb.isTypedArray,Ng=tb?_O(tb):bO;function Up(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var SO=Object.prototype,TO=SO.hasOwnProperty;function wO(e,t,n){var i=e[t];(!(TO.call(e,t)&&$d(i,n))||n===void 0&&!(t in e))&&Eg(e,t,n)}function EO(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=void 0;l===void 0&&(l=e[s]),r?Eg(n,s,l):wO(n,s,l)}return n}function AO(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var NO=9007199254740991,kO=/^(?:0|[1-9]\d*)$/;function zT(e,t){var n=typeof e;return t=t??NO,!!t&&(n=="number"||n!="symbol"&&kO.test(e))&&e>-1&&e%1==0&&e<t}var RO=Object.prototype,IO=RO.hasOwnProperty;function MO(e,t){var n=td(e),i=!n&&ed(e),r=!n&&!i&&Ag(e),o=!n&&!i&&!r&&Ng(e),a=n||i||r||o,s=a?AO(e.length,String):[],l=s.length;for(var c in e)(t||IO.call(e,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||zT(c,l)))&&s.push(c);return s}function LO(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var DO=Object.prototype,BO=DO.hasOwnProperty;function FO(e){if(!Oo(e))return LO(e);var t=Vd(e),n=[];for(var i in e)i=="constructor"&&(t||!BO.call(e,i))||n.push(i);return n}function jT(e){return Yd(e)?MO(e,!0):FO(e)}function OO(e){return EO(e,jT(e))}function UO(e,t,n,i,r,o,a){var s=Up(e,n),l=Up(t,n),c=a.get(l);if(c){Op(e,n,c);return}var f=o?o(s,l,n+"",e,t,a):void 0,m=f===void 0;if(m){var p=td(l),g=!p&&Ag(l),b=!p&&!g&&Ng(l);f=l,p||g||b?td(s)?f=s:zF(s)?f=MF(s):g?(m=!1,f=kF(l,!0)):b?(m=!1,f=IF(l,!0)):f=[]:JF(l)||ed(l)?(f=s,ed(s)?f=OO(s):(!Oo(s)||wg(s))&&(f=BF(l))):m=!1}m&&(a.set(l,f),r(f,l,i,o,a),a.delete(l)),Op(e,n,f)}function HT(e,t,n,i,r){e!==t&&AF(t,function(o,a){if(r||(r=new os),Oo(o))UO(e,t,a,n,HT,i,r);else{var s=i?i(Up(e,a),o,a+"",e,t,r):void 0;s===void 0&&(s=o),Op(e,a,s)}},jT)}function $T(e){return e}function PO(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var nb=Math.max;function zO(e,t,n){return t=nb(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=nb(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),PO(e,this,s)}}function jO(e){return function(){return e}}var HO=Qu?function(e,t){return Qu(e,"toString",{configurable:!0,enumerable:!1,value:jO(t),writable:!0})}:$T,$O=800,qO=16,GO=Date.now;function VO(e){var t=0,n=0;return function(){var i=GO(),r=qO-(i-n);if(n=i,r>0){if(++t>=$O)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var YO=VO(HO);function WO(e,t){return YO(zO(e,t,$T),e+"")}function JO(e,t,n){if(!Oo(n))return!1;var i=typeof t;return(i=="number"?Yd(n)&&zT(t,n.length):i=="string"&&t in n)?$d(n[t],e):!1}function KO(e){return WO(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(r--,o):void 0,a&&JO(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t})}var XO=KO(function(e,t,n){HT(e,t,n)}),qT="comm",GT="rule",VT="decl",ZO="@import",QO="@namespace",eU="@keyframes",tU="@layer",YT=Math.abs,kg=String.fromCharCode;function WT(e){return e.trim()}function iu(e,t,n){return e.replace(t,n)}function nU(e,t,n){return e.indexOf(t,n)}function Ta(e,t){return e.charCodeAt(t)|0}function za(e,t,n){return e.slice(t,n)}function Ni(e){return e.length}function iU(e){return e.length}function Ic(e,t){return t.push(e),e}var Wd=1,ja=1,JT=0,li=0,kt=0,as="";function Rg(e,t,n,i,r,o,a,s){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:Wd,column:ja,length:a,return:"",siblings:s}}function rU(){return kt}function oU(){return kt=li>0?Ta(as,--li):0,ja--,kt===10&&(ja=1,Wd--),kt}function vi(){return kt=li<JT?Ta(as,li++):0,ja++,kt===10&&(ja=1,Wd++),kt}function Fr(){return Ta(as,li)}function ru(){return li}function Jd(e,t){return za(as,e,t)}function Nl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aU(e){return Wd=ja=1,JT=Ni(as=e),li=0,[]}function sU(e){return as="",e}function ah(e){return WT(Jd(li-1,Pp(e===91?e+2:e===40?e+1:e)))}function lU(e){for(;(kt=Fr())&&kt<33;)vi();return Nl(e)>2||Nl(kt)>3?"":" "}function cU(e,t){for(;--t&&vi()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return Jd(e,ru()+(t<6&&Fr()==32&&vi()==32))}function Pp(e){for(;vi();)switch(kt){case e:return li;case 34:case 39:e!==34&&e!==39&&Pp(kt);break;case 40:e===41&&Pp(e);break;case 92:vi();break}return li}function uU(e,t){for(;vi()&&e+kt!==57;)if(e+kt===84&&Fr()===47)break;return"/*"+Jd(t,li-1)+"*"+kg(e===47?e:vi())}function dU(e){for(;!Nl(Fr());)vi();return Jd(e,li)}function fU(e){return sU(ou("",null,null,null,[""],e=aU(e),0,[0],e))}function ou(e,t,n,i,r,o,a,s,l){for(var c=0,f=0,m=a,p=0,g=0,b=0,x=1,C=1,v=1,y=0,_="",T=r,A=o,I=i,N=_;C;)switch(b=y,y=vi()){case 40:if(b!=108&&Ta(N,m-1)==58){nU(N+=iu(ah(y),"&","&\f"),"&\f",YT(c?s[c-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:N+=ah(y);break;case 9:case 10:case 13:case 32:N+=lU(b);break;case 92:N+=cU(ru()-1,7);continue;case 47:switch(Fr()){case 42:case 47:Ic(hU(uU(vi(),ru()),t,n,l),l),(Nl(b||1)==5||Nl(Fr()||1)==5)&&Ni(N)&&za(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*x:s[c++]=Ni(N)*v;case 125*x:case 59:case 0:switch(y){case 0:case 125:C=0;case 59+f:v==-1&&(N=iu(N,/\f/g,"")),g>0&&(Ni(N)-m||x===0&&b===47)&&Ic(g>32?rb(N+";",i,n,m-1,l):rb(iu(N," ","")+";",i,n,m-2,l),l);break;case 59:N+=";";default:if(Ic(I=ib(N,t,n,c,f,r,s,_,T=[],A=[],m,o),o),y===123)if(f===0)ou(N,t,I,I,T,o,m,s,A);else{switch(p){case 99:if(Ta(N,3)===110)break;case 108:if(Ta(N,2)===97)break;default:f=0;case 100:case 109:case 115:}f?ou(e,I,I,i&&Ic(ib(e,I,I,0,0,r,s,_,r,T=[],m,A),A),r,A,m,s,i?T:A):ou(N,I,I,I,[""],A,0,s,A)}}c=f=g=0,x=v=1,_=N="",m=a;break;case 58:m=1+Ni(N),g=b;default:if(x<1){if(y==123)--x;else if(y==125&&x++==0&&oU()==125)continue}switch(N+=kg(y),y*x){case 38:v=f>0?1:(N+="\f",-1);break;case 44:s[c++]=(Ni(N)-1)*v,v=1;break;case 64:Fr()===45&&(N+=ah(vi())),p=Fr(),f=m=Ni(_=N+=dU(ru())),y++;break;case 45:b===45&&Ni(N)==2&&(x=0)}}return o}function ib(e,t,n,i,r,o,a,s,l,c,f,m){for(var p=r-1,g=r===0?o:[""],b=iU(g),x=0,C=0,v=0;x<i;++x)for(var y=0,_=za(e,p+1,p=YT(C=a[x])),T=e;y<b;++y)(T=WT(C>0?g[y]+" "+_:iu(_,/&\f/g,g[y])))&&(l[v++]=T);return Rg(e,t,n,r===0?GT:s,l,c,f,m)}function hU(e,t,n,i){return Rg(e,t,n,qT,kg(rU()),za(e,2,-2),0,i)}function rb(e,t,n,i,r){return Rg(e,t,n,VT,za(e,0,i),za(e,i+1,-1),i,r)}function zp(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function pU(e,t,n,i){switch(e.type){case tU:if(e.children.length)break;case ZO:case QO:case VT:return e.return=e.return||e.value;case qT:return"";case eU:return e.return=e.value+"{"+zp(e.children,i)+"}";case GT:if(!Ni(e.value=e.props.join(",")))return""}return Ni(n=zp(e.children,i))?e.return=e.value+"{"+n+"}":""}var mU=LT(Object.keys,Object),gU=Object.prototype,yU=gU.hasOwnProperty;function vU(e){if(!Vd(e))return mU(e);var t=[];for(var n in Object(e))yU.call(e,n)&&n!="constructor"&&t.push(n);return t}var jp=Po(zi,"DataView"),Hp=Po(zi,"Promise"),$p=Po(zi,"Set"),qp=Po(zi,"WeakMap"),ob="[object Map]",xU="[object Object]",ab="[object Promise]",sb="[object Set]",lb="[object WeakMap]",cb="[object DataView]",bU=Uo(jp),_U=Uo(Al),CU=Uo(Hp),SU=Uo($p),TU=Uo(qp),ho=rs;(jp&&ho(new jp(new ArrayBuffer(1)))!=cb||Al&&ho(new Al)!=ob||Hp&&ho(Hp.resolve())!=ab||$p&&ho(new $p)!=sb||qp&&ho(new qp)!=lb)&&(ho=function(e){var t=rs(e),n=t==xU?e.constructor:void 0,i=n?Uo(n):"";if(i)switch(i){case bU:return cb;case _U:return ob;case CU:return ab;case SU:return sb;case TU:return lb}return t});var wU="[object Map]",EU="[object Set]",AU=Object.prototype,NU=AU.hasOwnProperty;function sh(e){if(e==null)return!0;if(Yd(e)&&(td(e)||typeof e=="string"||typeof e.splice=="function"||Ag(e)||Ng(e)||ed(e)))return!e.length;var t=ho(e);if(t==wU||t==EU)return!e.size;if(Vd(e))return!vU(e).length;for(var n in e)if(NU.call(e,n))return!1;return!0}const Wi={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Re={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},Ig=function(e="fatal"){let t=Wi.fatal;typeof e=="string"?(e=e.toLowerCase(),e in Wi&&(t=Wi[e])):typeof e=="number"&&(t=e),Re.trace=()=>{},Re.debug=()=>{},Re.info=()=>{},Re.warn=()=>{},Re.error=()=>{},Re.fatal=()=>{},t<=Wi.fatal&&(Re.fatal=console.error?console.error.bind(console,Vn("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Vn("FATAL"))),t<=Wi.error&&(Re.error=console.error?console.error.bind(console,Vn("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Vn("ERROR"))),t<=Wi.warn&&(Re.warn=console.warn?console.warn.bind(console,Vn("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Vn("WARN"))),t<=Wi.info&&(Re.info=console.info?console.info.bind(console,Vn("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Vn("INFO"))),t<=Wi.debug&&(Re.debug=console.debug?console.debug.bind(console,Vn("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Vn("DEBUG"))),t<=Wi.trace&&(Re.trace=console.debug?console.debug.bind(console,Vn("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Vn("TRACE")))},Vn=e=>`%c${mL().format("ss.SSS")} : ${e} : `,Jl=/<br\s*\/?>/gi,kU=e=>e?XT(e).replace(/\\n/g,"#br#").split("#br#"):[""],RU=(()=>{let e=!1;return()=>{e||(IU(),e=!0)}})();function IU(){const e="data-temp-href-target";Pa.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Pa.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}const KT=e=>(RU(),Pa.sanitize(e)),ub=(e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=t.securityLevel;i==="antiscript"||i==="strict"?e=KT(e):i!=="loose"&&(e=XT(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=BU(e))}return e},Ha=(e,t)=>e&&(t.dompurifyConfig?e=Pa.sanitize(ub(e,t),t.dompurifyConfig).toString():e=Pa.sanitize(ub(e,t),{FORBID_TAGS:["style"]}).toString(),e),MU=(e,t)=>typeof e=="string"?Ha(e,t):e.flat().map(n=>Ha(n,t)),LU=e=>Jl.test(e),DU=e=>e.split(Jl),BU=e=>e.replace(/#br#/g,"<br/>"),XT=e=>e.replace(Jl,"#br#"),FU=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},ZT=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),OU=function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},UU=function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},HH=function(e){const t=e.split(/(,)/),n=[];for(let i=0;i<t.length;i++){let r=t[i];if(r===","&&i>0&&i+1<t.length){const o=t[i-1],a=t[i+1];PU(o,a)&&(r=o+","+a,i++,n.pop())}n.push(zU(r))}return n.join("")},Gp=(e,t)=>Math.max(0,e.split(t).length-1),PU=(e,t)=>{const n=Gp(e,"~"),i=Gp(t,"~");return n===1&&i===1},zU=e=>{const t=Gp(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const i=[...e];let r=i.indexOf("~"),o=i.lastIndexOf("~");for(;r!==-1&&o!==-1&&r!==o;)i[r]="<",i[o]=">",r=i.indexOf("~"),o=i.lastIndexOf("~");return n&&i.unshift("~"),i.join("")},db=()=>window.MathMLElement!==void 0,Vp=/\$\$(.*)\$\$/g,fb=e=>{var t;return(((t=e.match(Vp))==null?void 0:t.length)??0)>0},$H=async(e,t)=>{const n=document.createElement("div");n.innerHTML=await HU(e,t),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",n);const r={width:n.clientWidth,height:n.clientHeight};return n.remove(),r},jU=async(e,t)=>{if(!fb(e))return e;if(!db()&&!t.legacyMathML)return e.replace(Vp,"MathML is unsupported in this environment.");const{default:n}=await vt(async()=>{const{default:i}=await import("./katex-Cu_Erd72.js");return{default:i}},[]);return e.split(Jl).map(i=>fb(i)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${i}
            </div>
          `:`<div>${i}</div>`).join("").replace(Vp,(i,r)=>n.renderToString(r,{throwOnError:!0,displayMode:!0,output:db()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},HU=async(e,t)=>Ha(await jU(e,t),t),Mg={getRows:kU,sanitizeText:Ha,sanitizeTextOrArray:MU,hasBreaks:LU,splitBreaks:DU,lineBreakRegex:Jl,removeScript:KT,getUrl:FU,evaluate:ZT,getMax:OU,getMin:UU},dn=(e,t)=>t?ee(e,{s:-40,l:10}):ee(e,{s:-40,l:-10}),Kd="#ffffff",Xd="#f2f2f2";let $U=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var t,n,i,r,o,a,s,l,c,f,m;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||ee(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||ee(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||dn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||dn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||dn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||dn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||he(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||he(this.tertiaryColor),this.lineColor=this.lineColor||he(this.background),this.arrowheadColor=this.arrowheadColor||he(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ie(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ie(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||he(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ae(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ee(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ee(this.primaryColor,{h:330}),this.darkMode)for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Ie(this["cScale"+g],75);else for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Ie(this["cScale"+g],25);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleInv"+g]=this["cScaleInv"+g]||he(this["cScale"+g]);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this.darkMode?this["cScalePeer"+g]=this["cScalePeer"+g]||Ae(this["cScale"+g],10):this["cScalePeer"+g]=this["cScalePeer"+g]||Ie(this["cScale"+g],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleLabel"+g]=this["cScaleLabel"+g]||this.scaleLabelColor;const p=this.darkMode?-4:-1;for(let g=0;g<5;g++)this["surface"+g]=this["surface"+g]||ee(this.mainBkg,{h:180,s:-15,l:p*(5+g*3)}),this["surfacePeer"+g]=this["surfacePeer"+g]||ee(this.mainBkg,{h:180,s:-15,l:p*(8+g*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||ee(this.primaryColor,{h:64}),this.fillType3=this.fillType3||ee(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||ee(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||ee(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||ee(this.primaryColor,{h:128}),this.fillType7=this.fillType7||ee(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ee(this.primaryColor,{l:-10}),this.pie5=this.pie5||ee(this.secondaryColor,{l:-10}),this.pie6=this.pie6||ee(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||ee(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ee(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ee(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ee(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||ee(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||ee(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Vl(this.quadrant1Fill)?Ae(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ie(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ee(this.primaryColor,{h:-30}),this.git4=this.git4||ee(this.primaryColor,{h:-60}),this.git5=this.git5||ee(this.primaryColor,{h:-90}),this.git6=this.git6||ee(this.primaryColor,{h:60}),this.git7=this.git7||ee(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ae(this.git0,25),this.git1=Ae(this.git1,25),this.git2=Ae(this.git2,25),this.git3=Ae(this.git3,25),this.git4=Ae(this.git4,25),this.git5=Ae(this.git5,25),this.git6=Ae(this.git6,25),this.git7=Ae(this.git7,25)):(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Xd}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const qU=e=>{const t=new $U;return t.calculate(e),t};let GU=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ae(this.primaryColor,16),this.tertiaryColor=ee(this.primaryColor,{h:-160}),this.primaryBorderColor=he(this.background),this.secondaryBorderColor=dn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=dn(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.tertiaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ae(he("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=nl(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ie("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ie(this.sectionBkgColor,10),this.taskBorderColor=nl(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=nl(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,n,i,r,o,a,s,l,c,f,m;this.secondBkg=Ae(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ae(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ae(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ee(this.primaryColor,{h:64}),this.fillType3=ee(this.secondaryColor,{h:64}),this.fillType4=ee(this.primaryColor,{h:-64}),this.fillType5=ee(this.secondaryColor,{h:-64}),this.fillType6=ee(this.primaryColor,{h:128}),this.fillType7=ee(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ee(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ee(this.primaryColor,{h:330});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||he(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScalePeer"+p]=this["cScalePeer"+p]||Ae(this["cScale"+p],10);for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||ee(this.mainBkg,{h:30,s:-30,l:-(-10+p*4)}),this["surfacePeer"+p]=this["surfacePeer"+p]||ee(this.mainBkg,{h:30,s:-30,l:-(-7+p*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Vl(this.quadrant1Fill)?Ae(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ie(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ae(this.secondaryColor,20),this.git1=Ae(this.pie2||this.secondaryColor,20),this.git2=Ae(this.pie3||this.tertiaryColor,20),this.git3=Ae(this.pie4||ee(this.primaryColor,{h:-30}),20),this.git4=Ae(this.pie5||ee(this.primaryColor,{h:-60}),20),this.git5=Ae(this.pie6||ee(this.primaryColor,{h:-90}),10),this.git6=Ae(this.pie7||ee(this.primaryColor,{h:60}),10),this.git7=Ae(this.pie8||ee(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||he(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||he(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ae(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ae(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const VU=e=>{const t=new GU;return t.calculate(e),t};let YU=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=ee(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=ee(this.primaryColor,{h:-160}),this.primaryBorderColor=dn(this.primaryColor,this.darkMode),this.secondaryBorderColor=dn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=dn(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.tertiaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=nl(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,n,i,r,o,a,s,l,c,f,m;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ee(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ee(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ie(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ie(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Ie(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Ie(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||ee(this["cScale"+p],{h:180});for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||ee(this.mainBkg,{h:30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||ee(this.mainBkg,{h:30,l:-(7+p*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||he(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||he(this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ae(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ee(this.primaryColor,{h:64}),this.fillType3=ee(this.secondaryColor,{h:64}),this.fillType4=ee(this.primaryColor,{h:-64}),this.fillType5=ee(this.secondaryColor,{h:-64}),this.fillType6=ee(this.primaryColor,{h:128}),this.fillType7=ee(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||ee(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||ee(this.primaryColor,{l:-10}),this.pie5=this.pie5||ee(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ee(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||ee(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||ee(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||ee(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||ee(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||ee(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||ee(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Vl(this.quadrant1Fill)?Ae(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ee(this.primaryColor,{h:-30}),this.git4=this.git4||ee(this.primaryColor,{h:-60}),this.git5=this.git5||ee(this.primaryColor,{h:-90}),this.git6=this.git6||ee(this.primaryColor,{h:60}),this.git7=this.git7||ee(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ae(this.git0,25),this.git1=Ae(this.git1,25),this.git2=Ae(this.git2,25),this.git3=Ae(this.git3,25),this.git4=Ae(this.git4,25),this.git5=Ae(this.git5,25),this.git6=Ae(this.git6,25),this.git7=Ae(this.git7,25)):(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)),this.gitInv0=this.gitInv0||Ie(he(this.git0),25),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||he(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||he(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Xd}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const WU=e=>{const t=new YU;return t.calculate(e),t};let JU=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ae("#cde498",10),this.primaryBorderColor=dn(this.primaryColor,this.darkMode),this.secondaryBorderColor=dn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=dn(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.primaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,r,o,a,s,l,c,f,m;this.actorBorder=Ie(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ee(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ee(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ie(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ie(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Ie(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Ie(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||ee(this["cScale"+p],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||ee(this.mainBkg,{h:30,s:-30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||ee(this.mainBkg,{h:30,s:-30,l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ee(this.primaryColor,{h:64}),this.fillType3=ee(this.secondaryColor,{h:64}),this.fillType4=ee(this.primaryColor,{h:-64}),this.fillType5=ee(this.secondaryColor,{h:-64}),this.fillType6=ee(this.primaryColor,{h:128}),this.fillType7=ee(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ee(this.primaryColor,{l:-30}),this.pie5=this.pie5||ee(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ee(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||ee(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ee(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ee(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ee(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||ee(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||ee(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Vl(this.quadrant1Fill)?Ae(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ee(this.primaryColor,{h:-30}),this.git4=this.git4||ee(this.primaryColor,{h:-60}),this.git5=this.git5||ee(this.primaryColor,{h:-90}),this.git6=this.git6||ee(this.primaryColor,{h:60}),this.git7=this.git7||ee(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ae(this.git0,25),this.git1=Ae(this.git1,25),this.git2=Ae(this.git2,25),this.git3=Ae(this.git3,25),this.git4=Ae(this.git4,25),this.git5=Ae(this.git5,25),this.git6=Ae(this.git6,25),this.git7=Ae(this.git7,25)):(this.git0=Ie(this.git0,25),this.git1=Ie(this.git1,25),this.git2=Ie(this.git2,25),this.git3=Ie(this.git3,25),this.git4=Ie(this.git4,25),this.git5=Ie(this.git5,25),this.git6=Ie(this.git6,25),this.git7=Ie(this.git7,25)),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||he(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||he(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Xd}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const KU=e=>{const t=new JU;return t.calculate(e),t};class XU{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ae(this.contrast,55),this.background="#ffffff",this.tertiaryColor=ee(this.primaryColor,{h:-160}),this.primaryBorderColor=dn(this.primaryColor,this.darkMode),this.secondaryBorderColor=dn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=dn(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.tertiaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,r,o,a,s,l,c,f,m;this.secondBkg=Ae(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ae(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||he(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||Ae(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||Ie(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||ee(this.mainBkg,{l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||ee(this.mainBkg,{l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ae(this.contrast,30),this.sectionBkgColor2=Ae(this.contrast,30),this.taskBorderColor=Ie(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ae(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ie(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ee(this.primaryColor,{h:64}),this.fillType3=ee(this.secondaryColor,{h:64}),this.fillType4=ee(this.primaryColor,{h:-64}),this.fillType5=ee(this.secondaryColor,{h:-64}),this.fillType6=ee(this.primaryColor,{h:128}),this.fillType7=ee(this.secondaryColor,{h:128});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Vl(this.quadrant1Fill)?Ae(this.quadrant1Fill):Ie(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ie(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||ee(this.primaryColor,{h:-30}),this.git4=this.pie5||ee(this.primaryColor,{h:-60}),this.git5=this.pie6||ee(this.primaryColor,{h:-90}),this.git6=this.pie7||ee(this.primaryColor,{h:60}),this.git7=this.pie8||ee(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Xd}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}}const ZU=e=>{const t=new XU;return t.calculate(e),t},lr={base:{getThemeVariables:qU},dark:{getThemeVariables:VU},default:{getThemeVariables:WU},forest:{getThemeVariables:KU},neutral:{getThemeVariables:ZU}},Ji={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},QT={...Ji,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:lr.default.getThemeVariables(),sequence:{...Ji.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...Ji.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Ji.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...Ji.pie,useWidth:984},xyChart:{...Ji.xyChart,useWidth:void 0},requirement:{...Ji.requirement,useWidth:void 0},gitGraph:{...Ji.gitGraph,useMaxWidth:!1},sankey:{...Ji.sankey,useMaxWidth:!1}},ew=(e,t="")=>Object.keys(e).reduce((n,i)=>Array.isArray(e[i])?n:typeof e[i]=="object"&&e[i]!==null?[...n,t+i,...ew(e[i],"")]:[...n,t+i],[]),QU=new Set(ew(QT,"")),eP=QT,nd=e=>{if(Re.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>nd(t));return}for(const t of Object.keys(e)){if(Re.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!QU.has(t)||e[t]==null){Re.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){Re.debug("sanitizing object",t),nd(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const i of n)t.includes(i)&&(Re.debug("sanitizing css option",t),e[t]=tP(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}Re.debug("After sanitization",e)}},tP=e=>{let t=0,n=0;for(const i of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},tw=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,rl=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,nP=/\s*%%.*\n/gm;class nw extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}}const $a={},Zd=function(e,t){e=e.replace(tw,"").replace(rl,"").replace(nP,`
`);for(const[n,{detector:i}]of Object.entries($a))if(i(e,t))return n;throw new nw(`No diagram type detected matching given configuration for text: ${e}`)},iw=(...e)=>{for(const{id:t,detector:n,loader:i}of e)rw(t,n,i)},rw=(e,t,n)=>{$a[e]?Re.error(`Detector with key ${e} already exists`):$a[e]={detector:t,loader:n},Re.debug(`Detector with key ${e} added${n?" with loader":""}`)},iP=e=>$a[e].loader,Yp=(e,t,{depth:n=2,clobber:i=!1}={})=>{const r={depth:n,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(o=>Yp(e,o,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(o=>{e.includes(o)||e.push(o)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(o=>{typeof t[o]=="object"&&(e[o]===void 0||typeof e[o]=="object")?(e[o]===void 0&&(e[o]=Array.isArray(t[o])?[]:{}),e[o]=Yp(e[o],t[o],{depth:n-1,clobber:i})):(i||typeof e[o]!="object"&&typeof t[o]!="object")&&(e[o]=t[o])}),e)},tn=Yp,rP="",oP={curveBasis:LB,curveBasisClosed:DB,curveBasisOpen:BB,curveBumpX:IB,curveBumpY:MB,curveBundle:FB,curveCardinalClosed:UB,curveCardinalOpen:PB,curveCardinal:OB,curveCatmullRomClosed:jB,curveCatmullRomOpen:HB,curveCatmullRom:zB,curveLinear:RB,curveLinearClosed:$B,curveMonotoneX:qB,curveMonotoneY:GB,curveNatural:VB,curveStep:YB,curveStepAfter:JB,curveStepBefore:WB},aP=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,sP=function(e,t){const n=ow(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const a=n.map(s=>s.args);nd(a),i=tn(i,[...a])}else i=n.args;if(!i)return;let r=Zd(e,t);const o="config";return i[o]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),i[r]=i[o],delete i[o]),i},ow=function(e,t=null){try{const n=new RegExp(`[%]{2}(?![{]${aP.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(n,"").replace(/'/gm,'"'),Re.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i;const r=[];for(;(i=rl.exec(e))!==null;)if(i.index===rl.lastIndex&&rl.lastIndex++,i&&!t||t&&i[1]&&i[1].match(t)||t&&i[2]&&i[2].match(t)){const o=i[1]?i[1]:i[2],a=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:o,args:a})}return r.length===0?{type:e,args:null}:r.length===1?r[0]:r}catch(n){return Re.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},lP=function(e){return e.replace(rl,"")},cP=function(e,t){for(const[n,i]of t.entries())if(i.match(e))return n;return-1};function uP(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return oP[n]??t}function dP(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?PS.sanitizeUrl(n):n}const fP=(e,...t)=>{const n=e.split("."),i=n.length-1,r=n[i];let o=window;for(let a=0;a<i;a++)if(o=o[n[a]],!o){Re.error(`Function name: ${e} not found in window`);return}o[r](...t)};function aw(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hP(e){let t,n=0;e.forEach(r=>{n+=aw(r,t),t=r});const i=n/2;return Lg(e,i)}function pP(e){return e.length===1?e[0]:hP(e)}const hb=(e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},Lg=(e,t)=>{let n,i=t;for(const r of e){if(n){const o=aw(r,n);if(o<i)i-=o;else{const a=i/o;if(a<=0)return n;if(a>=1)return{x:r.x,y:r.y};if(a>0&&a<1)return{x:hb((1-a)*n.x+a*r.x,5),y:hb((1-a)*n.y+a*r.y,5)}}}n=r}throw new Error("Could not find a suitable point for the given distance")},mP=(e,t,n)=>{Re.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const r=Lg(t,25),o=e?10:5,a=Math.atan2(t[0].y-r.y,t[0].x-r.x),s={x:0,y:0};return s.x=Math.sin(a)*o+(t[0].x+r.x)/2,s.y=-Math.cos(a)*o+(t[0].y+r.y)/2,s};function gP(e,t,n){const i=structuredClone(n);Re.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const r=25+e,o=Lg(i,r),a=10+e*.5,s=Math.atan2(i[0].y-o.y,i[0].x-o.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(s+Math.PI)*a+(i[0].x+o.x)/2,l.y=-Math.cos(s+Math.PI)*a+(i[0].y+o.y)/2):t==="end_right"?(l.x=Math.sin(s-Math.PI)*a+(i[0].x+o.x)/2-5,l.y=-Math.cos(s-Math.PI)*a+(i[0].y+o.y)/2-5):t==="end_left"?(l.x=Math.sin(s)*a+(i[0].x+o.x)/2-5,l.y=-Math.cos(s)*a+(i[0].y+o.y)/2-5):(l.x=Math.sin(s)*a+(i[0].x+o.x)/2,l.y=-Math.cos(s)*a+(i[0].y+o.y)/2),l}function yP(e){let t="",n="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":t=t+i+";");return{style:t,labelStyle:n}}let pb=0;const vP=()=>(pb++,"id-"+Math.random().toString(36).substr(2,12)+"-"+pb);function xP(e){let t="";const n="0123456789abcdef",i=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}const bP=e=>xP(e.length),_P=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},CP=function(e,t){const n=t.text.replace(Mg.lineBreakRegex," "),[,i]=Bg(t.fontSize),r=e.append("text");r.attr("x",t.x),r.attr("y",t.y),r.style("text-anchor",t.anchor),r.style("font-family",t.fontFamily),r.style("font-size",i),r.style("font-weight",t.fontWeight),r.attr("fill",t.fill),t.class!==void 0&&r.attr("class",t.class);const o=r.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.attr("fill",t.fill),o.text(n),r},SP=Yl((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Mg.lineBreakRegex.test(e)))return e;const i=e.split(" "),r=[];let o="";return i.forEach((a,s)=>{const l=id(`${a} `,n),c=id(o,n);if(l>t){const{hyphenatedStrings:p,remainingWord:g}=TP(a,t,"-",n);r.push(o,...p),o=g}else c+l>=t?(r.push(o),o=a):o=[o,a].filter(Boolean).join(" ");s+1===i.length&&r.push(o)}),r.filter(a=>a!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),TP=Yl((e,t,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const r=[...e],o=[];let a="";return r.forEach((s,l)=>{const c=`${a}${s}`;if(id(c,i)>=t){const m=l+1,p=r.length===m,g=`${c}${n}`;o.push(p?c:g),a=""}else a=c}),{hyphenatedStrings:o,remainingWord:a}},(e,t,n="-",i)=>`${e}${t}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function wP(e,t){return Dg(e,t).height}function id(e,t){return Dg(e,t).width}const Dg=Yl((e,t)=>{const{fontSize:n=12,fontFamily:i="Arial",fontWeight:r=400}=t;if(!e)return{width:0,height:0};const[,o]=Bg(n),a=["sans-serif",i],s=e.split(Mg.lineBreakRegex),l=[],c=Wn("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const f=c.append("svg");for(const p of a){let g=0;const b={width:0,height:0,lineHeight:0};for(const x of s){const C=_P();C.text=x||rP;const v=CP(f,C).style("font-size",o).style("font-weight",r).style("font-family",p),y=(v._groups||v)[0][0].getBBox();if(y.width===0&&y.height===0)throw new Error("svg element not in render tree");b.width=Math.round(Math.max(b.width,y.width)),g=Math.round(y.height),b.height+=g,b.lineHeight=Math.round(Math.max(b.lineHeight,g))}l.push(b)}f.remove();const m=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[m]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);class EP{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}}let Mc;const AP=function(e){return Mc=Mc||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Mc.innerHTML=e,unescape(Mc.textContent)};function sw(e){return"str"in e}const NP=(e,t,n,i)=>{var r;if(!i)return;const o=(r=e.node())==null?void 0:r.getBBox();o&&e.append("text").text(i).attr("x",o.x+o.width/2).attr("y",-n).attr("class",t)},Bg=e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]};function lw(e,t){return XO({},e,t)}const ol={assignWithDepth:tn,wrapLabel:SP,calculateTextHeight:wP,calculateTextWidth:id,calculateTextDimensions:Dg,cleanAndMerge:lw,detectInit:sP,detectDirective:ow,isSubstringInArray:cP,interpolateToCurve:uP,calcLabelPosition:pP,calcCardinalityPosition:mP,calcTerminalLabelPosition:gP,formatUrl:dP,getStylesFromArray:yP,generateId:vP,random:bP,runFunc:fP,entityDecode:AP,insertTitle:NP,parseFontSize:Bg,InitIDGenerator:EP},kP=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),t},RP=function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},mb="10.9.5",qa=Object.freeze(eP);let Cn=tn({},qa),cw,Ga=[],al=tn({},qa);const Qd=(e,t)=>{let n=tn({},e),i={};for(const r of t)fw(r),i=tn(i,r);if(n=tn(n,i),i.theme&&i.theme in lr){const r=tn({},cw),o=tn(r.themeVariables||{},i.themeVariables);n.theme&&n.theme in lr&&(n.themeVariables=lr[n.theme].getThemeVariables(o))}return al=n,hw(al),al},IP=e=>(Cn=tn({},qa),Cn=tn(Cn,e),e.theme&&lr[e.theme]&&(Cn.themeVariables=lr[e.theme].getThemeVariables(e.themeVariables)),Qd(Cn,Ga),Cn),MP=e=>{cw=tn({},e)},LP=e=>(Cn=tn(Cn,e),Qd(Cn,Ga),Cn),uw=()=>tn({},Cn),dw=e=>(hw(e),tn(al,e),Fi()),Fi=()=>tn({},al),fw=e=>{e&&(["secure",...Cn.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(Re.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&fw(e[t])}))},DP=e=>{nd(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),Ga.push(e),Qd(Cn,Ga)},rd=(e=Cn)=>{Ga=[],Qd(e,Ga)},BP={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},gb={},FP=e=>{gb[e]||(Re.warn(BP[e]),gb[e]=!0)},hw=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&FP("LAZY_LOAD_DEPRECATED")},pw="c4",OP=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),UP=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./c4Diagram-c83219d4-CZuW-l8y.js");return{diagram:t}},__vite__mapDeps([0,1]));return{id:pw,diagram:e}},PP={id:pw,detector:OP,loader:UP},zP=PP,mw="flowchart",jP=(e,t)=>{var n,i;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},HP=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./flowDiagram-50d868cf-CdQ9T3PM.js");return{diagram:t}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:mw,diagram:e}},$P={id:mw,detector:jP,loader:HP},qP=$P,gw="flowchart-v2",GP=(e,t)=>{var n,i,r;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},VP=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./flowDiagram-v2-4f6560a1-BEWehIut.js");return{diagram:t}},__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:gw,diagram:e}},YP={id:gw,detector:GP,loader:VP},WP=YP,yw="er",JP=e=>/^\s*erDiagram/.test(e),KP=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./erDiagram-0228fc6a-yOa5w4cs.js");return{diagram:t}},__vite__mapDeps([16,4,5,11,12,13]));return{id:yw,diagram:e}},XP={id:yw,detector:JP,loader:KP},ZP=XP,vw="gitGraph",QP=e=>/^\s*gitGraph/.test(e),ez=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./gitGraphDiagram-82fe8481-zoYn6QpH.js");return{diagram:t}},[]);return{id:vw,diagram:e}},tz={id:vw,detector:QP,loader:ez},nz=tz,xw="gantt",iz=e=>/^\s*gantt/.test(e),rz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./ganttDiagram-a2739b55-DyWhMfVW.js");return{diagram:t}},__vite__mapDeps([17,18,19]));return{id:xw,diagram:e}},oz={id:xw,detector:iz,loader:rz},az=oz,bw="info",sz=e=>/^\s*info/.test(e),lz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./infoDiagram-8eee0895-DxWTHMmU.js");return{diagram:t}},[]);return{id:bw,diagram:e}},cz={id:bw,detector:sz,loader:lz},_w="pie",uz=e=>/^\s*pie/.test(e),dz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./pieDiagram-a8764435-DEEaeLfs.js");return{diagram:t}},__vite__mapDeps([20,21,13,22,19,12]));return{id:_w,diagram:e}},fz={id:_w,detector:uz,loader:dz},Cw="quadrantChart",hz=e=>/^\s*quadrantChart/.test(e),pz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./quadrantDiagram-1e28029f-DarxN0qB.js");return{diagram:t}},__vite__mapDeps([23,18,19]));return{id:Cw,diagram:e}},mz={id:Cw,detector:hz,loader:pz},gz=mz,Sw="xychart",yz=e=>/^\s*xychart-beta/.test(e),vz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./xychartDiagram-f5964ef8-Iw-1pcc6.js");return{diagram:t}},__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:Sw,diagram:e}},xz={id:Sw,detector:yz,loader:vz},bz=xz,Tw="requirement",_z=e=>/^\s*requirement(Diagram)?/.test(e),Cz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./requirementDiagram-08caed73-CjQR5MhC.js");return{diagram:t}},__vite__mapDeps([25,4,5,11,12,13]));return{id:Tw,diagram:e}},Sz={id:Tw,detector:_z,loader:Cz},Tz=Sz,ww="sequence",wz=e=>/^\s*sequenceDiagram/.test(e),Ez=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./sequenceDiagram-c5b8d532-vctn6MZX.js");return{diagram:t}},__vite__mapDeps([26,1]));return{id:ww,diagram:e}},Az={id:ww,detector:wz,loader:Ez},Nz=Az,Ew="class",kz=(e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},Rz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./classDiagram-beda092f-jqQi3Gso.js");return{diagram:t}},__vite__mapDeps([27,28,4,5,11,12,13]));return{id:Ew,diagram:e}},Iz={id:Ew,detector:kz,loader:Rz},Mz=Iz,Aw="classDiagram",Lz=(e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},Dz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./classDiagram-v2-2358418a-A9KpsZRa.js");return{diagram:t}},__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:Aw,diagram:e}},Bz={id:Aw,detector:Lz,loader:Dz},Fz=Bz,Nw="state",Oz=(e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},Uz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./stateDiagram-1ecb1508-DwVGL_RJ.js");return{diagram:t}},__vite__mapDeps([30,31,4,5,11,12,13]));return{id:Nw,diagram:e}},Pz={id:Nw,detector:Oz,loader:Uz},zz=Pz,kw="stateDiagram",jz=(e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},Hz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./stateDiagram-v2-c2b004d7-DKfDD4Db.js");return{diagram:t}},__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:kw,diagram:e}},$z={id:kw,detector:jz,loader:Hz},qz=$z,Rw="journey",Gz=e=>/^\s*journey/.test(e),Vz=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./journeyDiagram-c64418c1-B5ng85v-.js");return{diagram:t}},__vite__mapDeps([33,1,21,13]));return{id:Rw,diagram:e}},Yz={id:Rw,detector:Gz,loader:Vz},Wz=Yz,Jz=function(e,t){for(let n of t)e.attr(n[0],n[1])},Kz=function(e,t,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},Iw=function(e,t,n,i){const r=Kz(t,n,i);Jz(e,r)},Xz=function(e,t,n,i){const r=t.node().getBBox(),o=r.width,a=r.height;Re.info(`SVG bounds: ${o}x${a}`,r);let s=0,l=0;Re.info(`Graph bounds: ${s}x${l}`,e),s=o+n*2,l=a+n*2,Re.info(`Calculated bounds: ${s}x${l}`),Iw(t,l,s,i);const c=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;t.attr("viewBox",c)},au={},Zz=(e,t,n)=>{let i="";return e in au&&au[e]?i=au[e](n):Re.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${i}

  ${t}
`},Qz=(e,t)=>{t!==void 0&&(au[e]=t)},e7=Zz;let Fg="",Og="",Ug="";const Pg=e=>Ha(e,Fi()),t7=()=>{Fg="",Ug="",Og=""},n7=e=>{Fg=Pg(e).replace(/^\s+/g,"")},i7=()=>Fg,r7=e=>{Ug=Pg(e).replace(/\n\s+/g,`
`)},o7=()=>Ug,a7=e=>{Og=Pg(e)},s7=()=>Og,l7=Object.freeze(Object.defineProperty({__proto__:null,clear:t7,getAccDescription:o7,getAccTitle:i7,getDiagramTitle:s7,setAccDescription:r7,setAccTitle:n7,setDiagramTitle:a7},Symbol.toStringTag,{value:"Module"})),c7=Re,u7=Ig,zg=Fi,WH=dw,JH=qa,d7=e=>Ha(e,zg()),f7=Xz,h7=()=>l7,od={},ad=(e,t,n)=>{var i;if(od[e])throw new Error(`Diagram ${e} already registered.`);od[e]=t,n&&rw(e,n),Qz(e,t.styles),(i=t.injectUtils)==null||i.call(t,c7,u7,zg,d7,f7,h7(),()=>{})},jg=e=>{if(e in od)return od[e];throw new p7(e)};class p7 extends Error{constructor(t){super(`Diagram ${t} not found.`)}}const m7=e=>{var t;const{securityLevel:n}=zg();let i=Wn("body");if(n==="sandbox"){const a=((t=Wn(`#i${e}`).node())==null?void 0:t.contentDocument)??document;i=Wn(a.body)}return i.select(`#${e}`)},g7=(e,t,n)=>{Re.debug(`rendering svg for syntax error
`);const i=m7(t),r=i.append("g");i.attr("viewBox","0 0 2412 512"),Iw(i,100,512,!0),r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},Mw={draw:g7},y7=Mw,v7={db:{},renderer:Mw,parser:{parser:{yy:{}},parse:()=>{}}},x7=v7,Lw="flowchart-elk",b7=(e,t)=>{var n;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk")},_7=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./flowchart-elk-definition-6af322e1-MZGntGnF.js");return{diagram:t}},__vite__mapDeps([34,3,9,10,11,12,13]));return{id:Lw,diagram:e}},C7={id:Lw,detector:b7,loader:_7},S7=C7,Dw="timeline",T7=e=>/^\s*timeline/.test(e),w7=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./timeline-definition-faaaa080-FG2aVTN4.js");return{diagram:t}},__vite__mapDeps([35,21,13]));return{id:Dw,diagram:e}},E7={id:Dw,detector:T7,loader:w7},A7=E7,Bw="mindmap",N7=e=>/^\s*mindmap/.test(e),k7=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./mindmap-definition-8da855dc-De5myZSt.js");return{diagram:t}},__vite__mapDeps([36,10]));return{id:Bw,diagram:e}},R7={id:Bw,detector:N7,loader:k7},I7=R7,Fw="sankey",M7=e=>/^\s*sankey-beta/.test(e),L7=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./sankeyDiagram-a04cb91d-BOyDnJJX.js");return{diagram:t}},__vite__mapDeps([37,22,19,38]));return{id:Fw,diagram:e}},D7={id:Fw,detector:M7,loader:L7},B7=D7,Ow="block",F7=e=>/^\s*block-beta/.test(e),O7=async()=>{const{diagram:e}=await vt(async()=>{const{diagram:t}=await import("./blockDiagram-c4efeb88-D-QEI9xE.js");return{diagram:t}},__vite__mapDeps([39,8,4,9,10,11,12,13,14,22,19,38]));return{id:Ow,diagram:e}},U7={id:Ow,detector:F7,loader:O7},P7=U7;let yb=!1;const Hg=()=>{yb||(yb=!0,ad("error",x7,e=>e.toLowerCase().trim()==="error"),ad("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),iw(zP,Fz,Mz,ZP,az,cz,fz,Tz,Nz,S7,WP,qP,I7,A7,nz,qz,zz,Wz,gz,B7,bz,P7))};class Uw{constructor(t,n={}){this.text=t,this.metadata=n,this.type="graph",this.text=kP(t),this.text+=`
`;const i=Fi();try{this.type=Zd(t,i)}catch(o){this.type="error",this.detectError=o}const r=jg(this.type);Re.debug("Type "+this.type),this.db=r.db,this.renderer=r.renderer,this.parser=r.parser,this.parser.parser.yy=this.db,this.init=r.init,this.parse()}parse(){var t,n,i,r,o;if(this.detectError)throw this.detectError;(n=(t=this.db).clear)==null||n.call(t);const a=Fi();(i=this.init)==null||i.call(this,a),this.metadata.title&&((o=(r=this.db).setDiagramTitle)==null||o.call(r,this.metadata.title)),this.parser.parse(this.text)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}}const z7=async(e,t={})=>{const n=Zd(e,Fi());try{jg(n)}catch{const r=iP(n);if(!r)throw new nw(`Diagram ${n} not found.`);const{id:o,diagram:a}=await r();ad(o,a)}return new Uw(e,t)};let vb=[];const j7=()=>{vb.forEach(e=>{e()}),vb=[]},H7="graphics-document document";function $7(e,t){e.attr("role",H7),t!==""&&e.attr("aria-roledescription",t)}function q7(e,t,n,i){if(e.insert!==void 0){if(n){const r=`chart-desc-${i}`;e.attr("aria-describedby",r),e.insert("desc",":first-child").attr("id",r).text(n)}if(t){const r=`chart-title-${i}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}const G7=e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Pw(e){return typeof e>"u"||e===null}function V7(e){return typeof e=="object"&&e!==null}function Y7(e){return Array.isArray(e)?e:Pw(e)?[]:[e]}function W7(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function J7(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function K7(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var X7=Pw,Z7=V7,Q7=Y7,e9=J7,t9=K7,n9=W7,cn={isNothing:X7,isObject:Z7,toArray:Q7,repeat:e9,isNegativeZero:t9,extend:n9};function zw(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function kl(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=zw(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}kl.prototype=Object.create(Error.prototype);kl.prototype.constructor=kl;kl.prototype.toString=function(t){return this.name+": "+zw(this,t)};var Qi=kl;function lh(e,t,n,i,r){var o="",a="",s=Math.floor(r/2)-1;return i-t>s&&(o=" ... ",t=i-s+o.length),n-i>s&&(a=" ...",n=i+s-a.length),{str:o+e.slice(t,n).replace(/\t/g,"")+a,pos:i-t+o.length}}function ch(e,t){return cn.repeat(" ",t-e.length)+e}function i9(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],o,a=-1;o=n.exec(e.buffer);)r.push(o.index),i.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=i.length-2);a<0&&(a=i.length-1);var s="",l,c,f=Math.min(e.line+t.linesAfter,r.length).toString().length,m=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)c=lh(e.buffer,i[a-l],r[a-l],e.position-(i[a]-i[a-l]),m),s=cn.repeat(" ",t.indent)+ch((e.line-l+1).toString(),f)+" | "+c.str+`
`+s;for(c=lh(e.buffer,i[a],r[a],e.position,m),s+=cn.repeat(" ",t.indent)+ch((e.line+1).toString(),f)+" | "+c.str+`
`,s+=cn.repeat("-",t.indent+f+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=r.length);l++)c=lh(e.buffer,i[a+l],r[a+l],e.position-(i[a]-i[a+l]),m),s+=cn.repeat(" ",t.indent)+ch((e.line+l+1).toString(),f)+" | "+c.str+`
`;return s.replace(/\n$/,"")}var r9=i9,o9=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],a9=["scalar","sequence","mapping"];function s9(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function l9(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(o9.indexOf(n)===-1)throw new Qi('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=s9(t.styleAliases||null),a9.indexOf(this.kind)===-1)throw new Qi('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var rn=l9;function xb(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(o,a){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(r=a)}),n[r]=i}),n}function c9(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function Wp(e){return this.extend(e)}Wp.prototype.extend=function(t){var n=[],i=[];if(t instanceof rn)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Qi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof rn))throw new Qi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Qi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Qi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof rn))throw new Qi("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Wp.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=xb(r,"implicit"),r.compiledExplicit=xb(r,"explicit"),r.compiledTypeMap=c9(r.compiledImplicit,r.compiledExplicit),r};var u9=Wp,d9=new rn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),f9=new rn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),h9=new rn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),p9=new u9({explicit:[d9,f9,h9]});function m9(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function g9(){return null}function y9(e){return e===null}var v9=new rn("tag:yaml.org,2002:null",{kind:"scalar",resolve:m9,construct:g9,predicate:y9,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function x9(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function b9(e){return e==="true"||e==="True"||e==="TRUE"}function _9(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var C9=new rn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:x9,construct:b9,predicate:_9,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function S9(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function T9(e){return 48<=e&&e<=55}function w9(e){return 48<=e&&e<=57}function E9(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!S9(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!T9(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!w9(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function A9(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function N9(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!cn.isNegativeZero(e)}var k9=new rn("tag:yaml.org,2002:int",{kind:"scalar",resolve:E9,construct:A9,predicate:N9,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),R9=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function I9(e){return!(e===null||!R9.test(e)||e[e.length-1]==="_")}function M9(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var L9=/^[-+]?[0-9]+e/;function D9(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(cn.isNegativeZero(e))return"-0.0";return n=e.toString(10),L9.test(n)?n.replace("e",".e"):n}function B9(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||cn.isNegativeZero(e))}var F9=new rn("tag:yaml.org,2002:float",{kind:"scalar",resolve:I9,construct:M9,predicate:B9,represent:D9,defaultStyle:"lowercase"}),jw=p9.extend({implicit:[v9,C9,k9,F9]}),O9=jw,Hw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$w=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function U9(e){return e===null?!1:Hw.exec(e)!==null||$w.exec(e)!==null}function P9(e){var t,n,i,r,o,a,s,l=0,c=null,f,m,p;if(t=Hw.exec(e),t===null&&(t=$w.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],a=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],m=+(t[11]||0),c=(f*60+m)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(n,i,r,o,a,s,l)),c&&p.setTime(p.getTime()-c),p}function z9(e){return e.toISOString()}var j9=new rn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:U9,construct:P9,instanceOf:Date,represent:z9});function H9(e){return e==="<<"||e===null}var $9=new rn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:H9}),$g=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function q9(e){if(e===null)return!1;var t,n,i=0,r=e.length,o=$g;for(n=0;n<r;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function G9(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=$g,a=0,s=[];for(t=0;t<r;t++)t%4===0&&t&&(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)),a=a<<6|o.indexOf(i.charAt(t));return n=r%4*6,n===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)):n===18?(s.push(a>>10&255),s.push(a>>2&255)):n===12&&s.push(a>>4&255),new Uint8Array(s)}function V9(e){var t="",n=0,i,r,o=e.length,a=$g;for(i=0;i<o;i++)i%3===0&&i&&(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]),n=(n<<8)+e[i];return r=o%3,r===0?(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]):r===2?(t+=a[n>>10&63],t+=a[n>>4&63],t+=a[n<<2&63],t+=a[64]):r===1&&(t+=a[n>>2&63],t+=a[n<<4&63],t+=a[64],t+=a[64]),t}function Y9(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var W9=new rn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:q9,construct:G9,predicate:Y9,represent:V9}),J9=Object.prototype.hasOwnProperty,K9=Object.prototype.toString;function X9(e){if(e===null)return!0;var t=[],n,i,r,o,a,s=e;for(n=0,i=s.length;n<i;n+=1){if(r=s[n],a=!1,K9.call(r)!=="[object Object]")return!1;for(o in r)if(J9.call(r,o))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Z9(e){return e!==null?e:[]}var Q9=new rn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:X9,construct:Z9}),ej=Object.prototype.toString;function tj(e){if(e===null)return!0;var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(i=a[t],ej.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;o[t]=[r[0],i[r[0]]]}return!0}function nj(e){if(e===null)return[];var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1)i=a[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var ij=new rn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:tj,construct:nj}),rj=Object.prototype.hasOwnProperty;function oj(e){if(e===null)return!0;var t,n=e;for(t in n)if(rj.call(n,t)&&n[t]!==null)return!1;return!0}function aj(e){return e!==null?e:{}}var sj=new rn("tag:yaml.org,2002:set",{kind:"mapping",resolve:oj,construct:aj}),lj=O9.extend({implicit:[j9,$9],explicit:[W9,Q9,ij,sj]}),Zr=Object.prototype.hasOwnProperty,sd=1,qw=2,Gw=3,ld=4,uh=1,cj=2,bb=3,uj=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,dj=/[\x85\u2028\u2029]/,fj=/[,\[\]\{\}]/,Vw=/^(?:!|!!|![a-z\-]+!)$/i,Yw=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _b(e){return Object.prototype.toString.call(e)}function Di(e){return e===10||e===13}function Co(e){return e===9||e===32}function Tn(e){return e===9||e===32||e===10||e===13}function ca(e){return e===44||e===91||e===93||e===123||e===125}function hj(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function pj(e){return e===120?2:e===117?4:e===85?8:0}function mj(e){return 48<=e&&e<=57?e-48:-1}function Cb(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function gj(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Ww=new Array(256),Jw=new Array(256);for(var qo=0;qo<256;qo++)Ww[qo]=Cb(qo)?1:0,Jw[qo]=Cb(qo);function yj(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||lj,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Kw(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=r9(n),new Qi(t,n)}function Ne(e,t){throw Kw(e,t)}function cd(e,t){e.onWarning&&e.onWarning.call(null,Kw(e,t))}var Sb={YAML:function(t,n,i){var r,o,a;t.version!==null&&Ne(t,"duplication of %YAML directive"),i.length!==1&&Ne(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&Ne(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),a=parseInt(r[2],10),o!==1&&Ne(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&cd(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,o;i.length!==2&&Ne(t,"TAG directive accepts exactly two arguments"),r=i[0],o=i[1],Vw.test(r)||Ne(t,"ill-formed tag handle (first argument) of the TAG directive"),Zr.call(t.tagMap,r)&&Ne(t,'there is a previously declared suffix for "'+r+'" tag handle'),Yw.test(o)||Ne(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Ne(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o}};function Vr(e,t,n,i){var r,o,a,s;if(t<n){if(s=e.input.slice(t,n),i)for(r=0,o=s.length;r<o;r+=1)a=s.charCodeAt(r),a===9||32<=a&&a<=1114111||Ne(e,"expected valid JSON character");else uj.test(s)&&Ne(e,"the stream contains non-printable characters");e.result+=s}}function Tb(e,t,n,i){var r,o,a,s;for(cn.isObject(n)||Ne(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),a=0,s=r.length;a<s;a+=1)o=r[a],Zr.call(t,o)||(t[o]=n[o],i[o]=!0)}function ua(e,t,n,i,r,o,a,s,l){var c,f;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,f=r.length;c<f;c+=1)Array.isArray(r[c])&&Ne(e,"nested arrays are not supported inside keys"),typeof r=="object"&&_b(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&_b(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,f=o.length;c<f;c+=1)Tb(e,t,o[c],n);else Tb(e,t,o,n);else!e.json&&!Zr.call(n,r)&&Zr.call(t,r)&&(e.line=a||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,Ne(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[r]=o,delete n[r];return t}function qg(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ne(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Rt(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;Co(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(Di(r))for(qg(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&cd(e,"deficient indentation"),i}function ef(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Tn(n)))}function Gg(e,t){t===1?e.result+=" ":t>1&&(e.result+=cn.repeat(`
`,t-1))}function vj(e,t,n){var i,r,o,a,s,l,c,f,m=e.kind,p=e.result,g;if(g=e.input.charCodeAt(e.position),Tn(g)||ca(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(r=e.input.charCodeAt(e.position+1),Tn(r)||n&&ca(r)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,s=!1;g!==0;){if(g===58){if(r=e.input.charCodeAt(e.position+1),Tn(r)||n&&ca(r))break}else if(g===35){if(i=e.input.charCodeAt(e.position-1),Tn(i))break}else{if(e.position===e.lineStart&&ef(e)||n&&ca(g))break;if(Di(g))if(l=e.line,c=e.lineStart,f=e.lineIndent,Rt(e,!1,-1),e.lineIndent>=t){s=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=c,e.lineIndent=f;break}}s&&(Vr(e,o,a,!1),Gg(e,e.line-l),o=a=e.position,s=!1),Co(g)||(a=e.position+1),g=e.input.charCodeAt(++e.position)}return Vr(e,o,a,!1),e.result?!0:(e.kind=m,e.result=p,!1)}function xj(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Vr(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else Di(n)?(Vr(e,i,r,!0),Gg(e,Rt(e,!1,t)),i=r=e.position):e.position===e.lineStart&&ef(e)?Ne(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);Ne(e,"unexpected end of the stream within a single quoted scalar")}function bj(e,t){var n,i,r,o,a,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Vr(e,n,e.position,!0),e.position++,!0;if(s===92){if(Vr(e,n,e.position,!0),s=e.input.charCodeAt(++e.position),Di(s))Rt(e,!1,t);else if(s<256&&Ww[s])e.result+=Jw[s],e.position++;else if((a=pj(s))>0){for(r=a,o=0;r>0;r--)s=e.input.charCodeAt(++e.position),(a=hj(s))>=0?o=(o<<4)+a:Ne(e,"expected hexadecimal character");e.result+=gj(o),e.position++}else Ne(e,"unknown escape sequence");n=i=e.position}else Di(s)?(Vr(e,n,i,!0),Gg(e,Rt(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ef(e)?Ne(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Ne(e,"unexpected end of the stream within a double quoted scalar")}function _j(e,t){var n=!0,i,r,o,a=e.tag,s,l=e.anchor,c,f,m,p,g,b=Object.create(null),x,C,v,y;if(y=e.input.charCodeAt(e.position),y===91)f=93,g=!1,s=[];else if(y===123)f=125,g=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),y=e.input.charCodeAt(++e.position);y!==0;){if(Rt(e,!0,t),y=e.input.charCodeAt(e.position),y===f)return e.position++,e.tag=a,e.anchor=l,e.kind=g?"mapping":"sequence",e.result=s,!0;n?y===44&&Ne(e,"expected the node content, but found ','"):Ne(e,"missed comma between flow collection entries"),C=x=v=null,m=p=!1,y===63&&(c=e.input.charCodeAt(e.position+1),Tn(c)&&(m=p=!0,e.position++,Rt(e,!0,t))),i=e.line,r=e.lineStart,o=e.position,Va(e,t,sd,!1,!0),C=e.tag,x=e.result,Rt(e,!0,t),y=e.input.charCodeAt(e.position),(p||e.line===i)&&y===58&&(m=!0,y=e.input.charCodeAt(++e.position),Rt(e,!0,t),Va(e,t,sd,!1,!0),v=e.result),g?ua(e,s,b,C,x,v,i,r,o):m?s.push(ua(e,null,b,C,x,v,i,r,o)):s.push(x),Rt(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}Ne(e,"unexpected end of the stream within a flow collection")}function Cj(e,t){var n,i,r=uh,o=!1,a=!1,s=t,l=0,c=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)i=!1;else if(m===62)i=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)uh===r?r=m===43?bb:cj:Ne(e,"repeat of a chomping mode identifier");else if((f=mj(m))>=0)f===0?Ne(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Ne(e,"repeat of an indentation width identifier"):(s=t+f-1,a=!0);else break;if(Co(m)){do m=e.input.charCodeAt(++e.position);while(Co(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!Di(m)&&m!==0)}for(;m!==0;){for(qg(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<s)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>s&&(s=e.lineIndent),Di(m)){l++;continue}if(e.lineIndent<s){r===bb?e.result+=cn.repeat(`
`,o?1+l:l):r===uh&&o&&(e.result+=`
`);break}for(i?Co(m)?(c=!0,e.result+=cn.repeat(`
`,o?1+l:l)):c?(c=!1,e.result+=cn.repeat(`
`,l+1)):l===0?o&&(e.result+=" "):e.result+=cn.repeat(`
`,l):e.result+=cn.repeat(`
`,o?1+l:l),o=!0,a=!0,l=0,n=e.position;!Di(m)&&m!==0;)m=e.input.charCodeAt(++e.position);Vr(e,n,e.position,!1)}return!0}function wb(e,t){var n,i=e.tag,r=e.anchor,o=[],a,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!Tn(a))));){if(s=!0,e.position++,Rt(e,!0,-1)&&e.lineIndent<=t){o.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,Va(e,t,Gw,!1,!0),o.push(e.result),Rt(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)Ne(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=o,!0):!1}function Sj(e,t,n){var i,r,o,a,s,l,c=e.tag,f=e.anchor,m={},p=Object.create(null),g=null,b=null,x=null,C=!1,v=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),y=e.input.charCodeAt(e.position);y!==0;){if(!C&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&Tn(i))y===63?(C&&(ua(e,m,p,g,b,null,a,s,l),g=b=x=null),v=!0,C=!0,r=!0):C?(C=!1,r=!0):Ne(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=i;else{if(a=e.line,s=e.lineStart,l=e.position,!Va(e,n,qw,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);Co(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Tn(y)||Ne(e,"a whitespace character is expected after the key-value separator within a block mapping"),C&&(ua(e,m,p,g,b,null,a,s,l),g=b=x=null),v=!0,C=!1,r=!1,g=e.tag,b=e.result;else if(v)Ne(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(v)Ne(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(C&&(a=e.line,s=e.lineStart,l=e.position),Va(e,t,ld,!0,r)&&(C?b=e.result:x=e.result),C||(ua(e,m,p,g,b,x,a,s,l),g=b=x=null),Rt(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)Ne(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return C&&ua(e,m,p,g,b,null,a,s,l),v&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=m),v}function Tj(e){var t,n=!1,i=!1,r,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Ne(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(n=!0,a=e.input.charCodeAt(++e.position)):a===33?(i=!0,r="!!",a=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Ne(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Tn(a);)a===33&&(i?Ne(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Vw.test(r)||Ne(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),fj.test(o)&&Ne(e,"tag suffix cannot contain flow indicator characters")}o&&!Yw.test(o)&&Ne(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Ne(e,"tag name is malformed: "+o)}return n?e.tag=o:Zr.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:Ne(e,'undeclared tag handle "'+r+'"'),!0}function wj(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Ne(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Tn(n)&&!ca(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Ej(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!Tn(i)&&!ca(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Zr.call(e.anchorMap,n)||Ne(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Rt(e,!0,-1),!0}function Va(e,t,n,i,r){var o,a,s,l=1,c=!1,f=!1,m,p,g,b,x,C;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=ld===n||Gw===n,i&&Rt(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Tj(e)||wj(e);)Rt(e,!0,-1)?(c=!0,s=o,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=c||r),(l===1||ld===n)&&(sd===n||qw===n?x=t:x=t+1,C=e.position-e.lineStart,l===1?s&&(wb(e,C)||Sj(e,C,x))||_j(e,x)?f=!0:(a&&Cj(e,x)||xj(e,x)||bj(e,x)?f=!0:Ej(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Ne(e,"alias node should not have any properties")):vj(e,x,sd===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=s&&wb(e,C))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ne(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,p=e.implicitTypes.length;m<p;m+=1)if(b=e.implicitTypes[m],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Zr.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,g=e.typeMap.multi[e.kind||"fallback"],m=0,p=g.length;m<p;m+=1)if(e.tag.slice(0,g[m].tag.length)===g[m].tag){b=g[m];break}b||Ne(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&Ne(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ne(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Aj(e){var t=e.position,n,i,r,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Rt(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),n=e.position;a!==0&&!Tn(a);)a=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&Ne(e,"directive name must not be less than one character in length");a!==0;){for(;Co(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Di(a));break}if(Di(a))break;for(n=e.position;a!==0&&!Tn(a);)a=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}a!==0&&qg(e),Zr.call(Sb,i)?Sb[i](e,i,r):cd(e,'unknown document directive "'+i+'"')}if(Rt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Rt(e,!0,-1)):o&&Ne(e,"directives end mark is expected"),Va(e,e.lineIndent-1,ld,!1,!0),Rt(e,!0,-1),e.checkLineBreaks&&dj.test(e.input.slice(t,e.position))&&cd(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ef(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Rt(e,!0,-1));return}if(e.position<e.length-1)Ne(e,"end of the stream or a document separator is expected");else return}function Nj(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new yj(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,Ne(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Aj(n);return n.documents}function kj(e,t){var n=Nj(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Qi("expected a single document in the stream, but found more")}}var Rj=kj,Ij={load:Rj},Mj=jw,Lj=Ij.load;function Dj(e){const t=e.match(tw);if(!t)return{text:e,metadata:{}};let n=Lj(t[1],{schema:Mj})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const i={};return n.displayMode&&(i.displayMode=n.displayMode.toString()),n.title&&(i.title=n.title.toString()),n.config&&(i.config=n.config),{text:e.slice(t[0].length),metadata:i}}const Bj=e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,i)=>"<"+n+i.replace(/="([^"]*)"/g,"='$1'")+">"),Fj=e=>{const{text:t,metadata:n}=Dj(e),{displayMode:i,title:r,config:o={}}=n;return i&&(o.gantt||(o.gantt={}),o.gantt.displayMode=i),{title:r,config:o,text:t}},Oj=e=>{const t=ol.detectInit(e)??{},n=ol.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:i})=>{}):(n==null?void 0:n.type)==="wrap"&&(t.wrap=!0),{text:lP(e),directive:t}};function Xw(e){const t=Bj(e),n=Fj(t),i=Oj(n.text),r=lw(n.config,i.directive);return e=G7(i.text),{code:e,title:n.title,config:r}}const Uj=5e4,Pj="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",zj="sandbox",jj="loose",Hj="http://www.w3.org/2000/svg",$j="http://www.w3.org/1999/xlink",qj="http://www.w3.org/1999/xhtml",Gj="100%",Vj="100%",Yj="border:0;margin:0;",Wj="margin:0",Jj="allow-top-navigation-by-user-activation allow-popups",Kj='The "iframe" tag is not supported by your browser.',Xj=["foreignobject"],Zj=["dominant-baseline"];function Zw(e){const t=Xw(e);return rd(),DP(t.config??{}),t}async function Qj(e,t){Hg(),e=Zw(e).code;try{await Vg(e)}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}return!0}const Eb=(e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,eH=(e,t={})=>{var n;let i="";if(e.themeCSS!==void 0&&(i+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!sh(t)){const s=e.htmlLabels||((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const l in t){const c=t[l];sh(c.styles)||s.forEach(f=>{i+=Eb(c.id,f,c.styles)}),sh(c.textStyles)||(i+=Eb(c.id,"tspan",c.textStyles))}}return i},tH=(e,t,n,i)=>{const r=eH(e,n),o=e7(t,r,e.themeVariables);return zp(fU(`${i}{${o}}`),pU)},nH=(e="",t,n)=>{let i=e;return!n&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=RP(i),i=i.replace(/<br>/g,"<br/>"),i},iH=(e="",t)=>{var n,i;const r=(i=(n=t==null?void 0:t.viewBox)==null?void 0:n.baseVal)!=null&&i.height?t.viewBox.baseVal.height+"px":Vj,o=btoa('<body style="'+Wj+'">'+e+"</body>");return`<iframe style="width:${Gj};height:${r};${Yj}" src="data:text/html;base64,${o}" sandbox="${Jj}">
  ${Kj}
</iframe>`},Ab=(e,t,n,i,r)=>{const o=e.append("div");o.attr("id",n),i&&o.attr("style",i);const a=o.append("svg").attr("id",t).attr("width","100%").attr("xmlns",Hj);return r&&a.attr("xmlns:xlink",r),a.append("g"),e};function Nb(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const rH=(e,t,n,i)=>{var r,o,a;(r=e.getElementById(t))==null||r.remove(),(o=e.getElementById(n))==null||o.remove(),(a=e.getElementById(i))==null||a.remove()},oH=async function(e,t,n){var i,r,o,a,s,l;Hg();const c=Zw(t);t=c.code;const f=Fi();Re.debug(f),t.length>((f==null?void 0:f.maxTextSize)??Uj)&&(t=Pj);const m="#"+e,p="i"+e,g="#"+p,b="d"+e,x="#"+b;let C=Wn("body");const v=f.securityLevel===zj,y=f.securityLevel===jj,_=f.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),v){const z=Nb(Wn(n),p);C=Wn(z.nodes()[0].contentDocument.body),C.node().style.margin=0}else C=Wn(n);Ab(C,e,b,`font-family: ${_}`,$j)}else{if(rH(document,e,b,p),v){const z=Nb(Wn("body"),p);C=Wn(z.nodes()[0].contentDocument.body),C.node().style.margin=0}else C=Wn("body");Ab(C,e,b)}let T,A;try{T=await Vg(t,{title:c.title})}catch(z){T=new Uw("error"),A=z}const I=C.select(x).node(),N=T.type,P=I.firstChild,M=P.firstChild,q=(r=(i=T.renderer).getClasses)==null?void 0:r.call(i,t,T),X=tH(f,N,q,m),D=document.createElement("style");D.innerHTML=X,P.insertBefore(D,M);try{await T.renderer.draw(t,e,mb,T)}catch(z){throw y7.draw(t,e,mb),z}const Y=C.select(`${x} svg`),S=(a=(o=T.db).getAccTitle)==null?void 0:a.call(o),O=(l=(s=T.db).getAccDescription)==null?void 0:l.call(s);sH(N,Y,S,O),C.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",qj);let B=C.select(x).node().innerHTML;if(Re.debug("config.arrowMarkerAbsolute",f.arrowMarkerAbsolute),B=nH(B,v,ZT(f.arrowMarkerAbsolute)),v){const z=C.select(x+" svg").node();B=iH(B,z)}else y||(B=Pa.sanitize(B,{ADD_TAGS:Xj,ADD_ATTR:Zj,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(j7(),A)throw A;const J=Wn(v?g:x).node();return J&&"remove"in J&&J.remove(),{svg:B,bindFunctions:T.db.bindFunctions}};function aH(e={}){var t;e!=null&&e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),MP(e),e!=null&&e.theme&&e.theme in lr?e.themeVariables=lr[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=lr.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?IP(e):uw();Ig(n.logLevel),Hg()}const Vg=(e,t={})=>{const{code:n}=Xw(e);return z7(n,t)};function sH(e,t,n,i){$7(t,e),q7(t,n,i,t.attr("id"))}const Ro=Object.freeze({render:oH,parse:Qj,getDiagramFromText:Vg,initialize:aH,getConfig:Fi,setConfig:dw,getSiteConfig:uw,updateSiteConfig:LP,reset:()=>{rd()},globalReset:()=>{rd(qa)},defaultConfig:qa});Ig(Fi().logLevel);rd(Fi());const lH=async()=>{Re.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries($a).map(async([n,{detector:i,loader:r}])=>{if(r)try{jg(n)}catch{try{const{diagram:a,id:s}=await r();ad(s,a,i)}catch(a){throw Re.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete $a[n],a}}}))).filter(n=>n.status==="rejected");if(t.length>0){Re.error(`Failed to load ${t.length} external diagrams`);for(const n of t)Re.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},cH=(e,t,n)=>{Re.warn(e),sw(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},Qw=async function(e={querySelector:".mermaid"}){try{await uH(e)}catch(t){if(sw(t)&&Re.error(t.str),Hn.parseError&&Hn.parseError(t),!e.suppressErrors)throw Re.error("Use the suppressErrors option to suppress these errors"),t}},uH=async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const i=Ro.getConfig();Re.debug(`${e?"":"No "}Callback function found`);let r;if(n)r=n;else if(t)r=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");Re.debug(`Found ${r.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(Re.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),Ro.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const o=new ol.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let a;const s=[];for(const l of Array.from(r)){Re.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${o.next()}`;a=l.innerHTML,a=dL(ol.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const f=ol.detectInit(a);f&&Re.debug("Detected early reinit: ",f);try{const{svg:m,bindFunctions:p}=await iE(c,a,l);l.innerHTML=m,e&&await e(c),p&&p(l)}catch(m){cH(m,s,Hn.parseError)}}if(s.length>0)throw s[0]},eE=function(e){Ro.initialize(e)},dH=async function(e,t,n){Re.warn("mermaid.init is deprecated. Please use run instead."),e&&eE(e);const i={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await Qw(i)},fH=async(e,{lazyLoad:t=!0}={})=>{iw(...e),t===!1&&await lH()},tE=function(){if(Hn.startOnLoad){const{startOnLoad:e}=Ro.getConfig();e&&Hn.run().catch(t=>Re.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",tE,!1)}const hH=function(e){Hn.parseError=e},ud=[];let dh=!1;const nE=async()=>{if(!dh){for(dh=!0;ud.length>0;){const e=ud.shift();if(e)try{await e()}catch(t){Re.error("Error executing queue",t)}}dh=!1}},pH=async(e,t)=>new Promise((n,i)=>{const r=()=>new Promise((o,a)=>{Ro.parse(e,t).then(s=>{o(s),n(s)},s=>{var l;Re.error("Error parsing",s),(l=Hn.parseError)==null||l.call(Hn,s),a(s),i(s)})});ud.push(r),nE().catch(i)}),iE=(e,t,n)=>new Promise((i,r)=>{const o=()=>new Promise((a,s)=>{Ro.render(e,t,n).then(l=>{a(l),i(l)},l=>{var c;Re.error("Error parsing",l),(c=Hn.parseError)==null||c.call(Hn,l),s(l),r(l)})});ud.push(o),nE().catch(r)}),Hn={startOnLoad:!0,mermaidAPI:Ro,parse:pH,render:iE,init:dH,run:Qw,registerExternalDiagrams:fH,initialize:eE,parseError:void 0,contentLoaded:tE,setParseErrorHandler:hH,detectType:Zd},mH=e=>{if(!e)return"";let t=e.replace(/```mermaid/gi,"").replace(/```/g,"").trim();t=t.replace(/(\s-{2}|-{2}\.|={2})\s+([^\n]+?)\s+(-{2}>|-{2}-|\.-{2}>|={2}>)/g,(r,o,a,s)=>{const l=a.trim();if(l.startsWith('"')&&l.endsWith('"')||l.startsWith("'")&&l.endsWith("'")||!/[()\[\]{}"']/.test(l))return r;const c=l.replace(/"/g,"'");return`${o} "${c}" ${s}`});let n="",i=0;for(;i<t.length;){const r=t[i];if(r==='"'||r==="'"){const s=r;for(n+=r,i++;i<t.length;){const l=t[i];if(n+=l,l==="\\")i++,i<t.length&&(n+=t[i]);else if(l===s){i++;break}i++}continue}let o="",a="";if(t.startsWith("((",i)?(o="((",a="))"):t.startsWith("[(",i)?(o="[(",a=")]"):t.startsWith("[[",i)?(o="[[",a="]]"):t.startsWith("{{",i)?(o="{{",a="}}"):r==="["?(o="[",a="]"):r==="("?(o="(",a=")"):r==="{"&&(o="{",a="}"),o){const s=i+o.length;let l=1,c=s,f=!1,m="";for(;c<t.length;){const p=t[c];if((p==='"'||p==="'")&&(f?p===m&&t[c-1]!=="\\"&&(f=!1):(f=!0,m=p)),!f)if(t.startsWith(a,c)){if(l--,l===0)break;c+=a.length-1}else t.startsWith(o,c)&&(l++,c+=o.length-1);c++}if(l===0){const p=t.substring(s,c),g=p.trim(),b=g.startsWith('"')&&g.endsWith('"')||g.startsWith("'")&&g.endsWith("'");let x=p;if(b){let C=g.substring(1,g.length-1);C=C.replace(/"/g,"'"),x=`"${C}"`}else x=`"${p.replace(/"/g,"'")}"`;n+=o+x+a,i=c+a.length;continue}}n+=r,i++}return n.replace(/;(\s*$|\n)/gm,`
`)},kb=({chart:e})=>{const t=Q.useRef(null),[n,i]=Q.useState(""),[r,o]=Q.useState(null);return Q.useEffect(()=>{Hn.initialize({startOnLoad:!0,theme:"dark",securityLevel:"loose",fontFamily:"Fira Code"})},[]),Q.useEffect(()=>{(async()=>{if(t.current&&e){o(null);try{const s=`mermaid-${Math.random().toString(36).substr(2,9)}`,l=mH(e);await Hn.parse(l);const{svg:c}=await Hn.render(s,l);i(c)}catch(s){console.error("Mermaid render error:",s),o(s.message||"Syntax Error")}}})()},[e]),r?u.jsxs("div",{className:"w-full p-4 bg-red-950/30 border border-red-900/50 rounded-lg text-left",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),u.jsx("span",{className:"text-red-400 text-xs font-bold",children:"Diagram Error"})]}),u.jsx("p",{className:"text-red-300/60 text-[10px] font-mono mb-3 line-clamp-2",children:r.split(`
`)[0]}),u.jsxs("details",{className:"group",children:[u.jsxs("summary",{className:"text-[10px] text-gray-500 cursor-pointer hover:text-gray-300 transition-colors list-none flex items-center gap-1",children:[u.jsx("span",{className:"group-open:rotate-90 transition-transform",children:""}),"View Raw Mermaid Source"]}),u.jsx("pre",{className:"mt-2 text-[10px] font-mono text-gray-400 bg-black/40 p-3 rounded border border-white/5 whitespace-pre-wrap break-all select-all",children:e})]})]}):u.jsx("div",{ref:t,className:"mermaid-container w-full flex justify-center p-4 bg-[var(--bg-primary)] rounded-lg overflow-x-auto min-h-[100px]",dangerouslySetInnerHTML:{__html:n}})},gH=()=>u.jsxs("svg",{viewBox:"0 0 200 100",className:"w-full h-32 text-blue-400",children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),u.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),u.jsx("rect",{x:"20",y:"30",width:"40",height:"40",rx:"4",fill:"currentColor",opacity:"0.2",stroke:"currentColor",strokeWidth:"2"}),u.jsx("rect",{x:"140",y:"30",width:"40",height:"40",rx:"4",fill:"currentColor",opacity:"0.2",stroke:"currentColor",strokeWidth:"2"}),u.jsx("circle",{cx:"100",cy:"50",r:"15",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 2",children:u.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 100 50",to:"360 100 50",dur:"3s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"100",cy:"50",r:"8",fill:"currentColor",opacity:"0.5"}),u.jsx("path",{d:"M 65 50 L 80 50",stroke:"currentColor",strokeWidth:"2",markerEnd:"url(#arrow)"}),u.jsx("path",{d:"M 120 50 L 135 50",stroke:"currentColor",strokeWidth:"2",markerEnd:"url(#arrow)"}),u.jsx("circle",{cx:"40",cy:"50",r:"4",fill:"white",children:u.jsx("animate",{attributeName:"opacity",values:"0;1;0",dur:"2s",repeatCount:"indefinite"})}),u.jsx("circle",{cx:"160",cy:"50",r:"4",fill:"white",children:u.jsx("animate",{attributeName:"opacity",values:"0;1;0",dur:"2s",begin:"1s",repeatCount:"indefinite"})})]}),yH=()=>u.jsxs("svg",{viewBox:"0 0 200 100",className:"w-full h-32 text-green-400",children:[u.jsx("ellipse",{cx:"100",cy:"25",rx:"30",ry:"10",fill:"currentColor",opacity:"0.3",stroke:"currentColor",strokeWidth:"2"}),u.jsx("path",{d:"M 70 25 V 75 A 30 10 0 0 0 130 75 V 25",fill:"none",stroke:"currentColor",strokeWidth:"2"}),u.jsx("ellipse",{cx:"100",cy:"75",rx:"30",ry:"10",fill:"currentColor",opacity:"0.1"}),u.jsx("path",{d:"M 70 50 A 30 10 0 0 0 130 50",fill:"none",stroke:"currentColor",strokeWidth:"2",opacity:"0.5"}),u.jsxs("rect",{x:"85",y:"0",width:"30",height:"10",fill:"white",opacity:"0.8",children:[u.jsx("animate",{attributeName:"y",values:"0;40;80;40;0",dur:"3s",repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"opacity",values:"0;0.8;0",dur:"3s",repeatCount:"indefinite"})]})]}),vH=()=>u.jsxs("svg",{viewBox:"0 0 200 100",className:"w-full h-32 text-purple-400",children:[u.jsx("rect",{x:"40",y:"10",width:"120",height:"80",rx:"4",fill:"none",stroke:"currentColor",strokeWidth:"2"}),u.jsx("rect",{x:"40",y:"10",width:"120",height:"15",rx:"4",fill:"currentColor",opacity:"0.2"}),u.jsx("rect",{x:"50",y:"35",width:"40",height:"20",rx:"2",fill:"currentColor",opacity:"0.1"}),u.jsx("rect",{x:"100",y:"35",width:"50",height:"20",rx:"2",fill:"currentColor",opacity:"0.1"}),u.jsx("rect",{x:"50",y:"65",width:"100",height:"15",rx:"2",fill:"currentColor",opacity:"0.3",children:u.jsx("animate",{attributeName:"width",values:"100;90;100",dur:"4s",repeatCount:"indefinite"})}),u.jsxs("circle",{cx:"150",cy:"80",r:"5",fill:"white",opacity:"0",children:[u.jsx("animate",{attributeName:"opacity",values:"0;1;0",dur:"1.5s",repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"cx",values:"50;150",dur:"1.5s",repeatCount:"indefinite"}),u.jsx("animate",{attributeName:"cy",values:"45;80",dur:"1.5s",repeatCount:"indefinite"})]})]}),xH=()=>u.jsxs("svg",{viewBox:"0 0 200 100",className:"w-full h-32 text-orange-400",children:[u.jsx("circle",{cx:"40",cy:"50",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"2"}),u.jsx("circle",{cx:"160",cy:"50",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"2"}),u.jsx("path",{d:"M 65 40 L 135 40",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4",children:u.jsx("animate",{attributeName:"stroke-dashoffset",from:"100",to:"0",dur:"1s",repeatCount:"indefinite"})}),u.jsx("path",{d:"M 135 60 L 65 60",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4",children:u.jsx("animate",{attributeName:"stroke-dashoffset",from:"0",to:"100",dur:"1s",repeatCount:"indefinite"})}),u.jsx("text",{x:"32",y:"54",fontSize:"12",fill:"currentColor",className:"font-mono",children:"C"}),u.jsx("text",{x:"152",y:"54",fontSize:"12",fill:"currentColor",className:"font-mono",children:"S"})]}),bH=()=>u.jsxs("svg",{viewBox:"0 0 200 100",className:"w-full h-32 text-yellow-400",children:[u.jsx("path",{d:"M 50 50 L 80 20 L 110 50 L 80 80 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),u.jsx("path",{d:"M 20 50 L 50 50",stroke:"currentColor",strokeWidth:"2"}),u.jsx("path",{d:"M 110 50 L 140 20",stroke:"currentColor",strokeWidth:"2"}),u.jsx("path",{d:"M 110 50 L 140 80",stroke:"currentColor",strokeWidth:"2"}),u.jsx("circle",{cx:"80",cy:"50",r:"5",fill:"currentColor",children:u.jsx("animate",{attributeName:"fill",values:"#facc15;#ffffff;#facc15",dur:"1s",repeatCount:"indefinite"})})]}),rE=e=>e?e.split(/\n\n+/).map((n,i)=>{const r=n.split(/(`[^`]+`|\*\*[^*]+\*\*)/g);return u.jsx("p",{className:"mb-3 last:mb-0 leading-relaxed",children:r.map((o,a)=>o.startsWith("`")&&o.endsWith("`")?u.jsx("code",{className:"bg-blue-500/10 text-blue-300 px-1.5 py-0.5 rounded font-mono text-[0.9em] border border-blue-500/20 mx-0.5",children:o.slice(1,-1)},a):o.startsWith("**")&&o.endsWith("**")?u.jsx("strong",{className:"text-[var(--text-primary)] font-bold",children:o.slice(2,-2)},a):o)},i)}):u.jsx("p",{className:"italic opacity-50 text-xs",children:"No explanation provided."}),oE=({code:e,onSave:t,placeholder:n})=>{const[i,r]=Q.useState(!1),[o,a]=Q.useState(!1),[s,l]=Q.useState(!1),[c,f]=Q.useState(e||"");Q.useEffect(()=>{i||f(e||"")},[e,i]);const m=g=>{g.stopPropagation(),e&&navigator.clipboard.writeText(e)},p=()=>{const[g,b]=Q.useState(1),[x,C]=Q.useState({x:0,y:0}),[v,y]=Q.useState(!1),[_,T]=Q.useState({x:0,y:0}),A=P=>{y(!0),T({x:P.clientX-x.x,y:P.clientY-x.y})},I=P=>{v&&(P.preventDefault(),C({x:P.clientX-_.x,y:P.clientY-_.y}))},N=()=>y(!1);return nm.createPortal(u.jsxs("div",{className:"fixed top-14 left-0 right-0 bottom-0 z-[100] bg-[var(--bg-primary)] flex flex-col animate-fade-in border-t border-[var(--border-color)]",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-[var(--bg-secondary)] border-b border-[var(--border-color)] flex-none shadow-md z-20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Fn,{className:"w-6 h-6 text-blue-400"}),u.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Diagram View"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center bg-[var(--bg-tertiary)] rounded-lg border border-[var(--border-color)] p-1",children:[u.jsx("button",{onClick:()=>b(P=>Math.max(.2,P-.2)),className:"p-2 hover:bg-[var(--bg-secondary)] rounded text-[var(--text-secondary)] hover:text-white",title:"Zoom Out",children:"-"}),u.jsxs("span",{className:"w-12 text-center text-xs font-mono",children:[Math.round(g*100),"%"]}),u.jsx("button",{onClick:()=>b(P=>Math.min(4,P+.2)),className:"p-2 hover:bg-[var(--bg-secondary)] rounded text-[var(--text-secondary)] hover:text-white",title:"Zoom In",children:"+"}),u.jsx("div",{className:"w-px h-4 bg-[var(--border-color)] mx-1"}),u.jsx("button",{onClick:()=>{b(1),C({x:0,y:0})},className:"p-2 hover:bg-[var(--bg-secondary)] rounded text-[var(--text-secondary)] hover:text-white text-xs",title:"Reset View",children:"Reset"})]}),u.jsxs("button",{onClick:()=>l(!1),className:"flex items-center gap-2 px-3 py-2 rounded bg-[var(--bg-tertiary)] hover:bg-[var(--bg-secondary)] text-[var(--text-primary)] transition-colors border border-[var(--border-color)]",children:[u.jsx(jM,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Exit"})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-hidden bg-[var(--bg-primary)] relative cursor-grab active:cursor-grabbing",onMouseDown:A,onMouseMove:I,onMouseUp:N,onMouseLeave:N,children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-transform duration-75 ease-out origin-center",style:{transform:`translate(${x.x}px, ${x.y}px) scale(${g})`},children:u.jsx("div",{className:"pointer-events-none min-w-[50vw]",children:u.jsx(kb,{chart:e||""})})}),u.jsx("div",{className:"absolute bottom-6 left-6 bg-black/50 text-white/50 text-xs px-3 py-1 rounded backdrop-blur-sm pointer-events-none",children:"Drag to pan  Use buttons to zoom"})]})]}),document.body)};return i?u.jsxs("div",{className:"w-full h-full flex flex-col p-2 bg-[var(--bg-tertiary)] animate-fade-in",children:[u.jsx("textarea",{value:c,onChange:g=>f(g.target.value),className:"flex-1 min-h-[150px] w-full bg-[var(--bg-primary)] text-[var(--text-primary)] font-mono text-xs p-3 border border-[var(--border-color)] rounded resize-none focus:outline-none focus:border-blue-500",placeholder:n||`graph TD
  A[Start] --> B[End]`,autoFocus:!0}),u.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[u.jsx("button",{onClick:()=>{r(!1),f(e||"")},className:"px-3 py-1.5 text-xs font-medium rounded text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:()=>{t(c),r(!1)},className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-1",children:[u.jsx(jn,{className:"w-3 h-3"})," Save Diagram"]})]})]}):u.jsxs("div",{className:"relative group/edit w-full h-full min-h-[100px] flex flex-col",children:[u.jsxs("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover/edit:opacity-100 transition-opacity flex items-center gap-1",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-tertiary)] rounded-md border border-[var(--border-color)] p-1",children:[u.jsx("button",{onClick:()=>l(!0),className:"p-1.5 rounded hover:bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Full Screen",children:u.jsx(dg,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>r(!0),className:"p-1.5 rounded hover:bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Edit Diagram",children:u.jsx(_l,{className:"w-3.5 h-3.5"})})]}),u.jsx("div",{className:"w-px h-4 bg-[var(--border-color)] mx-1"}),u.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-tertiary)] rounded-md border border-[var(--border-color)] p-1",children:[u.jsx("button",{onClick:()=>a(!o),className:`p-1.5 rounded transition-all ${o?"bg-blue-600 text-white":"text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] hover:text-[var(--text-primary)]"}`,title:o?"View Diagram":"View Code",children:o?u.jsx($l,{className:"w-3.5 h-3.5"}):u.jsx(Fa,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:m,className:"p-1.5 rounded text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Copy Mermaid Code",children:u.jsx(Fn,{className:"w-3.5 h-3.5"})})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center w-full",children:o?u.jsx("div",{className:"w-full h-full p-4 overflow-auto bg-[var(--bg-tertiary)]/50",children:u.jsx("pre",{className:"font-mono text-xs text-[var(--text-secondary)] whitespace-pre-wrap",children:e})}):e?u.jsx(kb,{chart:e}):u.jsxs("div",{className:"flex flex-col items-center justify-center text-[var(--text-secondary)] p-8",children:[u.jsx("p",{className:"italic text-sm mb-2",children:"No diagram available."}),u.jsxs("button",{onClick:()=>r(!0),className:"text-blue-400 hover:text-blue-300 text-xs hover:underline flex items-center gap-1",children:[u.jsx(_l,{className:"w-3 h-3"})," Create one"]})]})}),s&&u.jsx(p,{})]})},_H=({aiPlans:e,activePlanId:t,setActivePlanId:n,setAiPlans:i})=>{const r=e.find(m=>m.id===t),[o,a]=Q.useState(new Set);Q.useEffect(()=>{r&&r.isProject&&Array.isArray(r.blocks)&&a(new Set(r.blocks.map(m=>m.id)))},[t,r]);const s=m=>{a(p=>{const g=new Set(p);return g.has(m)?g.delete(m):g.add(m),g})},l=(m,p)=>{m.stopPropagation();const g=e.filter(b=>b.id!==p);i(g),t===p&&g.length>0?n(g[g.length-1].id):g.length===0&&n(null)},c=m=>{i(p=>p.map(g=>g.id===t?{...g,globalMermaid:m}:g))},f=(m,p)=>{i(g=>g.map(b=>{if(b.id!==t)return b;const x=C=>C.map(v=>({...v,mermaid:v.id===m?p:v.mermaid,children:v.children?x(v.children):void 0}));return{...b,blocks:x(b.blocks||[])}}))};return e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[var(--text-secondary)]",children:[u.jsx(Fn,{className:"w-20 h-20 mb-6 opacity-20"}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No Visualization Available"}),u.jsx("p",{className:"max-w-md text-center",children:'Use the "Generate Code" feature in the Editor tab to create a visualization plan.'})]}):u.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-primary)] transition-colors duration-300",children:[u.jsx("div",{className:"flex-none bg-[var(--bg-secondary)] border-b border-[var(--border-color)] px-2 pt-2 flex items-center overflow-x-auto no-scrollbar",children:e.map(m=>u.jsxs("div",{onClick:()=>n(m.id),className:`
                  group flex items-center gap-2 px-4 py-2 min-w-[150px] max-w-[240px] text-sm cursor-pointer rounded-t-lg select-none border-t border-l border-r
                  ${t===m.id?"bg-[var(--bg-primary)] border-[var(--border-color)] text-[var(--text-primary)] font-medium":"bg-[var(--bg-secondary)] border-transparent text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]"}
               `,children:[u.jsx("span",{className:"truncate flex-1",children:m.name||"Untitled Plan"}),u.jsx("button",{onClick:p=>l(p,m.id),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded hover:red-500/20 hover:text-red-400 transition-all",children:u.jsx(Jt,{className:"w-3.5 h-3.5"})})]},m.id))}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?u.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-fade-in",children:[u.jsx("div",{className:"flex items-center justify-between mb-8",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-3 bg-blue-600/20 rounded-lg",children:u.jsx(Fn,{className:"w-8 h-8 text-blue-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:r.name}),u.jsxs("p",{className:"text-[var(--text-secondary)] text-sm",children:["Generated on ",new Date(r.timestamp).toLocaleString(),"  ",r.language]})]})]})}),u.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-xl overflow-hidden shadow-lg",children:[u.jsxs("div",{className:"bg-[var(--bg-tertiary)] px-6 py-3 border-b border-[var(--border-color)] flex items-center gap-2",children:[u.jsx($l,{className:"w-5 h-5 text-purple-400"}),u.jsx("h2",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Global Overview"})]}),u.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Concept"}),u.jsx("div",{className:"prose prose-invert max-w-none text-sm text-[var(--text-primary)] leading-relaxed",children:rE(r.globalExplanation)})]}),u.jsx("div",{className:"min-h-[250px] flex items-center justify-center bg-[var(--bg-primary)] rounded border border-[var(--border-color)] overflow-hidden",children:u.jsx(oE,{code:r.globalMermaid,onSave:c,placeholder:"graph TD\\n  Client[Client] --> API[API Server]\\n  API --> DB[(Database)]"})})]})]}),r.isProject?u.jsx("div",{className:"space-y-8",children:(r.blocks||[]).length>0?r.blocks.map(m=>u.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-xl overflow-hidden shadow-sm",children:[u.jsxs("div",{onClick:()=>s(m.id),className:"bg-[var(--bg-tertiary)] px-4 py-3 cursor-pointer flex justify-between items-center hover:bg-[var(--bg-primary)]/50 transition-colors",children:[u.jsxs("h3",{className:"font-bold flex items-center gap-3 text-[var(--text-primary)]",children:[u.jsx(_a,{className:"w-5 h-5 text-blue-400"}),u.jsx("span",{className:"font-mono text-sm",children:m.signature}),u.jsx("span",{className:"text-xs font-normal text-[var(--text-secondary)] bg-[var(--bg-primary)] px-2 py-0.5 rounded border border-[var(--border-color)]",children:"FILE"})]}),u.jsx(ba,{className:`w-4 h-4 text-[var(--text-secondary)] transition-transform ${o.has(m.id)?"rotate-180":""}`})]}),o.has(m.id)&&u.jsx("div",{className:"p-4 bg-[var(--bg-primary)]/30 space-y-6",children:m.children&&m.children.length>0?m.children.filter(p=>["function","class","component","method"].includes(p.type)||p.mermaid||p.visualSvg).map(p=>u.jsx(Rb,{block:p,language:r.language,onUpdateMermaid:g=>f(p.id,g)},p.id)):u.jsx("div",{className:"text-center py-6 text-sm text-[var(--text-secondary)] italic border border-dashed border-[var(--border-color)] rounded-lg",children:"No visualizable functions found in this file."})})]},m.id)):u.jsx("div",{className:"text-center py-10 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-color)]",children:"No files generated or parsed correctly."})}):u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[(r.blocks||[]).map(m=>u.jsx(Rb,{block:m,language:r.language,onUpdateMermaid:p=>f(m.id,p)},m.id)),(!r.blocks||r.blocks.length===0)&&u.jsx("div",{className:"text-center py-10 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-color)]",children:"No individual code blocks analyzed."})]})]}):u.jsx("div",{className:"flex items-center justify-center h-full text-[var(--text-secondary)]",children:u.jsx("p",{children:"Select a plan to view details."})})})]})},Rb=({block:e,language:t,onUpdateMermaid:n})=>{const[i,r]=Q.useState("info"),o=s=>{if(s.visualSvg)return u.jsx("div",{className:"w-full max-w-[300px] aspect-[2/1] text-blue-400 transition-all duration-500 hover:text-blue-300",dangerouslySetInnerHTML:{__html:s.visualSvg}});switch(s.visualType){case"database":return u.jsx(yH,{});case"ui":return u.jsx(vH,{});case"api":return u.jsx(xH,{});case"logic":return u.jsx(bH,{});case"process":default:return u.jsx(gH,{})}},a=(s,l)=>{let c=Dt.languages.javascript,f="javascript";if(l){const m=l.toLowerCase();m.includes("py")?(c=Dt.languages.python,f="python"):m.includes("ts")||m.includes("typescript")?(c=Dt.languages.typescript,f="typescript"):m.includes("html")?(c=Dt.languages.markup,f="html"):m.includes("css")?(c=Dt.languages.css,f="css"):m.includes("json")&&(c=Dt.languages.json,f="json")}return{__html:Dt.highlight(s,c,f)}};return u.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-xl overflow-hidden shadow-md flex flex-col md:flex-row min-h-[300px]",children:[u.jsxs("div",{className:"md:w-64 bg-[var(--bg-tertiary)] border-r border-[var(--border-color)] p-4 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Fa,{className:"w-5 h-5 text-blue-400"}),u.jsx("span",{className:"font-mono text-xs text-[var(--text-secondary)] uppercase",children:e.type})]}),u.jsx("h3",{className:"font-bold text-[var(--text-primary)] mb-4 break-words font-mono text-sm border-b border-[var(--border-color)] pb-2",children:e.signature}),u.jsxs("div",{className:"flex flex-col gap-1 mt-auto",children:[u.jsxs("button",{onClick:()=>r("info"),className:`flex items-center gap-2 px-3 py-2 rounded text-sm transition-colors ${i==="info"?"bg-blue-600 text-white":"text-[var(--text-secondary)] hover:bg-[var(--bg-primary)]"}`,children:[u.jsx(IS,{className:"w-4 h-4"})," Explanation"]}),u.jsxs("button",{onClick:()=>r("flow"),className:`flex items-center gap-2 px-3 py-2 rounded text-sm transition-colors ${i==="flow"?"bg-blue-600 text-white":"text-[var(--text-secondary)] hover:bg-[var(--bg-primary)]"}`,children:[u.jsx(Bt,{className:"w-4 h-4"})," Workflow"]}),u.jsxs("button",{onClick:()=>r("visual"),className:`flex items-center gap-2 px-3 py-2 rounded text-sm transition-colors ${i==="visual"?"bg-blue-600 text-white":"text-[var(--text-secondary)] hover:bg-[var(--bg-primary)]"}`,children:[u.jsx($l,{className:"w-4 h-4"})," Representation"]})]})]}),u.jsxs("div",{className:"flex-1 p-6 relative bg-[var(--bg-secondary)]",children:[i==="info"&&u.jsxs("div",{className:"animate-fade-in",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-[var(--text-primary)]",children:"Logic Breakdown"}),u.jsx("div",{className:"prose prose-invert max-w-none text-sm text-[var(--text-secondary)] leading-relaxed",children:rE(e.explanation)}),e.code&&u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h5",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase",children:"Source Preview"}),u.jsx("span",{className:"text-[10px] text-[var(--text-secondary)] opacity-50",children:t||"Code"})]}),u.jsx("div",{className:"bg-[var(--bg-primary)] p-3 rounded text-xs font-mono overflow-x-auto text-gray-300 max-h-48 border border-[var(--border-color)]",children:u.jsx("pre",{dangerouslySetInnerHTML:a(e.code.split(`
`).slice(0,15).join(`
`)+(e.code.split(`
`).length>15?`
...`:""),t)})})]})]}),i==="flow"&&u.jsxs("div",{className:"h-full flex flex-col animate-fade-in",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-[var(--text-primary)]",children:"Execution Flow"}),u.jsx("div",{className:"flex-1 flex items-center justify-center bg-[var(--bg-primary)] rounded border border-[var(--border-color)] overflow-hidden",children:u.jsx(oE,{code:e.mermaid,onSave:n})})]}),i==="visual"&&u.jsxs("div",{className:"h-full flex flex-col animate-fade-in",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-[var(--text-primary)]",children:"Visual Representation"}),u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-[var(--bg-primary)] rounded border border-[var(--border-color)] p-4 relative overflow-hidden group min-h-[200px]",children:[u.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:20px_20px]"}),u.jsx("div",{className:"w-full h-full flex items-center justify-center z-10",children:o(e)}),u.jsxs("p",{className:"mt-4 text-sm text-[var(--text-secondary)] text-center uppercase tracking-widest z-10",children:["Mnemonic Type: ",u.jsx("span",{className:"text-blue-400 font-bold",children:e.visualType||"Unique"})]})]})]})]})]})},Ib=["Big O Notation","Recursion","Bit Manipulation","Memory Management","Arrays & Hashing","Two Pointers","Sliding Window","Binary Search","Backtracking","Dynamic Programming","Greedy Algorithms","Divide & Conquer","QuickSort","MergeSort","HeapSort","Topological Sort","Floyd-Warshall","Linked Lists","Trees (DFS/BFS)","Binary Search Trees","Heaps & Priority Queues","Tries (Prefix Trees)","Graphs (Dijkstra, A*)","Stacks & Queues","Hash Maps & Collisions","Disjoint Set (Union-Find)","System Design Basics","CAP Theorem","Load Balancing","Caching Strategies","Database Sharding","REST vs GraphQL","Microservices vs Monolith","SOLID Principles","Design Patterns (Singleton, Factory)","Concurrency & Threading","OSI Model Basics"],CH=({settings:e,onNavigateToCommunity:t,conceptCache:n,setConceptCache:i})=>{const[r,o]=Q.useState("bughunt"),[a,s]=Q.useState("menu"),[l,c]=Q.useState("Junior"),[f,m]=Q.useState("javascript"),[p,g]=Q.useState(""),[b,x]=Q.useState(null),[C,v]=Q.useState(""),[y,_]=Q.useState(null),[T,A]=Q.useState(0),[I,N]=Q.useState(null),[P,M]=Q.useState(null),[q,X]=Q.useState(!1),[D,Y]=Q.useState(null),S=()=>localStorage.getItem("b_code_walker_api_key"),O=async z=>{if(N(z),Y(null),n[z]){M(n[z]);return}M(null),X(!0);const Z=S();if(!Z){Y("Please add your API Key in Settings to generate lessons."),X(!1);return}try{const $=new ri({apiKey:Z}),V=`
        You are an expert Computer Science educator. Create a visual, mnemonic lesson for: "${z}".
        
        Output strictly JSON format:
        {
          "topic": "${z}",
          "explanation": "Clear, concise technical explanation (2-3 sentences).",
          "analogy": "A real-world analogy to help remember it (e.g. searching a dictionary).",
          "keyTakeaway": "One sentence summary.",
          "svg": "A VALID, ANIMATED SVG string (viewBox='0 0 200 150') that abstractly visualizes this concept. Use simple shapes (rect, circle, path). CRITICAL: Every <animate>, <animateTransform>, or <set> tag MUST have repeatCount='indefinite' so the animation loops forever. Do NOT use external images. Use 'currentColor' for strokes."
        }
      `,re=((await $.models.generateContent({model:e.activeModel,contents:V,config:{responseMimeType:"application/json"}})).text||"{}").replace(/```json|```/g,"").trim(),Ce=JSON.parse(re);M(Ce),i(ke=>({...ke,[z]:Ce}))}catch($){Y("Failed to generate lesson. "+$.message)}finally{X(!1)}},B=async()=>{const z=S();if(!z){Y("Please add your API Key in Settings to play.");return}if(!f.trim()){Y("Please define a target language.");return}s("playing"),x(null),v(""),_(null),Y(null);try{const Z=new ri({apiKey:z}),$=`
        You are a Senior Engineer conducting a coding interview. 
        Generate a coding challenge with a SUBTLE bug for a ${l} developer.
        TARGET LANGUAGE: ${f}
        ${p?`TARGET TOPIC: ${p}`:""}
        
        Output strictly JSON format:
        {
          "description": "Short scenario description (e.g. 'Fix the binary search implementation')",
          "initialCode": "The buggy code string (approx 10-20 lines)",
          "hint": "A helpful hint without giving it away",
          "language": "${f}"
        }
        
        The bug should be logical, off-by-one, mutation, or async related. Not syntax errors.
      `,ae=((await Z.models.generateContent({model:e.activeModel,contents:$,config:{responseMimeType:"application/json"}})).text||"{}").replace(/```json|```/g,"").trim(),re=JSON.parse(ae),Ce={id:Date.now().toString(),difficulty:l,description:re.description,initialCode:re.initialCode,hint:re.hint,language:re.language||f,topic:p};x(Ce),v(Ce.initialCode)}catch(Z){Y("Failed to generate level. "+Z.message),s("menu")}},U=async()=>{if(!b)return;s("verifying");const z=S();if(z)try{const Z=new ri({apiKey:z}),$=`
        Original Buggy Code:
        ${b.initialCode}

        User's Fixed Code:
        ${C}
        
        Language: ${b.language}

        Did the user fix the bug defined in the original code? 
        The code must be functional and bug-free.
        
        Output strictly JSON:
        {
          "success": boolean,
          "message": "Short feedback on what they did right or wrong."
        }
      `,ae=((await Z.models.generateContent({model:e.activeModel,contents:$,config:{responseMimeType:"application/json"}})).text||"{}").replace(/```json|```/g,"").trim(),re=JSON.parse(ae);_(re),s("result"),re.success&&A(Ce=>Ce+(l==="Junior"?100:l==="Mid-Level"?300:500))}catch(Z){Y("Verification failed. "+Z.message),s("playing")}},J=z=>Dt.highlight(z,Dt.languages[(b==null?void 0:b.language)||"javascript"]||Dt.languages.javascript,(b==null?void 0:b.language)||"javascript");return u.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-200 font-sans relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(34, 197, 94, 0.1) 0%, transparent 50%)"}}),u.jsxs("div",{className:"flex-none p-4 flex justify-center items-center z-10 gap-4",children:[u.jsxs("button",{onClick:()=>o("concepts"),className:`px-6 py-2 rounded-full flex items-center gap-2 transition-all ${r==="concepts"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[u.jsx(LS,{className:"w-5 h-5"}),u.jsx("span",{className:"font-bold",children:"Concepts"})]}),u.jsxs("button",{onClick:()=>o("bughunt"),className:`px-6 py-2 rounded-full flex items-center gap-2 transition-all ${r==="bughunt"?"bg-green-600 text-white shadow-lg shadow-green-500/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[u.jsx(VM,{className:"w-5 h-5"}),u.jsx("span",{className:"font-bold",children:"Bug Hunt"})]})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 md:p-8 relative z-10 max-w-7xl mx-auto w-full",children:[r==="concepts"&&u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full min-h-[500px]",children:[u.jsxs("div",{className:"w-full md:w-80 min-w-[20rem] flex-shrink-0 bg-gray-900/50 border border-gray-700 rounded-xl p-4 overflow-y-auto",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2 sticky top-0 bg-gray-900/90 p-2 z-10 backdrop-blur-sm border-b border-gray-700",children:[u.jsx(fx,{className:"w-4 h-4 text-yellow-500"})," Topic Library"]}),u.jsx("div",{className:"space-y-2",children:Ib.map(z=>u.jsx("button",{onClick:()=>O(z),className:`w-full text-left px-4 py-3 rounded-lg border transition-all ${I===z?"bg-indigo-900/30 border-indigo-500 text-indigo-300":"bg-gray-800/50 border-transparent hover:bg-gray-800 text-gray-400"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{children:z}),n[z]&&u.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500",title:"Cached"})]})},z))})]}),u.jsxs("div",{className:"flex-1 bg-gray-900 border border-gray-700 rounded-xl p-6 relative flex flex-col items-center justify-center text-center",children:[q?u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(Bt,{className:"w-12 h-12 text-indigo-500 animate-spin"}),u.jsx("p",{className:"text-indigo-400 animate-pulse",children:"Designing visual lesson..."})]}):P?u.jsxs("div",{className:"w-full h-full flex flex-col text-left animate-fade-in",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-gray-700 pb-4",children:P.topic}),u.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[u.jsxs("div",{className:"w-full h-64 bg-black/40 rounded-xl border border-gray-700 p-4 overflow-hidden relative group",children:[u.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:20px_20px]"}),u.jsx("div",{className:"w-full h-full text-indigo-400 flex items-center justify-center [&>svg]:w-full [&>svg]:h-full [&>svg]:max-h-full",dangerouslySetInnerHTML:{__html:P.svg}})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-indigo-900/20 p-4 rounded-lg border-l-4 border-indigo-500",children:[u.jsx("h4",{className:"text-sm font-bold text-indigo-400 uppercase mb-1",children:"Concept"}),u.jsx("p",{className:"text-gray-300 leading-relaxed",children:P.explanation})]}),u.jsxs("div",{className:"bg-yellow-900/10 p-4 rounded-lg border-l-4 border-yellow-600",children:[u.jsx("h4",{className:"text-sm font-bold text-yellow-500 uppercase mb-1",children:"Analogy"}),u.jsxs("p",{className:"text-gray-300 italic",children:['"',P.analogy,'"']})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-4 text-sm text-gray-400",children:[u.jsx(jn,{className:"w-5 h-5 text-green-500"}),u.jsx("span",{className:"font-bold text-white",children:"Takeaway:"})," ",P.keyTakeaway]})]}),u.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-700 flex gap-4",children:[u.jsxs("button",{onClick:()=>t("discussion",P.topic),className:"flex-1 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded-lg py-3 flex items-center justify-center gap-2 text-orange-400 transition-colors",children:[u.jsx(fg,{className:"w-5 h-5"}),"Ask Community"]}),u.jsxs("button",{onClick:()=>t("blog",P.topic),className:"flex-1 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded-lg py-3 flex items-center justify-center gap-2 text-blue-400 transition-colors",children:[u.jsx(DS,{className:"w-5 h-5"}),"Read Blog"]})]})]})]}):u.jsxs("div",{className:"text-gray-500 flex flex-col items-center",children:[u.jsx(JM,{className:"w-16 h-16 mb-4 opacity-20"}),u.jsx("p",{children:"Select a concept from the library to start learning."})]}),D&&u.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-red-900/50 border border-red-500 text-red-200 p-3 rounded",children:D})]})]}),r==="bughunt"&&u.jsxs("div",{className:"h-full",children:[a==="menu"&&u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 mt-4 text-center",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Bug Hunt Arena"}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-500",children:[u.jsx(YM,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-bold text-xl",children:[T," Points"]})]})]}),u.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-xl p-8 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-green-500 mb-1 uppercase font-bold",children:"Target Language"}),u.jsx("input",{type:"text",value:f,onChange:z=>m(z.target.value),placeholder:"e.g. JavaScript, Python...",className:"block w-full px-4 py-3 bg-black/40 border border-gray-600 rounded-lg focus:border-green-500 text-white placeholder-gray-600 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-green-500 mb-1 uppercase font-bold",children:"Topic (Optional)"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:p,onChange:z=>g(z.target.value),className:"block w-full px-4 py-3 bg-black/40 border border-gray-600 rounded-lg focus:border-green-500 text-white appearance-none outline-none cursor-pointer",children:[u.jsx("option",{value:"",children:"Random / General"}),Ib.map(z=>u.jsx("option",{value:z,children:z},z))]}),u.jsx(ba,{className:"w-4 h-4 absolute right-3 top-3.5 text-gray-500 pointer-events-none"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-green-500 mb-3 text-left uppercase font-bold",children:"Difficulty Level"}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Junior","Mid-Level","Senior"].map(z=>u.jsx("button",{onClick:()=>{c(z)},className:`py-3 rounded-lg border-2 transition-all font-bold text-sm ${l===z?"border-green-500 bg-green-500/10 text-white":"border-gray-700 bg-gray-800/30 text-gray-500 hover:border-gray-500"}`,children:z},z))})]})]}),D&&u.jsx("div",{className:"text-red-400 bg-red-900/20 p-3 rounded border border-red-800",children:D}),u.jsxs("button",{onClick:B,className:"px-12 py-4 bg-green-600 hover:bg-green-500 text-black font-bold rounded-lg shadow-[0_0_20px_rgba(34,197,94,0.4)] transition-all flex items-center gap-3 mx-auto transform hover:scale-105",children:[u.jsx(dx,{className:"w-6 h-6"})," START CHALLENGE"]})]}),a==="playing"&&!b&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[u.jsx(KM,{className:"w-16 h-16 animate-pulse text-green-500 mb-6"}),u.jsx("p",{className:"tracking-widest text-green-400 font-mono",children:"SYNTHESIZING BUG..."})]}),(a==="playing"||a==="verifying"||a==="result")&&b&&u.jsxs("div",{className:"max-w-6xl mx-auto h-full flex flex-col gap-4",children:[u.jsxs("div",{className:"flex-none bg-black/60 border border-green-500/30 p-4 rounded-lg flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Mission Objective"}),u.jsx("p",{className:"text-lg text-white font-medium",children:b.description}),b.topic&&u.jsx("span",{className:"text-xs text-green-400 bg-green-900/20 px-2 py-0.5 rounded border border-green-900/50 mt-2 inline-block",children:b.topic})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>s("menu"),className:"px-3 py-1 text-xs border border-red-900/50 text-red-400 hover:bg-red-900/20 rounded",children:"Abort"}),u.jsx("div",{className:"px-3 py-1 text-xs border border-green-500/30 text-green-400 rounded bg-green-900/10 uppercase font-bold",children:b.difficulty})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 min-h-0",children:[u.jsxs("div",{className:"flex-1 bg-black/80 border border-green-500/30 rounded-lg overflow-hidden flex flex-col relative shadow-2xl min-h-[400px]",children:[u.jsxs("div",{className:"flex-none bg-green-900/10 border-b border-green-500/20 p-2 text-xs flex justify-between text-gray-400 font-mono",children:[u.jsxs("span",{children:["buggy_code.",b.language==="javascript"?"js":"txt"]}),u.jsx("span",{className:"animate-pulse text-green-500",children:"EDITABLE"})]}),u.jsx("div",{className:"flex-1 overflow-auto relative h-full",children:u.jsx(FC,{value:C,onValueChange:v,highlight:J,padding:20,className:"font-mono text-sm leading-relaxed h-full",textareaClassName:"focus:outline-none h-full",style:{fontFamily:'"Fira Code", monospace',minHeight:"100%",backgroundColor:"transparent",color:"#f0fdf4"}})})]}),u.jsxs("div",{className:"md:w-80 flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/40 border border-green-500/20 p-4 rounded-lg",children:[u.jsxs("h4",{className:"text-xs font-bold text-green-600 uppercase mb-2 flex items-center gap-2",children:[u.jsx(fx,{className:"w-4 h-4"})," Hint System"]}),u.jsxs("p",{className:"text-sm text-gray-400 italic",children:['"',b.hint,'"']})]}),y&&u.jsxs("div",{className:`p-4 rounded-lg border ${y.success?"bg-green-900/30 border-green-500":"bg-red-900/30 border-red-500"} animate-fade-in`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.success?u.jsx(jn,{className:"w-5 h-5 text-green-400"}):u.jsx(Jt,{className:"w-5 h-5 text-red-400"}),u.jsx("span",{className:`font-bold ${y.success?"text-green-400":"text-red-400"}`,children:y.success?"PATCH SUCCESSFUL":"PATCH FAILED"})]}),u.jsx("p",{className:"text-xs text-white/80",children:y.message})]}),u.jsx("div",{className:"mt-auto",children:a==="result"&&(y!=null&&y.success)?u.jsxs("button",{onClick:B,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded flex justify-center items-center gap-2",children:["NEXT LEVEL ",u.jsx(dx,{className:"w-4 h-4"})]}):u.jsxs("button",{onClick:U,disabled:a==="verifying",className:`w-full py-3 font-bold rounded flex justify-center items-center gap-2 transition-all ${a==="verifying"?"bg-gray-700 cursor-not-allowed":"bg-green-600 hover:bg-green-500 text-black shadow-[0_0_10px_rgba(34,197,94,0.4)]"}`,children:[a==="verifying"?u.jsx(Bt,{className:"w-5 h-5 animate-spin"}):u.jsx(jn,{className:"w-5 h-5"}),a==="verifying"?"COMPILING...":"DEPLOY FIX"]})})]})]})]})]})]})]})},SH=({children:e})=>nm.createPortal(u.jsx("div",{className:"print-portal-root",children:e}),document.body),TH=({settings:e,initialRequest:t,clearInitialRequest:n})=>{var Y;const[i,r]=Q.useState(""),[o,a]=Q.useState("discussion"),[s,l]=Q.useState(null),[c,f]=Q.useState(!1),[m,p]=Q.useState(null),[g,b]=Q.useState({}),[x,C]=Q.useState(null),[v,y]=Q.useState(""),[_,T]=Q.useState(null);Q.useEffect(()=>{t&&(r(t.topic),a(t.type),I(t.topic,t.type),n())},[t]);const A=()=>localStorage.getItem("b_code_walker_api_key"),I=async(S,O)=>{if(!S.trim())return;const B=A();if(!B){p("Please add your API Key in Settings to generate content.");return}f(!0),p(null),l(null),b({}),C(null);try{const U=new ri({apiKey:B});let J="";O==="discussion"?J=`
          Simulate a realistic StackOverflow thread about: "${S}".
          
          Output strictly JSON format:
          {
            "title": "A technical title related to the topic",
            "question": {
              "votes": "Number (e.g. 42)",
              "user": "Username",
              "time": "Time ago (e.g. '2 hours ago')",
              "content": "The question body in Markdown. Include code snippets if relevant."
            },
            "answers": [
              {
                "id": "unique_id_1",
                "votes": "Number",
                "user": "Username",
                "time": "Time ago",
                "accepted": boolean,
                "content": "The answer body in Markdown. Include detailed explanation and code fixes."
              }
            ]
          }
          Generate from 4 to 6 answers. One must be accepted. Vary tones (helpful, pedantic, alternative solutions).
        `:J=`
          Write a passionate "TechForGeeks" style blog post about: "${S}".
          
          Output strictly JSON format:
          {
            "title": "Catchy Blog Title",
            "author": "Tech Author Name",
            "date": "Current Date",
            "readTime": "e.g. '5 min read'",
            "tags": ["Tag1", "Tag2"],
            "content": "Full blog post content in Markdown. Use headers (##), bold (**text**), lists (- item), and code blocks."
          }
        `;const $=((await U.models.generateContent({model:e.activeModel,contents:J,config:{responseMimeType:"application/json"}})).text||"{}").replace(/```json|```/g,"").trim(),V=JSON.parse($);O==="discussion"&&(V.question&&(V.question.userVote=0,V.question.votes=parseInt(V.question.votes)||0),V.answers&&V.answers.forEach(oe=>{oe.comments=[],oe.userVote=0,oe.votes=parseInt(oe.votes)||0})),l(V)}catch(U){p("Failed to generate content. "+U.message)}finally{f(!1)}},N=(S,O,B)=>{if(!s)return;const U={...s};if(S==="question"){const J=U.question.userVote||0;let z=U.question.votes;J===O?(U.question.userVote=0,z-=O):(z+=O-J,U.question.userVote=O),U.question.votes=z}else if(S==="answer"&&typeof B=="number"){const J=U.answers[B],z=J.userVote||0;let Z=J.votes;z===O?(J.userVote=0,Z-=O):(Z+=O-z,J.userVote=O),J.votes=Z}l(U)},P=async S=>{var Z;const O=g[S];if(!O||!O.trim())return;const B={...s},U=B.answers[S];U.comments||(U.comments=[]);const J=Date.now().toString();U.comments.push({id:J,user:"You",content:O,time:"Just now",isUser:!0,replies:[]}),l(B),b($=>({...$,[S]:""})),T(S);const z=A();if(!z){T(null);return}try{const $=new ri({apiKey:z}),V=new Set;(Z=s.question)!=null&&Z.user&&V.add(s.question.user),s.answers&&s.answers.forEach(ke=>{ke.user&&V.add(ke.user)});const oe=Array.from(V).join(", "),ae=`
            Simulation Context: A tech forum discussion.
            Topic: ${s.title}
            
            Existing Thread Participants: [${oe}]
            The Answer Author ("${U.user}") wrote: "${U.content.substring(0,150)}..."
            
            A User ("You") just commented on this answer: "${O}"
            
            Task: Generate between 1 and 7 distinct replies to the User's comment.
            
            Rules for Repliers:
            1. MIX: You MUST use a mix of existing users from the "Thread Participants" list (to show continuity) AND random new users (e.g. 'ModBot', 'Passerby', 'SeniorDev', 'RustFan').
            2. VARIETY: If the user's comment is wrong/incomplete, include a 'ModBot' or strict user correcting them. If it's good, include helpful peers.
            3. LENGTH: Keep replies short (1-2 sentences).
            4. RANDOMNESS: Do not always output 2. Sometimes 1, sometimes 5. Make it feel organic.
            
            Output strictly JSON Array:
            [
              { "user": "Username", "reply": "Content" }
            ]
        `,re=await $.models.generateContent({model:e.activeModel,contents:ae,config:{responseMimeType:"application/json"}}),Ce=JSON.parse(re.text||"[]");Array.isArray(Ce)&&(Ce.forEach((ke,xe)=>{U.comments.push({id:(Date.now()+xe+1).toString(),user:ke.user,content:ke.reply,time:"Just now",isUser:!1,replies:[]})}),l({...B}))}catch($){console.error("Failed to generate community reply",$)}finally{T(null)}},M=async(S,O,B,U)=>{if(!v.trim())return;const J={...s},Z=J.answers[S].comments.find(V=>V.id===O);if(!Z)return;Z.replies||(Z.replies=[]),Z.replies.push({id:Date.now().toString(),user:"You",content:v,time:"Just now",isUser:!0}),l(J),y(""),T(O);const $=A();if(!$){T(null);return}try{const V=new ri({apiKey:$}),oe=`
            Roleplay Task: You are strictly the user "${B}".
            You wrote the comment: "${U}".
            
            A user replied to you directly: "${v}".
            
            Task: Reply back to the user.
            - Stay in character as "${B}".
            - Keep it conversational and brief.
            
            Output strictly JSON: { "reply": "Your response here" }
        `,ae=await V.models.generateContent({model:e.activeModel,contents:oe,config:{responseMimeType:"application/json"}}),re=JSON.parse(ae.text||"{}");re.reply&&(Z.replies.push({id:(Date.now()+1).toString(),user:B,content:re.reply,time:"Just now",isUser:!1}),l({...J}))}catch(V){console.error("Failed to generate thread reply",V)}finally{T(null)}},q=()=>{var z;if(!s)return;let S="",O="download.md";o==="blog"?(O=`${s.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.md`,S=`# ${s.title}

`,S+=`> **Author:** ${s.author} | **Date:** ${s.date} | **Read Time:** ${s.readTime}
`,S+=`> **Tags:** ${(z=s.tags)==null?void 0:z.join(", ")}

`,S+=`---

`,S+=s.content):(O=`${s.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_discussion.md`,S=`# ${s.title}

`,S+=`## Question
`,S+=`**Asked by:** ${s.question.user} | **Votes:** ${s.question.votes}

`,S+=`${s.question.content}

`,S+=`---

## ${s.answers.length} Answers

`,s.answers.forEach(Z=>{S+=`### Answer by ${Z.user} ${Z.accepted?"":""}
`,S+=`**Votes:** ${Z.votes}

`,S+=`${Z.content}

`,Z.comments&&Z.comments.length>0&&(S+=`#### Comments
`,Z.comments.forEach($=>{S+=`- **${$.user}**: ${$.content}
`,$.replies&&$.replies.forEach(V=>{S+=`  - **${V.user}**: ${V.content}
`})})),S+=`
---

`}));const B=new Blob([S],{type:"text/markdown"}),U=URL.createObjectURL(B),J=document.createElement("a");J.href=U,J.download=O,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(U)},X=()=>{window.print()},D=(S,O)=>{if(!S)return null;const B=J=>J.split(/(`[^`]+`|\*\*[^*]+\*\*)/g).map((Z,$)=>Z.startsWith("`")&&Z.endsWith("`")?u.jsx("code",{className:`${O==="dark"?"bg-gray-800 text-pink-400":"bg-gray-100 text-pink-600"} px-1.5 py-0.5 rounded font-mono text-[0.9em] border ${O==="dark"?"border-gray-700":"border-gray-200"}`,children:Z.slice(1,-1)},$):Z.startsWith("**")&&Z.endsWith("**")?u.jsx("strong",{className:`font-bold ${O==="dark"?"text-white":"text-gray-900"}`,children:Z.slice(2,-2)},$):Z);return S.split(/(```[\s\S]*?```)/g).map((J,z)=>{if(J.startsWith("```")){const $=J.match(/```(\w*)\n([\s\S]*?)```/),V=$&&$[1]?$[1]:"javascript",oe=$&&$[2]?$[2]:J.slice(3,-3),ae=Dt.highlight(oe,Dt.languages[V]||Dt.languages.javascript,V);return u.jsx("pre",{className:`my-4 p-4 rounded-lg overflow-x-auto border text-sm font-mono break-inside-avoid ${O==="dark"?"bg-black/50 border-gray-700 text-gray-300":"bg-gray-50 border-gray-200 text-gray-800"}`,children:u.jsx("code",{dangerouslySetInnerHTML:{__html:ae}})},z)}const Z=J.split(`
`);return u.jsx("div",{children:Z.map(($,V)=>{const oe=$.trim();return oe?$.startsWith("### ")?u.jsx("h3",{className:`text-lg font-bold mt-6 mb-2 ${O==="dark"?"text-gray-200":"text-gray-800"}`,children:B($.slice(4))},V):$.startsWith("## ")?u.jsx("h2",{className:`text-xl font-bold mt-8 mb-3 pb-1 border-b ${O==="dark"?"text-white border-gray-700":"text-gray-900 border-gray-200"}`,children:B($.slice(3))},V):$.startsWith("# ")?u.jsx("h1",{className:`text-2xl font-bold mt-8 mb-4 ${O==="dark"?"text-white":"text-gray-900"}`,children:B($.slice(2))},V):oe.startsWith("- ")||oe.startsWith("* ")?u.jsxs("div",{className:"flex gap-3 mb-2 ml-2",children:[u.jsx("span",{className:`mt-2 w-1.5 h-1.5 rounded-full flex-none ${O==="dark"?"bg-gray-500":"bg-gray-400"}`}),u.jsx("span",{className:`leading-relaxed ${O==="dark"?"text-gray-300":"text-gray-700"}`,children:B(oe.slice(2))})]},V):u.jsx("p",{className:`mb-3 leading-relaxed ${O==="dark"?"text-gray-300":"text-gray-700"}`,children:B($)},V):u.jsx("div",{className:"h-2"},V)})},z)})};return u.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-200 font-sans relative overflow-hidden",children:[u.jsx("style",{children:`
          @media screen {
            .print-portal-root { display: none; }
          }
          @media print {
            #root { display: none !important; }
            @page { margin: 1cm; size: auto; }
            html, body { margin: 0 !important; padding: 0 !important; background: white !important; height: auto !important; overflow: visible !important; }
            .print-portal-root { display: block !important; position: absolute; top: 0; left: 0; width: 100%; background: white; color: black; z-index: 9999; font-family: sans-serif; }
            .print-portal-root h1 { font-size: 24pt; margin-bottom: 0.5em; color: black; }
            .print-portal-root h2 { font-size: 18pt; margin-top: 1em; border-bottom: 1px solid #ccc; color: #333; }
            .print-portal-root h3 { font-size: 14pt; margin-top: 1em; color: #444; }
            .print-portal-root p { font-size: 11pt; line-height: 1.5; color: #111; }
            .print-portal-root pre { border: 1px solid #ddd; background: #f5f5f5 !important; page-break-inside: avoid; }
            .print-portal-root code { color: #d63384; font-family: monospace; }
          }
       `}),u.jsx("div",{className:"flex-none p-6 border-b border-gray-800 bg-gray-900/50 z-10",children:u.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>a("discussion"),className:`flex-1 py-3 rounded-lg border flex items-center justify-center gap-2 transition-all ${o==="discussion"?"bg-orange-600/20 border-orange-500 text-orange-400":"bg-gray-800 border-transparent text-gray-500 hover:bg-gray-700"}`,children:[u.jsx(XM,{className:"w-5 h-5"})," Stack Discussion"]}),u.jsxs("button",{onClick:()=>a("blog"),className:`flex-1 py-3 rounded-lg border flex items-center justify-center gap-2 transition-all ${o==="blog"?"bg-indigo-600/20 border-indigo-500 text-indigo-400":"bg-gray-800 border-transparent text-gray-500 hover:bg-gray-700"}`,children:[u.jsx(DS,{className:"w-5 h-5"})," Tech Blog"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"relative flex-1",children:u.jsx("input",{type:"text",value:i,onChange:S=>r(S.target.value),placeholder:o==="discussion"?"e.g. How to fix React useEffect infinite loop?":"e.g. The future of Rust in Web Development",className:"w-full bg-black/40 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-gray-500 text-white placeholder-gray-600",onKeyDown:S=>S.key==="Enter"&&I(i,o)})}),u.jsxs("button",{onClick:()=>I(i,o),disabled:c||!i.trim(),className:"bg-green-600 hover:bg-green-500 text-white px-6 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[c?u.jsx(Bt,{className:"w-5 h-5 animate-spin"}):u.jsx(Bt,{className:"w-5 h-5"}),"Generate"]})]})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 relative",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[m&&u.jsxs("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg flex items-center gap-3 text-red-300",children:[u.jsx(ug,{className:"w-6 h-6"}),m]}),!s&&!c&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-600",children:[u.jsx(fg,{className:"w-16 h-16 mb-4 opacity-20"}),u.jsx("p",{children:"Enter a topic to generate a community discussion or blog post."})]}),c&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500 animate-pulse",children:[u.jsx(Bt,{className:"w-12 h-12 mb-4 animate-spin text-gray-600"}),u.jsx("p",{children:"Consulting the hive mind..."})]}),s&&u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6 flex justify-end gap-2",children:[u.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium bg-gray-800 hover:bg-gray-700 text-gray-300 rounded border border-gray-700 transition-colors",children:[u.jsx($M,{className:"w-4 h-4"})," Download Markdown"]}),u.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium bg-gray-800 hover:bg-gray-700 text-gray-300 rounded border border-gray-700 transition-colors",children:[u.jsx(qM,{className:"w-4 h-4"})," Print / Save PDF"]})]}),o==="discussion"&&u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-blue-400 mb-2",children:s.title}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[u.jsxs("span",{children:["Asked ",s.question.time]}),u.jsxs("span",{children:["by ",u.jsx("span",{className:"text-blue-300 font-bold",children:s.question.user})]}),u.jsx("span",{className:"bg-orange-900/30 text-orange-400 px-2 py-0.5 rounded border border-orange-800/50",children:"StackOverflow Simulation"})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400 w-10 pt-2",children:[u.jsx(ir,{onClick:()=>N("question",1),className:`w-8 h-8 p-1 rounded-full border border-gray-600 hover:bg-orange-500/20 cursor-pointer transition-colors ${s.question.userVote===1?"text-orange-500 border-orange-500 bg-orange-500/10":""}`}),u.jsx("span",{className:"font-bold text-lg",children:s.question.votes}),u.jsx(ir,{onClick:()=>N("question",-1),className:`w-8 h-8 p-1 rounded-full border border-gray-600 hover:bg-orange-500/20 cursor-pointer rotate-180 transition-colors ${s.question.userVote===-1?"text-orange-500 border-orange-500 bg-orange-500/10":""}`})]}),u.jsx("div",{className:"flex-1 bg-gray-900/30 p-6 rounded border border-gray-800 text-sm",children:D(s.question.content,"dark")})]}),u.jsxs("div",{className:"mt-8",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-300 mb-4",children:[s.answers.length," Answers"]}),u.jsx("div",{className:"space-y-6",children:s.answers.map((S,O)=>u.jsxs("div",{className:"flex gap-4 border-t border-gray-800 pt-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400 w-10 pt-2",children:[u.jsx(ir,{onClick:()=>N("answer",1,O),className:`w-8 h-8 p-1 rounded-full border border-gray-600 hover:bg-orange-500/20 cursor-pointer transition-colors ${S.userVote===1?"text-orange-500 border-orange-500 bg-orange-500/10":""}`}),u.jsx("span",{className:"font-bold text-lg",children:S.votes}),u.jsx(ir,{onClick:()=>N("answer",-1,O),className:`w-8 h-8 p-1 rounded-full border border-gray-600 hover:bg-orange-500/20 cursor-pointer rotate-180 transition-colors ${S.userVote===-1?"text-orange-500 border-orange-500 bg-orange-500/10":""}`}),S.accepted&&u.jsx(jn,{className:"w-8 h-8 text-green-500 mt-2"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:`p-6 rounded border text-sm ${S.accepted?"bg-green-900/10 border-green-900/30":"bg-gray-900/30 border-gray-800"}`,children:D(S.content,"dark")}),u.jsxs("div",{className:"mt-2 flex justify-end text-xs text-gray-500 gap-2",children:[u.jsxs("span",{children:["Answered ",S.time]}),u.jsx("span",{className:"text-blue-300 font-bold",children:S.user}),S.accepted&&u.jsx("span",{className:"font-bold text-green-600",children:"(Accepted)"})]}),u.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-gray-800 space-y-4",children:[S.comments&&S.comments.length>0&&S.comments.map(B=>u.jsxs("div",{className:"animate-fade-in group",children:[u.jsxs("div",{className:"flex gap-2 text-xs py-1",children:[u.jsxs("span",{className:`font-bold whitespace-nowrap ${B.isUser?"text-green-400":"text-blue-400"}`,children:[B.user,":"]}),u.jsx("span",{className:"text-gray-400",children:B.content}),u.jsxs("div",{className:"flex items-center gap-2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("span",{className:"text-gray-600",children:B.time}),u.jsx("button",{onClick:()=>C(x===B.id?null:B.id),className:"text-gray-500 hover:text-white flex items-center gap-1",title:"Reply to thread",children:u.jsx(cg,{className:"w-3 h-3"})})]})]}),B.replies&&B.replies.length>0||x===B.id?u.jsxs("div",{className:"ml-4 pl-3 mt-2 border-l-2 border-gray-700 space-y-2",children:[B.replies&&B.replies.map(U=>u.jsxs("div",{className:"flex gap-2 text-xs py-1",children:[u.jsxs("span",{className:`font-bold whitespace-nowrap ${U.isUser?"text-green-400":"text-purple-400"}`,children:[U.user,":"]}),u.jsx("span",{className:"text-gray-300",children:U.content})]},U.id)),x===B.id&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 bg-gray-900/50 p-1 rounded border border-gray-700 animate-slide-in",children:[u.jsxs("span",{className:"text-[10px] text-gray-500 uppercase font-bold px-1",children:["Reply to ",B.user,":"]}),u.jsx("input",{type:"text",value:v,onChange:U=>y(U.target.value),onKeyDown:U=>U.key==="Enter"&&M(O,B.id,B.user,B.content),autoFocus:!0,placeholder:"Type your reply...",className:"flex-1 bg-transparent text-xs text-gray-300 focus:outline-none"}),_===B.id?u.jsx(sr,{className:"w-3.5 h-3.5 text-purple-400 animate-spin"}):u.jsx("button",{onClick:()=>M(O,B.id,B.user,B.content),disabled:!v,className:"text-gray-500 hover:text-purple-400 disabled:opacity-50",children:u.jsx(Hu,{className:"w-3.5 h-3.5"})})]})]}):null]},B.id)),u.jsxs("div",{className:"mt-3 flex items-center gap-2 pt-2 border-t border-gray-800/50",children:[u.jsx("input",{type:"text",value:g[O]||"",onChange:B=>b(U=>({...U,[O]:B.target.value})),onKeyDown:B=>B.key==="Enter"&&P(O),placeholder:`Add a comment to ${S.user}'s answer...`,className:"flex-1 bg-gray-900/50 border-b border-gray-700 text-xs text-gray-300 px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors",disabled:_===O}),_===O?u.jsx(sr,{className:"w-4 h-4 text-orange-400 animate-spin"}):u.jsx("button",{onClick:()=>P(O),disabled:!g[O],className:"text-gray-500 hover:text-green-400 disabled:opacity-50",children:u.jsx(Hu,{className:"w-3.5 h-3.5"})})]})]})]})]},O))})]})]}),o==="blog"&&u.jsxs("div",{className:"bg-white text-gray-900 rounded-xl overflow-hidden shadow-2xl animate-fade-in max-w-3xl mx-auto",children:[u.jsx("div",{className:"h-2 bg-indigo-600 w-full"}),u.jsxs("div",{className:"p-8 md:p-12",children:[u.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-4 leading-tight",children:s.title}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-8 border-b border-gray-200 pb-8",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold border border-transparent",children:(s.author||"A").charAt(0)}),u.jsx("span",{children:s.author||"Anonymous"})]}),u.jsx("span",{children:""}),u.jsx("span",{children:s.date}),u.jsx("span",{children:""}),u.jsx("span",{children:s.readTime})]}),u.jsx("div",{className:"prose prose-lg prose-indigo max-w-none prose-pre:bg-gray-800 prose-pre:text-gray-100",children:D(s.content,"light")}),u.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags&&s.tags.map(S=>u.jsxs("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm font-medium",children:["#",S]},S))})})]})]}),u.jsx(SH,{children:u.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o==="discussion"?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-4",children:[u.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.title}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Discussion Thread  Asked by ",u.jsx("strong",{children:s.question.user}),"  ",s.question.time]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-2 border-l-4 border-orange-500 pl-2",children:"Question"}),u.jsx("div",{children:D(s.question.content,"light")})]}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold mb-4",children:[s.answers.length," Answers"]}),u.jsx("div",{className:"space-y-8",children:s.answers.map((S,O)=>u.jsxs("div",{className:`border-l-4 pl-4 py-2 ${S.accepted?"border-green-500 bg-green-50/50":"border-gray-300"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"font-bold text-sm text-gray-700",children:S.user}),u.jsxs("span",{className:"text-xs text-gray-500",children:["Votes: ",S.votes," ",S.accepted&&" Accepted Answer"]})]}),u.jsx("div",{children:D(S.content,"light")}),S.comments&&S.comments.length>0&&u.jsxs("div",{className:"mt-4 pt-2 border-t border-gray-200 text-xs",children:[u.jsx("strong",{children:"Comments:"}),u.jsx("ul",{className:"list-disc pl-4 mt-1",children:S.comments.map(B=>u.jsxs("li",{className:"text-gray-600",children:[u.jsxs("strong",{children:[B.user,":"]})," ",B.content,B.replies&&B.replies.length>0&&u.jsx("ul",{className:"list-circle pl-4 mt-1 border-l border-gray-300",children:B.replies.map(U=>u.jsxs("li",{className:"text-gray-500",children:[u.jsxs("strong",{children:[U.user,":"]})," ",U.content]},U.id))})]},B.id))})]})]},O))})]})]}):u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:s.title}),u.jsxs("div",{className:"text-sm text-gray-600 mb-8 pb-4 border-b border-gray-300 flex gap-4",children:[u.jsxs("span",{children:["By ",u.jsx("strong",{children:s.author})]}),u.jsx("span",{children:s.date}),u.jsx("span",{children:s.readTime})]}),u.jsx("div",{className:"prose max-w-none",children:D(s.content,"light")}),u.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-300 text-xs text-gray-500",children:["Tags: ",(Y=s.tags)==null?void 0:Y.join(", ")]})]})})})]})]})})]})},wH=[{type:"start",label:"Start / End",shape:"capsule",description:"Terminator: Indicates the beginning or end of a program flow."},{type:"process",label:"Process",shape:"rect",description:"Process: Represents a set of operations that change value, form, or location of data."},{type:"decision",label:"Decision",shape:"diamond",description:"Decision: Shows a conditional operation that determines which of the two paths the program will take."},{type:"input",label:"Input / Output",shape:"parallelogram",description:"Data: Indicates the process of inputting and outputting data."},{type:"database",label:"Database",shape:"cylinder",description:"Database: Represents data storage."},{type:"document",label:"Document",shape:"document",description:"Document: Represents a document or report."},{type:"note",label:"Note",shape:"note",description:"Comment: Adds explanation or remarks."}],EH=({workflowState:e,setWorkflowState:t})=>{const[n,i]=Q.useState(e.nodes||[]),[r,o]=Q.useState(e.edges||[]),[a,s]=Q.useState(e.zoom||1),[l,c]=Q.useState(null),[f,m]=Q.useState(null),[p,g]=Q.useState({x:0,y:0}),[b,x]=Q.useState({x:0,y:0}),[C,v]=Q.useState([]),[y,_]=Q.useState(!1),[T,A]=Q.useState(null),[I,N]=Q.useState(null),[P,M]=Q.useState({active:!1,sourceId:null,sourceHandle:null}),[q,X]=Q.useState(null),D=Q.useRef(null),Y=Q.useRef(null),S=Q.useRef(null);Q.useEffect(()=>{t({nodes:n,edges:r,zoom:a})},[n,r,a,t]);const O=w=>{if(!Y.current)return{x:0,y:0};const k=Y.current.getBoundingClientRect();return{x:(w.clientX-k.left)/a,y:(w.clientY-k.top)/a}},B=(w,k)=>{T&&(i(j=>j.map(W=>W.id===T?{...W,x:W.x+w,y:W.y+k}:W)),o(j=>j.map(W=>{if(!W.controlPoints)return W;const F=[...W.controlPoints];let ne=!1;return W.source===T&&(F[0]={x:F[0].x+w,y:F[0].y+k},ne=!0),W.target===T&&(F[1]={x:F[1].x+w,y:F[1].y+k},ne=!0),ne?{...W,controlPoints:F}:W})))},U=(w,k)=>{const j=w.width||120,W=w.height||60;let F=w.x,ne=w.y;switch(k){case"top":F+=j/2;break;case"right":F+=j,ne+=W/2;break;case"bottom":F+=j/2,ne+=W;break;case"left":ne+=W/2;break}return{x:F,y:ne}},J=(w,k)=>{w.dataTransfer.setData("nodeType",k)},z=(w,k,j)=>{const W={id:Date.now().toString(),type:w,x:k-60,y:j-30,label:w==="start"?"Start":w==="note"?"Comment":"New Node",width:120,height:60,color:"#1f2937"};i(F=>[...F,W]),A(W.id),N(null)},Z=w=>{w.preventDefault();const k=w.dataTransfer.getData("nodeType");if(!k||!Y.current)return;const j=O(w);z(k,j.x,j.y)},$=w=>w.preventDefault(),V=(w,k)=>{if(w.stopPropagation(),w.preventDefault(),w.button===2){A(k),N(null);return}if(P.active)return;const j=n.find(F=>F.id===k);if(!j)return;c(k),g({x:w.clientX,y:w.clientY}),x({x:j.x,y:j.y});const W=r.filter(F=>F.source===k||F.target===k);v(W.map(F=>({id:F.id,cp:F.controlPoints?[...F.controlPoints]:[]}))),_(!1)},oe=w=>{if(D.current&&(clearTimeout(D.current),D.current=null),l){const k=(w.clientX-p.x)/a,j=(w.clientY-p.y)/a;(Math.abs(k)>2||Math.abs(j)>2)&&_(!0),i(W=>W.map(F=>F.id===l?{...F,x:b.x+k,y:b.y+j}:F)),o(W=>W.map(F=>{const ne=C.find(te=>te.id===F.id);if(!ne||!ne.cp.length)return F;const ie=[...F.controlPoints||[]];return F.source===l&&ne.cp[0]&&(ie[0]={x:ne.cp[0].x+k,y:ne.cp[0].y+j}),F.target===l&&ne.cp[1]&&(ie[1]={x:ne.cp[1].x+k,y:ne.cp[1].y+j}),{...F,controlPoints:ie}}))}else if(f){const k=O(w);o(j=>j.map(W=>{if(W.id===f.edgeId&&W.controlPoints){const F=[...W.controlPoints];return F[f.index]={x:k.x,y:k.y},{...W,controlPoints:F}}return W}))}},ae=()=>{l&&!y&&(A(l),N(null)),c(null),m(null),v([])},re=w=>{D.current=setTimeout(()=>{A(w),N(null),navigator.vibrate&&navigator.vibrate(50),D.current=null},600)},Ce=()=>{D.current&&(clearTimeout(D.current),D.current=null)},ke=()=>{D.current&&(clearTimeout(D.current),D.current=null)},xe=w=>{if(q){const k=O(w);z(q,k.x,k.y),X(null);return}!l&&!f&&!y&&(A(null),N(null))},Se=(w,k,j)=>{if(w.stopPropagation(),w.preventDefault(),!!P.active)if(!P.sourceId)M({...P,sourceId:k,sourceHandle:j});else{const W=P.sourceId,F=P.sourceHandle||"right",ne=n.find(te=>te.id===W),ie=n.find(te=>te.id===k);if(ne&&ie){const te=U(ne,F),ue=U(ie,j),ge=Math.sqrt(Math.pow(ue.x-te.x,2)+Math.pow(ue.y-te.y,2)),be=Math.max(ge*.5,50),qe=(Ge,xt)=>{switch(Ge){case"top":return{x:0,y:-xt};case"bottom":return{x:0,y:xt};case"left":return{x:-xt,y:0};case"right":return{x:xt,y:0}}},Xe=qe(F,be),Ee=qe(j,be),Ue={x:te.x+Xe.x,y:te.y+Xe.y},ve={x:ue.x+Ee.x,y:ue.y+Ee.y},St=r.filter(Ge=>Ge.source===W&&Ge.target===k||Ge.source===k&&Ge.target===W);if(St.length>0&&W!==k){const Ge=St.length,xt=Math.ceil((Ge+1)/2)*40,ji=Ge%2===0?1:-1,Ci=xt*ji;F==="left"||F==="right"?Ue.y+=Ci:Ue.x+=Ci,j==="left"||j==="right"?ve.y+=Ci:ve.x+=Ci}if(W===k){const xt=50+St.length*20;Ue.x+=F==="right"?xt:F==="left"?-xt:0,Ue.y+=F==="bottom"?xt:F==="top"?-xt:0,F===j&&(ve.x=Ue.x,ve.y=Ue.y+(F==="top"||F==="bottom"?0:50))}const Gt={id:`e-${Date.now()}`,source:W,target:k,sourceHandle:F,targetHandle:j,type:"curved",controlPoints:[Ue,ve]};o(Ge=>[...Ge,Gt])}M({active:!1,sourceId:null,sourceHandle:null})}},Me=()=>{T?(i(w=>w.filter(k=>k.id!==T)),o(w=>w.filter(k=>k.source!==T&&k.target!==T)),A(null)):I&&(o(w=>w.filter(k=>k.id!==I)),N(null))},Te=w=>{o(k=>k.map(j=>{if(j.id!==w)return j;if(j.controlPoints&&j.controlPoints.length===2)return{...j,type:"curved"};const W=n.find(Ue=>Ue.id===j.source),F=n.find(Ue=>Ue.id===j.target);if(!W||!F)return{...j,type:"curved"};const ne=U(W,j.sourceHandle||"right"),ie=U(F,j.targetHandle||"left"),te=Math.sqrt(Math.pow(ie.x-ne.x,2)+Math.pow(ie.y-ne.y,2)),ue=Math.max(te*.5,50),ge=(Ue,ve)=>{switch(Ue){case"top":return{x:0,y:-ve};case"bottom":return{x:0,y:ve};case"left":return{x:-ve,y:0};case"right":return{x:ve,y:0}}},be=ge(j.sourceHandle||"right",ue),qe=ge(j.targetHandle||"left",ue),Xe={x:ne.x+be.x,y:ne.y+be.y},Ee={x:ie.x+qe.x,y:ie.y+qe.y};return{...j,type:"curved",controlPoints:[Xe,Ee]}}))},Je=()=>{if(!S.current)return;const w=S.current.cloneNode(!0);w.querySelectorAll(".control-handle").forEach(ve=>ve.remove()),w.querySelectorAll(".node-connector").forEach(ve=>ve.remove());const W=w.getElementById("workflow-content");W&&W.setAttribute("transform","scale(1)");const F=new XMLSerializer().serializeToString(w),ne=document.createElement("canvas"),ie=ne.getContext("2d"),te=new Image,ue=S.current.getBBox(),ge=(ue.width||800)+100,be=(ue.height||600)+100,qe=-ue.x+50,Xe=-ue.y+50,Ee=new Blob([F],{type:"image/svg+xml;charset=utf-8"}),Ue=URL.createObjectURL(Ee);te.onload=()=>{ne.width=ge,ne.height=be,ie&&(ie.fillStyle="#111827",ie.fillRect(0,0,ge,be),ie.drawImage(te,qe,Xe));const ve=ne.toDataURL("image/png"),St=document.createElement("a");St.href=ve,St.download="workflow_diagram.png",document.body.appendChild(St),St.click(),document.body.removeChild(St)},te.src=Ue},ce=w=>{const k=w.width||120,j=w.height||60;return[{h:"top",x:k/2,y:0},{h:"right",x:k,y:j/2},{h:"bottom",x:k/2,y:j},{h:"left",x:0,y:j/2}].map(F=>{const ne=P.sourceId===w.id&&P.sourceHandle===F.h;return u.jsx("circle",{cx:F.x,cy:F.y,r:6,className:`node-connector transition-all duration-200 ${P.active?"opacity-100 cursor-pointer":"opacity-0 group-hover:opacity-100"}`,fill:ne?"#22c55e":"#3b82f6",stroke:"#111827",strokeWidth:2,onMouseDown:ie=>Se(ie,w.id,F.h)},F.h)})},E=w=>{const k=w.width||120,j=w.height||60,W=T===w.id,F=P.sourceId===w.id,ne=F?"#22c55e":W?"#3b82f6":"#4b5563",ie=W||F?2:1,te=w.color||"#1f2937";switch(w.type){case"start":return u.jsx("rect",{x:"0",y:"0",width:k,height:j,rx:j/2,fill:te,stroke:ne,strokeWidth:ie});case"process":return u.jsx("rect",{x:"0",y:"0",width:k,height:j,rx:"4",fill:te,stroke:ne,strokeWidth:ie});case"decision":return u.jsx("polygon",{points:`${k/2},0 ${k},${j/2} ${k/2},${j} 0,${j/2}`,fill:te,stroke:ne,strokeWidth:ie});case"input":return u.jsx("polygon",{points:`${j/3},0 ${k},0 ${k-j/3},${j} 0,${j}`,fill:te,stroke:ne,strokeWidth:ie});case"database":return u.jsxs("g",{children:[u.jsx("path",{d:`M0,${j*.2} v${j*.6} c0,${j*.2} ${k*.2},${j*.2} ${k/2},${j*.2} s${k/2},0 ${k/2},-${j*.2} v-${j*.6} `,fill:te,stroke:ne,strokeWidth:ie}),u.jsx("ellipse",{cx:k/2,cy:j*.2,rx:k/2,ry:j*.2,fill:te,stroke:ne,strokeWidth:ie})]});case"document":return u.jsx("path",{d:`M0,0 h${k} v${j*.8} q${-k*.25},${j*.2} ${-k*.5},0 t${-k*.5},0 z`,fill:te,stroke:ne,strokeWidth:ie});case"note":return u.jsx("path",{d:`M0,0 h${k-15} l15,15 v${j-15} h-${k} z`,fill:"#fef3c7",stroke:"#d97706",strokeWidth:ie});default:return u.jsx("rect",{x:"0",y:"0",width:k,height:j,fill:te,stroke:ne,strokeWidth:ie})}},L=()=>r.map(w=>{const k=n.find(Ee=>Ee.id===w.source),j=n.find(Ee=>Ee.id===w.target);if(!k||!j)return null;const W=U(k,w.sourceHandle||"right"),F=U(j,w.targetHandle||"left"),ne=w.sourceHandle||"right",ie=r.filter(Ee=>Ee.source===w.source&&(Ee.sourceHandle||"right")===ne);if(ie.length>1){const Ee=ie.findIndex(Ue=>Ue.id===w.id);if(Ee!==-1){const Ue=(Ee-(ie.length-1)/2)*12;ne==="left"||ne==="right"?W.y+=Ue:W.x+=Ue}}const te=w.targetHandle||"left",ue=r.filter(Ee=>Ee.target===w.target&&(Ee.targetHandle||"left")===te);if(ue.length>1){const Ee=ue.findIndex(Ue=>Ue.id===w.id);if(Ee!==-1){const Ue=(Ee-(ue.length-1)/2)*12;te==="left"||te==="right"?F.y+=Ue:F.x+=Ue}}let ge="",be=(W.x+F.x)/2,qe=(W.y+F.y)/2;if(w.type==="curved"&&w.controlPoints&&w.controlPoints.length>=2){const Ee=w.controlPoints[0],Ue=w.controlPoints[1];ge=`M${W.x},${W.y} C${Ee.x},${Ee.y}, ${Ue.x},${Ue.y}, ${F.x},${F.y}`;const ve=.5;be=(1-ve)**3*W.x+3*(1-ve)**2*ve*Ee.x+3*(1-ve)*ve**2*Ue.x+ve**3*F.x,qe=(1-ve)**3*W.y+3*(1-ve)**2*ve*Ee.y+3*(1-ve)*ve**2*Ue.y+ve**3*F.y}else ge=`M${W.x},${W.y} L${F.x},${F.y}`;const Xe=I===w.id;return u.jsxs("g",{onClick:Ee=>{Ee.stopPropagation(),N(w.id),A(null)},className:"cursor-pointer group",children:[u.jsx("path",{d:ge,stroke:"transparent",strokeWidth:"20",fill:"none"}),u.jsx("path",{d:ge,stroke:Xe?"#3b82f6":"#6b7280",strokeWidth:Xe?3:2,fill:"none",markerEnd:Xe?"url(#arrowhead-selected)":"url(#arrowhead)",className:"transition-colors"}),Xe&&w.type==="curved"&&w.controlPoints&&u.jsxs("g",{className:"control-handle",children:[u.jsx("path",{d:`M${W.x},${W.y} L${w.controlPoints[0].x},${w.controlPoints[0].y}`,stroke:"#3b82f6",strokeWidth:"1",strokeDasharray:"4 2",opacity:"0.5"}),u.jsx("path",{d:`M${F.x},${F.y} L${w.controlPoints[1].x},${w.controlPoints[1].y}`,stroke:"#3b82f6",strokeWidth:"1",strokeDasharray:"4 2",opacity:"0.5"}),u.jsxs("g",{className:"cursor-move",onMouseDown:Ee=>{Ee.stopPropagation(),Ee.preventDefault(),m({edgeId:w.id,index:0})},children:[u.jsx("circle",{cx:w.controlPoints[0].x,cy:w.controlPoints[0].y,r:"15",fill:"transparent"}),u.jsx("circle",{cx:w.controlPoints[0].x,cy:w.controlPoints[0].y,r:"6",fill:"#22c55e",stroke:"white",strokeWidth:"1"})]}),u.jsxs("g",{className:"cursor-move",onMouseDown:Ee=>{Ee.stopPropagation(),Ee.preventDefault(),m({edgeId:w.id,index:1})},children:[u.jsx("circle",{cx:w.controlPoints[1].x,cy:w.controlPoints[1].y,r:"15",fill:"transparent"}),u.jsx("circle",{cx:w.controlPoints[1].x,cy:w.controlPoints[1].y,r:"6",fill:"#22c55e",stroke:"white",strokeWidth:"1"})]})]}),w.label&&u.jsxs("g",{transform:`translate(${be}, ${qe})`,children:[u.jsx("rect",{x:"-20",y:"-10",width:"40",height:"20",fill:"#1f2937",rx:"4",stroke:Xe?"#3b82f6":"#374151"}),u.jsx("text",{x:"0",y:"4",textAnchor:"middle",fill:Xe?"#93c5fd":"#e5e7eb",fontSize:"10",fontWeight:"bold",style:{pointerEvents:"none"},children:w.label})]})]},w.id)}),H=n.find(w=>w.id===T),R=r.find(w=>w.id===I);return u.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-200 font-sans overflow-hidden",children:[u.jsxs("div",{className:"flex-none p-3 bg-gray-900 border-b border-gray-800 flex justify-between items-center z-20",children:[u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:()=>i([]),className:"p-2 hover:bg-gray-800 rounded text-gray-400 hover:text-red-400 transition-colors",title:"Clear Canvas",children:u.jsx(Tp,{className:"w-5 h-5"})}),u.jsx("div",{className:"h-8 w-px bg-gray-700 mx-2"}),u.jsxs("div",{className:"flex items-center bg-gray-800 rounded px-1",children:[u.jsx("button",{onClick:()=>s(Math.max(.5,a-.1)),className:"p-1.5 hover:text-white text-gray-400",children:"-"}),u.jsxs("span",{className:"text-xs font-mono text-gray-400 w-12 text-center",children:[Math.round(a*100),"%"]}),u.jsx("button",{onClick:()=>s(Math.min(2,a+.1)),className:"p-1.5 hover:text-white text-gray-400",children:"+"})]}),u.jsx("div",{className:"h-8 w-px bg-gray-700 mx-2"}),u.jsxs("button",{onClick:()=>M({active:!P.active,sourceId:null,sourceHandle:null}),className:`px-4 py-1.5 rounded text-sm font-bold flex items-center gap-2 border transition-all ${P.active?"bg-green-900/30 border-green-500 text-green-400":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:[u.jsx(Bt,{className:"w-4 h-4"}),P.active?"Linking...":"Connect Mode"]})]}),u.jsxs("button",{onClick:Je,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors",children:[u.jsx(MS,{className:"w-4 h-4"})," ",u.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden relative",children:[u.jsxs("div",{className:"order-2 md:order-1 flex-none w-full h-24 md:w-60 md:h-full bg-gray-900 border-t md:border-t-0 md:border-r border-gray-800 flex flex-row md:flex-col z-30 shadow-xl overflow-x-auto md:overflow-y-auto overflow-y-hidden",children:[u.jsx("div",{className:"hidden md:block p-3 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-800 bg-gray-900/50 sticky top-0",children:"Symbol Library"}),u.jsx("div",{className:"flex md:flex-col gap-2 p-2 min-w-max",children:wH.map(w=>u.jsxs("div",{draggable:!0,onDragStart:k=>J(k,w.type),onClick:()=>X(q===w.type?null:w.type),className:`
                                relative flex flex-col md:flex-row items-center gap-2 bg-gray-800 border p-2 md:p-3 rounded cursor-pointer transition-all min-w-[80px] md:min-w-0
                                ${q===w.type?"border-green-500 ring-1 ring-green-500 bg-gray-800":"border-gray-700 hover:bg-gray-700 hover:border-blue-500/50"}
                            `,children:[u.jsxs("div",{className:`w-8 h-8 flex items-center justify-center ${q===w.type?"text-green-500":"text-gray-400"}`,children:[w.shape==="diamond"&&u.jsx("div",{className:"w-4 h-4 border-2 border-current transform rotate-45"}),w.shape==="rect"&&u.jsx("div",{className:"w-6 h-4 border-2 border-current rounded-sm"}),w.shape==="capsule"&&u.jsx("div",{className:"w-6 h-4 border-2 border-current rounded-full"}),w.shape==="parallelogram"&&u.jsx("div",{className:"w-6 h-4 border-2 border-current transform -skew-x-12"}),w.shape==="cylinder"&&u.jsx("div",{className:"w-4 h-5 border-2 border-current rounded-[50%/10%]"}),w.shape==="document"&&u.jsx("div",{className:"w-4 h-5 border-2 border-current rounded-bl-lg"}),w.shape==="note"&&u.jsx("div",{className:"w-5 h-5 border-2 border-current bg-yellow-900/20"})]}),u.jsx("div",{className:"text-center md:text-left",children:u.jsx("span",{className:"text-[10px] md:text-sm font-medium block",children:w.label})}),q===w.type&&u.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full animate-pulse md:hidden"})]},w.type))})]}),u.jsxs("div",{ref:Y,className:"order-1 md:order-2 flex-1 relative bg-gray-950 overflow-hidden cursor-crosshair touch-none z-0",onDrop:Z,onDragOver:$,onMouseMove:oe,onMouseUp:ae,onClick:xe,onContextMenu:w=>w.preventDefault(),children:[u.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-20",children:[u.jsxs("defs",{children:[u.jsx("pattern",{id:"dot-pattern",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:u.jsx("circle",{cx:"2",cy:"2",r:"1",fill:"#4b5563"})}),u.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:u.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})}),u.jsx("marker",{id:"arrowhead-selected",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:u.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#3b82f6"})})]}),u.jsx("rect",{width:"100%",height:"100%",fill:"url(#dot-pattern)"})]}),u.jsx("svg",{ref:S,className:"w-full h-full absolute inset-0",children:u.jsxs("g",{id:"workflow-content",transform:`scale(${a})`,children:[L(),n.map(w=>u.jsxs("g",{transform:`translate(${w.x},${w.y})`,onMouseDown:k=>V(k,w.id),onTouchStart:()=>re(w.id),onTouchMove:Ce,onTouchEnd:ke,onContextMenu:k=>{k.preventDefault(),k.stopPropagation(),A(w.id),N(null)},className:`group ${P.active?"cursor-pointer":"cursor-move"}`,children:[E(w),u.jsx("foreignObject",{x:"0",y:"0",width:w.width||120,height:w.height||60,style:{pointerEvents:"none"},children:u.jsx("div",{className:`w-full h-full flex items-center justify-center text-xs text-center p-2 break-words leading-tight ${w.type==="note"?"text-yellow-900 font-serif italic":"text-white font-medium"}`,children:w.label})}),ce(w)]},w.id))]})}),P.active&&u.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white text-xs px-3 py-1 rounded-full shadow-lg pointer-events-none animate-bounce",children:P.sourceId?"Click Target Blue Dot":"Click Source Blue Dot"}),q&&u.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white text-xs px-3 py-1 rounded-full shadow-lg pointer-events-none animate-pulse",children:["Tap canvas to place ",q]})]}),(H||R)&&u.jsxs("div",{className:"absolute left-0 right-0 bottom-0 h-[45vh] md:h-auto md:inset-y-0 md:right-0 md:left-auto md:w-72 bg-gray-900 border-t md:border-t-0 md:border-l border-gray-800 p-4 flex flex-col z-40 shadow-2xl overflow-y-auto md:order-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-800 pb-2",children:[u.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:H?"Node Inspector":"Edge Inspector"}),u.jsx("button",{onClick:()=>{A(null),N(null)},className:"text-gray-500 hover:text-white",children:u.jsx(Jt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-4",children:[H&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Label Text"}),u.jsx("textarea",{value:H.label,onChange:w=>i(n.map(k=>k.id===H.id?{...k,label:w.target.value}:k)),className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-sm text-white focus:border-blue-500 focus:outline-none",rows:2})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Fill Color"}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:["#1f2937","#7f1d1d","#14532d","#1e3a8a","#713f12"].map(w=>u.jsx("button",{onClick:()=>i(n.map(k=>k.id===H.id?{...k,color:w}:k)),className:`w-6 h-6 rounded-full border border-gray-600 ${H.color===w?"ring-2 ring-white":""}`,style:{backgroundColor:w}},w))})]}),u.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-2 font-bold uppercase",children:"Position & Movement"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-[10px] text-gray-500 mr-1",children:"X"}),u.jsx("input",{type:"number",value:Math.round(H.x),onChange:w=>B(Number(w.target.value)-H.x,0),className:"w-full bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-white"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-[10px] text-gray-500 mr-1",children:"Y"}),u.jsx("input",{type:"number",value:Math.round(H.y),onChange:w=>B(0,Number(w.target.value)-H.y),className:"w-full bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-1 w-24 mx-auto",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>B(0,-10),className:"bg-gray-700 hover:bg-gray-600 p-1 rounded text-white active:bg-blue-600 flex justify-center",children:u.jsx(ir,{className:"w-4 h-4"})}),u.jsx("div",{}),u.jsx("button",{onClick:()=>B(-10,0),className:"bg-gray-700 hover:bg-gray-600 p-1 rounded text-white active:bg-blue-600 flex justify-center",children:u.jsx(ir,{className:"w-4 h-4 -rotate-90"})}),u.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full m-auto opacity-50"}),u.jsx("button",{onClick:()=>B(10,0),className:"bg-gray-700 hover:bg-gray-600 p-1 rounded text-white active:bg-blue-600 flex justify-center",children:u.jsx(ir,{className:"w-4 h-4 rotate-90"})}),u.jsx("div",{}),u.jsx("button",{onClick:()=>B(0,10),className:"bg-gray-700 hover:bg-gray-600 p-1 rounded text-white active:bg-blue-600 flex justify-center",children:u.jsx(ir,{className:"w-4 h-4 rotate-180"})}),u.jsx("div",{})]})]})]}),R&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Connection Label"}),u.jsx("input",{type:"text",value:R.label||"",onChange:w=>o(r.map(k=>k.id===R.id?{...k,label:w.target.value}:k)),placeholder:"e.g. True, Yes...",className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-sm text-white focus:border-blue-500 focus:outline-none"}),u.jsx("div",{className:"flex gap-2 mt-2",children:["True","False","Yes","No"].map(w=>u.jsx("button",{onClick:()=>o(r.map(k=>k.id===R.id?{...k,label:w}:k)),className:"px-2 py-1 text-[10px] bg-gray-800 hover:bg-gray-700 rounded border border-gray-700",children:w},w))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Line Style"}),u.jsxs("div",{className:"flex bg-gray-800 rounded border border-gray-700 p-1",children:[u.jsx("button",{onClick:()=>o(r.map(w=>w.id===R.id?{...w,type:"straight"}:w)),className:`flex-1 py-1 text-xs rounded ${!R.type||R.type==="straight"?"bg-gray-600 text-white":"text-gray-400"}`,children:"Straight"}),u.jsx("button",{onClick:()=>Te(R.id),className:`flex-1 py-1 text-xs rounded ${R.type==="curved"?"bg-gray-600 text-white":"text-gray-400"}`,children:"Curved"})]}),u.jsxs("p",{className:"text-[10px] text-green-400 mt-2 flex items-center gap-1",children:[u.jsx(wp,{className:"w-3 h-3"})," Drag green handles to sculpt."]})]})]}),u.jsx("div",{className:"pt-4 border-t border-gray-800 pb-10 md:pb-0",children:u.jsxs("button",{onClick:Me,className:"w-full bg-red-900/30 border border-red-900 text-red-400 py-2 rounded text-sm hover:bg-red-900/50 transition-colors flex justify-center items-center gap-2",children:[u.jsx(Tp,{className:"w-4 h-4"})," Delete ",H?"Node":"Connection"]})})]})]})]})]})},AH=({settings:e,conceptCache:t,setConceptCache:n,initialCommunityRequest:i,clearCommunityRequest:r,workflowState:o,setWorkflowState:a,onInternalNavigate:s})=>{const[l,c]=Q.useState("learn"),f=(m,p)=>{c("community"),s("community",p,m)};return tm.useEffect(()=>{i&&l!=="community"&&c("community")},[i]),u.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-primary)]",children:[u.jsx("div",{className:"flex-none bg-[var(--bg-secondary)] border-b border-[var(--border-color)] px-4",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsxs("button",{onClick:()=>c("learn"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm font-medium ${l==="learn"?"border-[var(--accent-primary)] text-[var(--accent-primary)]":"border-transparent text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(LS,{className:"w-4 h-4"}),"Learn & Play"]}),u.jsxs("button",{onClick:()=>c("community"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm font-medium ${l==="community"?"border-orange-500 text-orange-500":"border-transparent text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(fg,{className:"w-4 h-4"}),"Community"]}),u.jsxs("button",{onClick:()=>c("workflow"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm font-medium ${l==="workflow"?"border-purple-500 text-purple-500":"border-transparent text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[u.jsx(ZM,{className:"w-4 h-4"}),"Workflow"]})]})}),u.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[l==="learn"&&u.jsx(CH,{settings:e,conceptCache:t,setConceptCache:n,onNavigateToCommunity:f}),l==="community"&&u.jsx(TH,{settings:e,initialRequest:i,clearInitialRequest:r}),l==="workflow"&&u.jsx(EH,{workflowState:o,setWorkflowState:a})]})]})},fh={},Mb={role:"bruno",text:"Hi! I'm Bruno. I can help you clarify code concepts or debug logic. Try speaking or typing!"},NH=({settings:e,activeFile:t})=>{const[n,i]=Q.useState(!1),[r,o]=Q.useState([Mb]),[a,s]=Q.useState(""),[l,c]=Q.useState(!1),[f,m]=Q.useState(!1),p=Q.useRef(null),g=Q.useRef(null);Q.useEffect(()=>{n&&p.current&&p.current.scrollIntoView({behavior:"smooth"})},[r,n]),Q.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const y=window.SpeechRecognition||window.webkitSpeechRecognition;g.current=new y,g.current.continuous=!1,g.current.interimResults=!1,g.current.lang="en-US",g.current.onresult=_=>{const T=_.results[0][0].transcript;s(T),c(!1)},g.current.onerror=()=>c(!1),g.current.onend=()=>c(!1)}},[]);const b=()=>{if(!g.current){alert("Voice recognition not supported in this browser.");return}l?g.current.stop():(c(!0),g.current.start())},x=()=>{o([Mb]),m(!1)},C=async()=>{if(!a.trim())return;const y=a;o(A=>[...A,{role:"user",text:y}]),s(""),m(!0);const T=localStorage.getItem("b_code_walker_api_key")||(fh==null?void 0:fh.VITE_API_KEY);if(!T){o(A=>[...A,{role:"bruno",text:"I need an API key to think! Please go to the Settings tab and add your Google GenAI Key."}]),m(!1);return}try{const A=new ri({apiKey:T}),I=t?`
CURRENT EDITOR FILE CONTEXT:
File Name: ${t.name}
Code:
\`\`\`
${t.content}
\`\`\`
`:"No active file open.",N=r.slice(-4).map(X=>`${X.role==="user"?"User":"Bruno"}: ${X.text}`).join(`
`),P=`
        You are Bruno, a helpful coding assistant in the b-code-walker IDE.
        Be concise, friendly, and helpful. 
        You can use Markdown for code blocks (using \`\`\`language) and bold text.
        ${I}
        
        Conversation History:
        ${N}
        User: ${y}
        Bruno:
      `,q=(await A.models.generateContent({model:e.activeModel,contents:P})).text||"I'm not sure what to say.";o(X=>[...X,{role:"bruno",text:q}])}catch(A){console.error(A),o(I=>[...I,{role:"bruno",text:"My brain is offline. Check your API key in Settings."}])}finally{m(!1)}},v=y=>y.split(/(```[\s\S]*?```)/g).map((T,A)=>{if(T.startsWith("```")){const I=T.match(/```(\w*)\n([\s\S]*?)```/),N=(I==null?void 0:I[1])||"text",P=(I==null?void 0:I[2])||T.replace(/```.*/g,"").trim();let M="";try{M=Dt.highlight(P,Dt.languages[N]||Dt.languages.javascript,N)}catch{M=P}return u.jsxs("div",{className:"my-2 rounded-md overflow-hidden border border-white/10 bg-[#1e1e1e] flex flex-col group text-left max-w-full",children:[u.jsxs("div",{className:"flex justify-between items-center bg-[#2d2d2d] px-2 py-1 border-b border-white/5 select-none",children:[u.jsx("span",{className:"text-[9px] text-gray-400 font-mono uppercase",children:N}),u.jsxs("button",{onClick:()=>navigator.clipboard.writeText(P),className:"flex items-center gap-1 text-[9px] text-gray-400 hover:text-white transition-colors opacity-0 group-hover:opacity-100 bg-white/5 px-1.5 py-0.5 rounded hover:bg-white/10",children:[u.jsx(Fn,{className:"w-3 h-3"})," Copy"]})]}),u.jsx("pre",{className:"p-2 overflow-x-auto text-[10px] font-mono text-gray-300 custom-scrollbar m-0",children:u.jsx("code",{dangerouslySetInnerHTML:{__html:M}})})]},A)}return u.jsx("div",{className:"whitespace-pre-wrap break-words min-w-0",children:T.split(/(`[^`]+`|\*\*[^*]+\*\*)/g).map((I,N)=>I.startsWith("`")&&I.endsWith("`")?u.jsx("code",{className:"bg-black/20 px-1 py-0.5 rounded font-mono text-[0.9em] mx-0.5",children:I.slice(1,-1)},N):I.startsWith("**")&&I.endsWith("**")?u.jsx("strong",{className:"font-bold",children:I.slice(2,-2)},N):I)},A)});return u.jsxs("div",{className:"fixed bottom-20 right-4 md:bottom-6 md:right-6 z-[60] flex flex-col items-end pointer-events-none",children:[n&&u.jsxs("div",{className:"pointer-events-auto mb-4 w-80 max-w-[90vw] h-96 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-fade-in origin-bottom-right",children:[u.jsxs("div",{className:"p-3 bg-[var(--bg-tertiary)] border-b border-[var(--border-color)] flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"font-bold text-sm text-[var(--text-primary)]",children:"Bruno"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:x,className:"text-[var(--text-secondary)] hover:text-red-400 p-1 rounded",title:"Reset Chat",children:u.jsx(Tp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>i(!1),className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)] p-1 rounded",children:u.jsx(Jt,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-[var(--bg-primary)]",children:[r.map((y,_)=>u.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[90%] p-2.5 rounded-lg text-xs leading-relaxed overflow-hidden ${y.role==="user"?"bg-[var(--accent-primary)] text-white":"bg-[var(--bg-tertiary)] text-[var(--text-primary)] border border-[var(--border-color)]"}`,children:v(y.text)})},_)),f&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg text-xs text-[var(--text-secondary)] italic flex items-center gap-1 border border-[var(--border-color)]",children:[u.jsx(sr,{className:"w-3 h-3 animate-spin"})," Thinking..."]})}),u.jsx("div",{ref:p})]}),u.jsxs("div",{className:"p-2 bg-[var(--bg-secondary)] border-t border-[var(--border-color)] flex gap-2",children:[u.jsx("button",{onClick:b,className:`p-2 rounded-full transition-colors ${l?"bg-red-500 text-white animate-pulse":"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:bg-[var(--bg-primary)]"}`,children:u.jsx(WM,{className:"w-4 h-4"})}),u.jsx("input",{type:"text",value:a,onChange:y=>s(y.target.value),onKeyDown:y=>y.key==="Enter"&&C(),placeholder:"Ask Bruno...",className:"flex-1 bg-[var(--bg-tertiary)] rounded-full px-3 text-xs text-[var(--text-primary)] focus:outline-none focus:border-[var(--accent-primary)] border border-transparent"}),u.jsx("button",{onClick:C,disabled:!a.trim(),className:"p-2 rounded-full bg-[var(--accent-primary)] text-white disabled:opacity-50 hover:opacity-90 transition-opacity",children:u.jsx(Hu,{className:"w-4 h-4"})})]})]}),u.jsxs("button",{onClick:()=>i(!n),className:"pointer-events-auto w-14 h-14 rounded-full bg-[var(--accent-primary)] text-white shadow-lg hover:scale-110 transition-transform flex items-center justify-center relative group",children:[n?u.jsx(Jt,{className:"w-6 h-6"}):u.jsx(cg,{className:"w-6 h-6"}),!n&&u.jsxs("span",{className:"absolute right-0 top-0 flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-400"})]})]})]})},Jp=(e,t="")=>Array.isArray(e)?e.map((n,i)=>{const r=`${t}-${i}-${Math.random().toString(36).substr(2,9)}`;return{...n,id:r,children:n.children?Jp(n.children,r):[]}}):[],kH=()=>{const[e,t]=Q.useState(at.EDITOR),[n,i]=Q.useState(!1),[r,o]=Q.useState(null),[a,s]=Q.useState(!1),l=Q.useRef(null),c=()=>{if(l.current&&clearTimeout(l.current),window.innerWidth>=768){s(!1);return}l.current=setTimeout(()=>{s(!0)},4e3)},f=ce=>{if(window.innerWidth>=768)return;const E="touches"in ce?ce.touches[0].clientY:ce.clientY,L=window.innerHeight;(E<200||E>L-80)&&(s(!1),c())};Q.useEffect(()=>{c(),window.addEventListener("touchstart",f),window.addEventListener("mousemove",f);const ce=()=>{window.innerWidth>=768&&(s(!1),l.current&&clearTimeout(l.current))};return window.addEventListener("resize",ce),()=>{window.removeEventListener("touchstart",f),window.removeEventListener("mousemove",f),window.removeEventListener("resize",ce),l.current&&clearTimeout(l.current)}},[]);const[m,p]=Q.useState([{id:"1",name:"new file",language:pt.JAVASCRIPT,content:"",history:[""],historyIndex:0}]),[g,b]=Q.useState("1"),[x,C]=Q.useState([]),[v,y]=Q.useState(null),[_,T]=Q.useState({}),[A,I]=Q.useState({nodes:[],edges:[],zoom:1}),[N,P]=Q.useState({uploadedImage:null,imageAspectRatio:16/9,widgetImages:{},cropOverrides:{},promptInputs:{},generatedColors:{},generatedTextures:{},generatedExplanations:{},extractionMode:"color",showCropControls:null}),[M,q]=Q.useState({isOpen:!1,type:"info",title:"",onConfirm:()=>{}}),X=()=>q(ce=>({...ce,isOpen:!1})),D=ce=>{q({isOpen:!0,type:"info",title:"Notification",message:ce,onConfirm:()=>{}})},[Y,S]=Q.useState(()=>{try{const ce=localStorage.getItem("b_code_walker_settings"),E=ce?JSON.parse(ce):{};return{theme:"dark",activeModel:"gemini-2.5-flash",autoDownloadEnabled:!1,autoDownloadInterval:60,autoDownloadFileId:null,autoSaveToBrowser:!1,autoExportSessionEnabled:!1,autoExportSessionInterval:300,customColors:{bgPrimary:"#111827",bgSecondary:"#1f2937",bgTertiary:"#374151",textPrimary:"#f3f4f6",textSecondary:"#9ca3af",borderColor:"#374151",accentPrimary:"#2563eb",accentSecondary:"#60a5fa",textures:{}},...E}}catch{return{theme:"dark",activeModel:"gemini-2.5-flash",autoDownloadEnabled:!1,autoDownloadInterval:60,autoDownloadFileId:null,autoSaveToBrowser:!1,autoExportSessionEnabled:!1,autoExportSessionInterval:300,customColors:{bgPrimary:"#111827",bgSecondary:"#1f2937",bgTertiary:"#374151",textPrimary:"#f3f4f6",textSecondary:"#9ca3af",borderColor:"#374151",accentPrimary:"#2563eb",accentSecondary:"#60a5fa",textures:{}}}}});Q.useEffect(()=>{localStorage.setItem("b_code_walker_settings",JSON.stringify(Y))},[Y]);const O=Q.useRef(m),B=Q.useRef(x),U=Q.useRef(Y),J=Q.useRef(N),z=Q.useRef(_),Z=Q.useRef(A);Q.useEffect(()=>{O.current=m,B.current=x,U.current=Y,J.current=N,z.current=_,Z.current=A},[m,x,Y,N,_,A]),Q.useEffect(()=>{if(!Y.autoDownloadEnabled||Y.autoDownloadInterval<5||!Y.autoDownloadFileId)return;const ce=setInterval(()=>{const E=O.current,L=U.current.autoDownloadFileId,H=E.find(R=>R.id===L);if(H){const R=new Blob([H.content],{type:"text/plain"}),w=URL.createObjectURL(R),k=document.createElement("a");k.href=w,k.download=H.name,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(w)}},Y.autoDownloadInterval*1e3);return()=>clearInterval(ce)},[Y.autoDownloadEnabled,Y.autoDownloadInterval,Y.autoDownloadFileId]),Q.useEffect(()=>{if(!Y.autoSaveToBrowser)return;const ce=setTimeout(()=>{const E={...N,uploadedImage:null,widgetImages:{}},L={version:2,name:"Auto-Save",timestamp:Date.now(),files:m.map(H=>({...H,history:[H.content],historyIndex:0})),aiPlans:x,settings:Y,themeStudioState:E,conceptCache:_,workflowState:A};try{localStorage.setItem("bcw_autosave",JSON.stringify(L)),localStorage.setItem("bcw_autosave_ts",Date.now().toString())}catch(H){console.warn("Auto-save failed (Storage Full)",H)}},5e3);return()=>clearTimeout(ce)},[m,x,Y,N,_,A,Y.autoSaveToBrowser]),Q.useEffect(()=>{if(!Y.autoExportSessionEnabled||Y.autoExportSessionInterval<10)return;const ce=setInterval(async()=>{const E={version:2,name:`autosave-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}`,timestamp:Date.now(),files:O.current,aiPlans:B.current,settings:U.current,themeStudioState:J.current,conceptCache:z.current,workflowState:Z.current},L=new Xc;L.file("session.json",JSON.stringify(E,null,2));const H=L.folder("files");E.files.forEach(R=>{H==null||H.file(R.name,R.content)});try{const R=await L.generateAsync({type:"blob"}),w=URL.createObjectURL(R),k=document.createElement("a");k.href=w,k.download=`${E.name}.bcw.zip`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(w)}catch(R){console.error("Auto-export error:",R)}},Y.autoExportSessionInterval*1e3);return()=>clearInterval(ce)},[Y.autoExportSessionEnabled,Y.autoExportSessionInterval]);const $=()=>{if(Y.theme==="custom"){const L=Y.customColors,H=L.textures||{};return`
          --bg-primary: ${L.bgPrimary};
          --bg-primary-tex: ${H.bgPrimary?`url(${H.bgPrimary})`:"none"};
          --bg-secondary: ${L.bgSecondary};
          --bg-secondary-tex: ${H.bgSecondary?`url(${H.bgSecondary})`:"none"};
          --bg-tertiary: ${L.bgTertiary};
          --bg-tertiary-tex: ${H.bgTertiary?`url(${H.bgTertiary})`:"none"};
          --text-primary: ${L.textPrimary};
          --text-secondary: ${L.textSecondary};
          --border-color: ${L.borderColor};
          --editor-bg: ${L.bgPrimary};
          --tab-active: ${L.bgPrimary};
          --tab-inactive: ${L.bgSecondary};
          --accent-primary: ${L.accentPrimary};
          --accent-primary-tex: ${H.accentPrimary?`url(${H.accentPrimary})`:"none"};
          --accent-secondary: ${L.accentSecondary};
        `}const ce={light:{"--bg-primary":"#ffffff","--bg-secondary":"#f3f4f6","--bg-tertiary":"#e5e7eb","--text-primary":"#111827","--text-secondary":"#4b5563","--border-color":"#d1d5db","--editor-bg":"#f9fafb","--tab-active":"#ffffff","--tab-inactive":"#e5e7eb","--accent-primary":"#2563eb","--accent-secondary":"#60a5fa"},midnight:{"--bg-primary":"#0f172a","--bg-secondary":"#1e293b","--bg-tertiary":"#334155","--text-primary":"#f8fafc","--text-secondary":"#94a3b8","--border-color":"#334155","--editor-bg":"#0f172a","--tab-active":"#0f172a","--tab-inactive":"#1e293b","--accent-primary":"#3b82f6","--accent-secondary":"#93c5fd"},forest:{"--bg-primary":"#051a15","--bg-secondary":"#0a2923","--bg-tertiary":"#124037","--text-primary":"#ecfdf5","--text-secondary":"#6ee7b7","--border-color":"#064e3b","--editor-bg":"#051a15","--tab-active":"#051a15","--tab-inactive":"#0a2923","--accent-primary":"#10b981","--accent-secondary":"#34d399"},synthwave:{"--bg-primary":"#1a0b2e","--bg-secondary":"#2e1065","--bg-tertiary":"#4c1d95","--text-primary":"#fdf4ff","--text-secondary":"#e879f9","--border-color":"#701a75","--editor-bg":"#1a0b2e","--tab-active":"#1a0b2e","--tab-inactive":"#2e1065","--accent-primary":"#d946ef","--accent-secondary":"#f0abfc"},dark:{"--bg-primary":"#111827","--bg-secondary":"#1f2937","--bg-tertiary":"#374151","--text-primary":"#f3f4f6","--text-secondary":"#9ca3af","--border-color":"#374151","--editor-bg":"#111827","--tab-active":"#111827","--tab-inactive":"#1f2937","--accent-primary":"#2563eb","--accent-secondary":"#60a5fa"}},E=ce[Y.theme]||ce.dark;return Object.entries(E).map(([L,H])=>`${L}: ${H};`).join(`
`)},[V,oe]=Q.useState([]);Q.useEffect(()=>{if(n){const ce=Object.keys(localStorage).filter(L=>L.startsWith("bcw_session_")),E=localStorage.getItem("bcw_autosave")?["Auto-Save (Browser Memory)"]:[];oe([...E,...ce.map(L=>L.replace("bcw_session_",""))])}},[n]);const ae=()=>{q({isOpen:!0,type:"prompt",title:"Save Session",message:"Enter a name for this workspace session:",inputValue:`session-${new Date().toISOString().slice(0,10)}`,onConfirm:ce=>{ce&&re(ce)}})},re=async ce=>{try{const E=m.map(w=>({...w,history:[w.content],historyIndex:0})),L={...N,uploadedImage:null,widgetImages:{}},H={version:2,name:ce,timestamp:Date.now(),files:E,aiPlans:x,settings:Y,themeStudioState:L,conceptCache:_,workflowState:A},R=JSON.stringify(H);if(R.length>45e5)throw new Error("Quota Exceeded");localStorage.setItem(`bcw_session_${ce}`,R),oe(w=>w.includes(ce)?w:[...w,ce]),D("Session saved! (Note: Large images are not saved to browser memory to save space. Use Export ZIP for full backup.)")}catch(E){E.name==="QuotaExceededError"||E.message==="Quota Exceeded"?D('Failed to save: Browser Storage is full. Try "Export ZIP" instead.'):D("Failed to save session due to an error.")}},Ce=ce=>{var L;let E;if(ce==="Auto-Save (Browser Memory)"?E=localStorage.getItem("bcw_autosave"):E=localStorage.getItem(`bcw_session_${ce}`),E)try{const H=JSON.parse(E);p(H.files);const R=(H.aiPlans||[]).map(w=>({...w,blocks:Jp(w.blocks||[],`restored-${w.id}`)}));C(R),S(H.settings),H.themeStudioState&&P(H.themeStudioState),H.conceptCache&&T(H.conceptCache),H.workflowState&&I(H.workflowState),b(((L=H.files[0])==null?void 0:L.id)||"1"),i(!1)}catch{D("Failed to load session")}},ke=ce=>{ce!=="Auto-Save (Browser Memory)"&&q({isOpen:!0,type:"danger",title:"Delete Session",message:`Delete session "${ce}"?`,confirmText:"Delete",onConfirm:()=>{localStorage.removeItem(`bcw_session_${ce}`),oe(E=>E.filter(L=>L!==ce))}})},xe=async ce=>{const E=ce||`session-${new Date().toISOString().slice(0,10)}`,L=new Xc,H={version:2,name:E,timestamp:Date.now(),files:m,aiPlans:x,settings:Y,themeStudioState:N,conceptCache:_,workflowState:A};L.file("session.json",JSON.stringify(H,null,2));const R=L.folder("files");m.forEach(W=>{R==null||R.file(W.name,W.content)});const w=await L.generateAsync({type:"blob"}),k=URL.createObjectURL(w),j=document.createElement("a");j.href=k,j.download=`${E}.bcw.zip`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(k)},Se=async ce=>{var E;try{const H=(await Xc.loadAsync(ce)).file("session.json");if(!H)throw new Error("Invalid session file");const R=await H.async("string"),w=JSON.parse(R);p(w.files);const k=(w.aiPlans||[]).map(j=>({...j,blocks:Jp(j.blocks||[],`imported-${j.id}`)}));C(k),S(w.settings),w.themeStudioState&&P(w.themeStudioState),w.conceptCache&&T(w.conceptCache),w.workflowState&&I(w.workflowState),b(((E=w.files[0])==null?void 0:E.id)||"1"),i(!1),D("Session Imported Successfully!")}catch(L){console.error(L),D("Failed to import session.")}},Me=Q.useRef(null),Te=(ce,E)=>({background:`var(${E}, none) center/cover no-repeat, var(${ce})`,backgroundBlendMode:"overlay"}),Je=m.find(ce=>ce.id===g)||m[0];return u.jsxs("div",{className:"flex flex-col h-full bg-[var(--bg-primary)] text-[var(--text-primary)] font-sans transition-colors duration-300",children:[u.jsx("style",{children:`:root { ${$()} }`}),u.jsx(BS,{isOpen:M.isOpen,type:M.type,title:M.title,message:M.message,onConfirm:M.onConfirm,onClose:X,initialValue:M.inputValue,confirmText:M.confirmText}),u.jsx(NH,{settings:Y,activeFile:Je}),u.jsx("header",{className:`flex-none border-b border-[var(--border-color)] shadow-md transition-all duration-500 ease-in-out z-40 ${a?"-mt-14 opacity-0 pointer-events-none":"mt-0 opacity-100"}`,style:Te("--bg-secondary","--bg-secondary-tex"),children:u.jsxs("div",{className:"flex items-center justify-between px-4 h-14 bg-transparent",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-sm",style:Te("--accent-primary","--accent-primary-tex"),children:u.jsx("span",{className:"font-bold text-white text-lg drop-shadow-md",children:"<>"})}),u.jsx("h1",{className:"font-bold text-lg tracking-tight hidden sm:block text-[var(--text-primary)] drop-shadow-sm",children:"b-code-walker"})]}),u.jsxs("nav",{className:"hidden md:flex space-x-1 h-full pt-2 overflow-x-auto no-scrollbar",children:[u.jsxs("button",{onClick:()=>t(at.EDITOR),className:`
                  group flex items-center space-x-2 px-4 py-2 rounded-t-lg border-t border-l border-r border-transparent transition-all backdrop-blur-sm whitespace-nowrap
                  ${e===at.EDITOR?"bg-[var(--bg-primary)] border-[var(--border-color)] text-[var(--accent-secondary)] font-medium":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]/50"}
                `,style:e===at.EDITOR?Te("--bg-primary","--bg-primary-tex"):{},children:[u.jsx(Fa,{className:"w-5 h-5"}),u.jsx("span",{children:"Editor"})]}),u.jsxs("button",{onClick:()=>t(at.SECONDARY),className:`
                  group flex items-center space-x-2 px-4 py-2 rounded-t-lg border-t border-l border-r border-transparent transition-all backdrop-blur-sm whitespace-nowrap
                  ${e===at.SECONDARY?"bg-[var(--bg-primary)] border-[var(--border-color)] text-[var(--accent-secondary)] font-medium":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]/50"}
                `,style:e===at.SECONDARY?Te("--bg-primary","--bg-primary-tex"):{},children:[u.jsx(Fn,{className:"w-5 h-5"}),u.jsx("span",{children:"Visualizer"}),x.length>0&&u.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-[var(--accent-primary)] text-white text-[10px] rounded-full shadow-sm",children:x.length})]}),u.jsxs("button",{onClick:()=>t(at.WORKSHOP),className:`
                  group flex items-center space-x-2 px-4 py-2 rounded-t-lg border-t border-l border-r border-transparent transition-all backdrop-blur-sm whitespace-nowrap
                  ${e===at.WORKSHOP?"bg-[var(--bg-primary)] border-[var(--border-color)] text-orange-400 font-medium":"text-[var(--text-secondary)] hover:text-orange-400 hover:bg-[var(--bg-tertiary)]/50"}
                `,style:e===at.WORKSHOP?Te("--bg-primary","--bg-primary-tex"):{},children:[u.jsx(wp,{className:"w-5 h-5"}),u.jsx("span",{children:"Workshop"})]}),u.jsxs("button",{onClick:()=>t(at.SETTINGS),className:`
                  group flex items-center space-x-2 px-4 py-2 rounded-t-lg border-t border-l border-r border-transparent transition-all backdrop-blur-sm whitespace-nowrap
                  ${e===at.SETTINGS?"bg-[var(--bg-primary)] border-[var(--border-color)] text-[var(--accent-secondary)] font-medium":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]/50"}
                `,style:e===at.SETTINGS?Te("--bg-primary","--bg-primary-tex"):{},children:[u.jsx(cx,{className:"w-5 h-5"}),u.jsx("span",{children:"Settings"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-3 py-1 bg-[var(--bg-tertiary)]/80 hover:bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:text-[var(--accent-secondary)] rounded border border-[var(--border-color)] text-xs font-medium transition-colors backdrop-blur-sm",children:[u.jsx(_a,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Sessions"})]}),u.jsxs("div",{className:"flex items-center bg-[var(--bg-tertiary)]/80 rounded-md border border-[var(--border-color)] px-2 py-1 backdrop-blur-sm",children:[u.jsx(sr,{className:"w-4 h-4 text-[var(--accent-secondary)] mr-2"}),u.jsxs("select",{value:Y.activeModel,onChange:ce=>S({...Y,activeModel:ce.target.value}),className:"bg-transparent text-xs text-[var(--text-primary)] focus:outline-none cursor-pointer border-none font-medium min-w-[50px] sm:min-w-[140px]",children:[u.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash"}),u.jsx("option",{value:"gemini-2.5-pro",children:"Gemini 2.5 Pro"}),u.jsx("option",{value:"gemini-3-flash-preview",children:"Gemini 3.0 Flash"}),u.jsx("option",{value:"gemini-3-pro-preview",children:"Gemini 3.0 Pro"})]})]})]})]})}),u.jsxs("main",{className:`flex-1 overflow-hidden relative transition-all duration-500 ease-in-out ${a?"pb-0":"pb-16"} md:pb-0`,style:Te("--bg-primary","--bg-primary-tex"),children:[e===at.EDITOR&&u.jsx(sL,{files:m,setFiles:p,activeFileId:g,setActiveFileId:b,settings:Y,aiPlans:x,setAiPlans:C,activePlanId:v,setActivePlanId:y}),e===at.SECONDARY&&u.jsx(_H,{aiPlans:x,setAiPlans:C,activePlanId:v,setActivePlanId:y}),e===at.WORKSHOP&&u.jsx(AH,{settings:Y,conceptCache:_,setConceptCache:T,initialCommunityRequest:r,clearCommunityRequest:()=>o(null),workflowState:A,setWorkflowState:I,onInternalNavigate:(ce,E,L)=>{ce==="community"&&E&&o({type:L||"discussion",topic:E})}}),e===at.SETTINGS&&u.jsx(uL,{settings:Y,setSettings:S,files:m,themeStudioState:N,setThemeStudioState:P})]}),u.jsxs("nav",{className:`md:hidden fixed bottom-0 left-0 right-0 h-16 bg-[var(--bg-secondary)] border-t border-[var(--border-color)] flex justify-around items-center z-[50] transition-all duration-500 ease-in-out ${a?"translate-y-full opacity-0":"translate-y-0 opacity-100"}`,style:Te("--bg-secondary","--bg-secondary-tex"),children:[u.jsxs("button",{onClick:()=>t(at.EDITOR),className:`flex flex-col items-center justify-center w-full h-full ${e===at.EDITOR?"text-[var(--accent-secondary)]":"text-[var(--text-secondary)]"}`,children:[u.jsx(Fa,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-[10px]",children:"Code"})]}),u.jsxs("button",{onClick:()=>t(at.SECONDARY),className:`flex flex-col items-center justify-center w-full h-full relative ${e===at.SECONDARY?"text-[var(--accent-secondary)]":"text-[var(--text-secondary)]"}`,children:[u.jsx(Fn,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-[10px]",children:"Visuals"}),x.length>0&&u.jsx("span",{className:"absolute top-2 right-4 w-2 h-2 bg-[var(--accent-primary)] rounded-full"})]}),u.jsxs("button",{onClick:()=>t(at.WORKSHOP),className:`flex flex-col items-center justify-center w-full h-full ${e===at.WORKSHOP?"text-orange-400":"text-[var(--text-secondary)]"}`,children:[u.jsx(wp,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-[10px]",children:"Workshop"})]}),u.jsxs("button",{onClick:()=>t(at.SETTINGS),className:`flex flex-col items-center justify-center w-full h-full ${e===at.SETTINGS?"text-[var(--accent-secondary)]":"text-[var(--text-secondary)]"}`,children:[u.jsx(cx,{className:"w-6 h-6 mb-1"}),u.jsx("span",{className:"text-[10px]",children:"Settings"})]})]}),n&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:u.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[u.jsxs("div",{className:"p-4 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-tertiary)]",children:[u.jsx("h3",{className:"font-bold text-[var(--text-primary)]",children:"Session Manager"}),u.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-red-500/20 hover:text-red-400 rounded",children:u.jsx(Jt,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-4 flex-1 overflow-y-auto space-y-4",children:[u.jsxs("div",{className:"p-4 rounded bg-[var(--bg-primary)] border border-[var(--border-color)]",children:[u.jsx("h4",{className:"text-xs font-bold uppercase text-[var(--text-secondary)] mb-3",children:"Current Workspace"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ae,className:"flex-1 bg-[var(--accent-primary)] hover:opacity-90 text-white px-3 py-2 rounded text-sm flex items-center justify-center gap-2",children:[u.jsx(jn,{className:"w-4 h-4"})," Save Local"]}),u.jsxs("button",{onClick:()=>xe(),className:"flex-1 bg-[var(--bg-tertiary)] hover:bg-[var(--bg-secondary)] border border-[var(--border-color)] text-[var(--text-primary)] px-3 py-2 rounded text-sm flex items-center justify-center gap-2",children:[u.jsx(Fn,{className:"w-4 h-4"})," Export ZIP"]})]})]}),u.jsxs("div",{className:"p-4 rounded bg-[var(--bg-primary)] border border-[var(--border-color)] border-dashed",children:[u.jsx("input",{type:"file",ref:Me,className:"hidden",accept:".zip",onChange:ce=>{var E;(E=ce.target.files)!=null&&E[0]&&Se(ce.target.files[0]),ce.target.value=""}}),u.jsxs("button",{onClick:()=>{var ce;return(ce=Me.current)==null?void 0:ce.click()},className:"w-full text-[var(--text-secondary)] hover:text-[var(--accent-secondary)] text-sm flex flex-col items-center gap-2 py-4",children:[u.jsx(Bt,{className:"w-6 h-6"}),u.jsx("span",{children:"Click to Import Session (.zip)"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-bold uppercase text-[var(--text-secondary)] mb-2",children:"Saved Sessions"}),V.length===0?u.jsx("p",{className:"text-xs text-[var(--text-secondary)] italic",children:"No locally saved sessions found."}):u.jsx("div",{className:"space-y-2",children:V.map(ce=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-[var(--bg-primary)] border border-[var(--border-color)] rounded",children:[u.jsx("span",{className:`text-sm font-medium pl-2 ${ce==="Auto-Save (Browser Memory)"?"text-[var(--accent-secondary)] italic":""}`,children:ce}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>Ce(ce),className:"px-2 py-1 text-xs bg-green-900/30 text-green-400 border border-green-800 rounded hover:bg-green-900/50",children:"Load"}),u.jsx("button",{onClick:()=>xe(ce),className:"p-1 text-[var(--accent-secondary)] hover:bg-[var(--bg-tertiary)] rounded",title:"Download Zip",children:u.jsx(Fn,{className:"w-4 h-4"})}),ce!=="Auto-Save (Browser Memory)"&&u.jsx("button",{onClick:()=>ke(ce),className:"p-1 text-red-400 hover:bg-red-900/30 rounded",title:"Delete",children:u.jsx(Jt,{className:"w-4 h-4"})})]})]},ce))})]})]})]})})]})},aE=document.getElementById("root");if(!aE)throw new Error("Could not find root element to mount to");const RH=f5.createRoot(aE);RH.render(u.jsx(tm.StrictMode,{children:u.jsx(kH,{})}));export{gg as $,nl as A,ol as B,s7 as C,a7 as D,t7 as E,LB as F,HH as G,f7 as H,bP as I,a6 as J,mg as K,QS as L,Gl as M,nT as N,IH as O,Ot as P,Rl as Q,Sn as R,Gn as S,mL as T,m7 as U,PH as V,lw as W,Bg as X,eP as Y,WU as Z,Fi as _,o7 as a,os as a$,Er as a0,Tx as a1,h6 as a2,Tl as a3,fb as a4,$H as a5,rP as a6,vP as a7,Oo as a8,YO as a9,Rx as aA,UH as aB,FH as aC,MH as aD,LH as aE,jH as aF,BH as aG,zH as aH,De as aI,Bi as aJ,Wl as aK,rs as aL,Zu as aM,MO as aN,vU as aO,Yl as aP,ed as aQ,EO as aR,DT as aS,RF as aT,IF as aU,ho as aV,eb as aW,MF as aX,Ag as aY,kF as aZ,BF as a_,zO as aa,WO as ab,JO as ac,jT as ad,$d as ae,Yd as af,td as ag,AF as ah,Eg as ai,$T as aj,zT as ak,wO as al,_O as am,jO as an,XO as ao,Jl as ap,Tc as aq,JH as ar,Vl as as,Ae as at,Ie as au,l7 as av,bg as aw,DH as ax,OH as ay,Ix as az,i7 as b,no as b0,Jx as b1,Ng as b2,FT as b3,$p as b4,zF as b5,sh as b6,RP as b7,dL as b8,n7 as c,Wn as d,Iw as e,tn as f,zg as g,id as h,Ha as i,PS as j,Mg as k,Re as l,wP as m,RB as n,Xz as o,yP as p,uP as q,ZT as r,r7 as s,HU as t,WH as u,ZS as v,SP as w,SL as x,JF as y,wg as z};
